!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(D,t){"use strict";function m(t,e,n){var i,o,r=(n=n||_t).createElement("script");if(r.text=t,e)for(i in Tt)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function g(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[pt.call(t)]||"object":typeof t}function s(t){var e=!!t&&"length"in t&&t.length,n=g(t);return!bt(t)&&!Et(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function c(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function e(t,n,i){return bt(n)?Dt.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?Dt.grep(t,function(t){return t===n!==i}):"string"!=typeof n?Dt.grep(t,function(t){return-1<ht.call(n,t)!==i}):Dt.filter(n,t,i)}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var n={};return Dt.each(t.match(Nt)||[],function(t,e){n[e]=!0}),n}function d(t){return t}function h(t){throw t}function l(t,e,n,i){var o;try{t&&bt(o=t.promise)?o.call(t).done(e).fail(n):t&&bt(o=t.then)?o.call(t,e,n):e.apply(undefined,[t].slice(i))}catch(t){n.apply(undefined,[t])}}function i(){_t.removeEventListener("DOMContentLoaded",i),D.removeEventListener("load",i),Dt.ready()}function o(t,e){return e.toUpperCase()}function f(t){return t.replace(Mt,"ms-").replace($t,o)}function r(){this.expando=Dt.expando+r.uid++}function a(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:qt.test(t)?JSON.parse(t):t)}function p(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(Ht,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=a(n)}catch(o){}zt.set(t,e,n)}else n=undefined;return n}function v(t,e,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return Dt.css(t,e,"")},l=s(),c=n&&n[3]||(Dt.cssNumber[e]?"":"px"),u=t.nodeType&&(Dt.cssNumber[e]||"px"!==c&&+l)&&Wt.exec(Dt.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)Dt.style(t,e,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;u*=2,Dt.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function y(t){var e,n=t.ownerDocument,i=t.nodeName,o=Qt[i];return o||(e=n.body.appendChild(n.createElement(i)),o=Dt.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),Qt[i]=o)}function b(t,e){for(var n,i,o=[],r=0,a=t.length;r<a;r++)(i=t[r]).style&&(n=i.style.display,e?("none"===n&&(o[r]=jt.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Xt(i)&&(o[r]=y(i))):"none"!==n&&(o[r]="none",jt.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}function E(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&c(t,e)?Dt.merge([t],n):n}function _(t,e){for(var n=0,i=t.length;n<i;n++)jt.set(t[n],"globalEval",!e||jt.get(e[n],"globalEval"))}function T(t,e,n,i,o){for(var r,a,s,l,c,u,d=e.createDocumentFragment(),h=[],f=0,p=t.length;f<p;f++)if((r=t[f])||0===r)if("object"===g(r))Dt.merge(h,r.nodeType?[r]:r);else if(re.test(r)){for(a=a||d.appendChild(e.createElement("div")),s=(ne.exec(r)||["",""])[1].toLowerCase(),l=oe[s]||oe._default,a.innerHTML=l[1]+Dt.htmlPrefilter(r)+l[2],u=l[0];u--;)a=a.lastChild;Dt.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(e.createTextNode(r));for(d.textContent="",f=0;r=h[f++];)if(i&&-1<Dt.inArray(r,i))o&&o.push(r);else if(c=Gt(r),a=E(d.appendChild(r),"script"),c&&_(a),n)for(u=0;r=a[u++];)ie.test(r.type||"")&&n.push(r);return d}function C(){return!0}function O(){return!1}function I(t,e){return t===k()==("focus"===e)}function k(){try{return _t.activeElement}catch(t){}}function w(t,e,n,i,o,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)w(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=O;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return Dt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=Dt.guid++)),t.each(function(){Dt.event.add(this,e,o,i,n)})}function R(t,o,r){r?(jt.set(t,o,!1),Dt.event.add(t,o,{namespace:!1,handler:function(t){var e,n,i=jt.get(this,o);if(1&t.isTrigger&&this[o]){if(i.length)(Dt.event.special[o]||{}).delegateType&&t.stopPropagation();else if(i=ct.call(arguments),jt.set(this,o,i),e=r(this,o),this[o](),i!==(n=jt.get(this,o))||e?jt.set(this,o,!1):n={},i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n.value}else i.length&&(jt.set(this,o,{value:Dt.event.trigger(Dt.extend(i[0],Dt.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):jt.get(t,o)===undefined&&Dt.event.add(t,o,C)}function x(t,e){return c(t,"table")&&c(11!==e.nodeType?e:e.firstChild,"tr")&&Dt(t).children("tbody")[0]||t}function S(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function K(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function A(t,e){var n,i,o,r,a,s;if(1===e.nodeType){if(jt.hasData(t)&&(s=jt.get(t).events))for(o in jt.remove(e,"handle events"),s)for(n=0,i=s[o].length;n<i;n++)Dt.event.add(e,o,s[o][n]);zt.hasData(t)&&(r=zt.access(t),a=Dt.extend({},r),zt.set(e,a))}}function N(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ee.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function L(n,i,o,r){i=ut(i);var t,e,a,s,l,c,u=0,d=n.length,h=d-1,f=i[0],p=bt(f);if(p||1<d&&"string"==typeof f&&!yt.checkClone&&ue.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),L(e,i,o,r)});if(d&&(e=(t=T(i,n[0].ownerDocument,!1,n,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(s=(a=Dt.map(E(t,"script"),S)).length;u<d;u++)l=t,u!==h&&(l=Dt.clone(l,!0,!0),s&&Dt.merge(a,E(l,"script"))),o.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,Dt.map(a,K),u=0;u<s;u++)l=a[u],ie.test(l.type||"")&&!jt.access(l,"globalEval")&&Dt.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Dt._evalUrl&&!l.noModule&&Dt._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):m(l.textContent.replace(de,""),l,c))}return n}function P(t,e,n){for(var i,o=e?Dt.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||Dt.cleanData(E(i)),i.parentNode&&(n&&Gt(i)&&_(E(i,"script")),i.parentNode.removeChild(i));return t}function F(t,e,n){var i,o,r,a,s=t.style;return(n=n||fe(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||Gt(t)||(a=Dt.style(t,e)),!yt.pixelBoxStyles()&&he.test(a)&&me.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),a!==undefined?a+"":a}function M(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function $(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ge.length;n--;)if((t=ge[n]+e)in ve)return t}function B(t){var e=Dt.cssProps[t]||ye[t];return e||(t in ve?t:ye[t]=$(t)||t)}function j(t,e,n){var i=Wt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function z(t,e,n,i,o,r){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=Dt.css(t,n+Vt[a],!0,o)),i?("content"===n&&(l-=Dt.css(t,"padding"+Vt[a],!0,o)),"margin"!==n&&(l-=Dt.css(t,"border"+Vt[a]+"Width",!0,o))):(l+=Dt.css(t,"padding"+Vt[a],!0,o),"padding"!==n?l+=Dt.css(t,"border"+Vt[a]+"Width",!0,o):s+=Dt.css(t,"border"+Vt[a]+"Width",!0,o));return!i&&0<=r&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-s-.5))||0),l}function q(t,e,n){var i=fe(t),o=(!yt.boxSizingReliable()||n)&&"border-box"===Dt.css(t,"boxSizing",!1,i),r=o,a=F(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(he.test(a)){if(!n)return a;a="auto"}return(!yt.boxSizingReliable()&&o||!yt.reliableTrDimensions()&&c(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===Dt.css(t,"display",!1,i))&&t.getClientRects().length&&(o="border-box"===Dt.css(t,"boxSizing",!1,i),(r=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+z(t,e,n||(o?"border":"content"),r,i,a)+"px"}function H(t,e,n,i,o){return new H.prototype.init(t,e,n,i,o)}function U(){De&&(!1===_t.hidden&&D.requestAnimationFrame?D.requestAnimationFrame(U):D.setTimeout(U,Dt.fx.interval),Dt.fx.tick())}function W(){return D.setTimeout(function(){Ce=undefined}),Ce=Date.now()}function V(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=Vt[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function Z(t,e,n){for(var i,o=(X.tweeners[e]||[]).concat(X.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function G(t,e,n){var i,o,r,a,s,l,c,u,d="width"in e||"height"in e,h=this,f={},p=t.style,m=t.nodeType&&Xt(t),g=jt.get(t,"fxshow");for(i in n.queue||(null==(a=Dt._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Dt.queue(t,"fx").length||a.empty.fire()})})),e)if(o=e[i],ke.test(o)){if(delete e[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||g[i]===undefined)continue;m=!0}f[i]=g&&g[i]||Dt.style(t,i)}if((l=!Dt.isEmptyObject(e))||!Dt.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=jt.get(t,"display")),"none"===(u=Dt.css(t,"display"))&&(c?u=c:(b([t],!0),c=t.style.display||c,u=Dt.css(t,"display"),b([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===Dt.css(t,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=jt.access(t,"fxshow",{display:c}),r&&(g.hidden=!m),m&&b([t],!0),h.done(function(){for(i in m||b([t]),jt.remove(t,"fxshow"),f)Dt.style(t,i,f[i])})),l=Z(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}function Y(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=f(n)],r=t[n],Array.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=Dt.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function X(r,t,e){var n,a,i=0,o=X.prefilters.length,s=Dt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Ce||W(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(r,[c,n,e]),n<1&&o?e:(o||s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:Dt.extend({},t),opts:Dt.extend(!0,{specialEasing:{},easing:Dt.easing._default},e),originalProperties:t,originalOptions:e,startTime:Ce||W(),duration:e.duration,tweens:[],createTween:function(t,e){var n=Dt.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c,t])):s.rejectWith(r,[c,t]),this}}),u=c.props;for(Y(u,c.opts.specialEasing);i<o;i++)if(n=X.prefilters[i].call(c,r,u,c.opts))return bt(n.stop)&&(Dt._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return Dt.map(u,Z,c),bt(c.opts.start)&&c.opts.start.call(r,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Dt.fx.timer(Dt.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c}function Q(t){return(t.match(Nt)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function tt(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Nt)||[]}function et(n,t,i,o){var e;if(Array.isArray(t))Dt.each(t,function(t,e){i||$e.test(n)?o(n,e):et(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==g(t))o(n,t);else for(e in t)et(n+"["+e+"]",t[e],i,o)}function nt(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(Nt)||[];if(bt(e))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function it(e,o,r,a){function s(t){var i;return l[t]=!0,Dt.each(e[t]||[],function(t,e){var n=e(o,r,a);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=e===Xe;return s(o.dataTypes[0])||!l["*"]&&s("*")}function ot(t,e){var n,i,o=Dt.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&Dt.extend(!0,t,i),t}function rt(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}function at(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}var st=[],lt=Object.getPrototypeOf,ct=st.slice,ut=st.flat?function(t){return st.flat.call(t)}:function(t){return st.concat.apply([],t)},dt=st.push,ht=st.indexOf,ft={},pt=ft.toString,mt=ft.hasOwnProperty,gt=mt.toString,vt=gt.call(Object),yt={},bt=function bt(t){return"function"==typeof t&&"number"!=typeof t.nodeType},Et=function Et(t){return null!=t&&t===t.window},_t=D.document,Tt={type:!0,src:!0,nonce:!0,noModule:!0},Ct="3.5.1",Dt=function(t,e){return new Dt.fn.init(t,e)};Dt.fn=Dt.prototype={jquery:Ct,constructor:Dt,length:0,toArray:function(){return ct.call(this)},get:function(t){return null==t?ct.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Dt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Dt.each(this,t)},map:function(n){return this.pushStack(Dt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(ct.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Dt.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(Dt.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:dt,sort:st.sort,splice:st.splice},Dt.extend=Dt.fn.extend=function(t){var e,n,i,o,r,a,s=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||bt(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(e=arguments[l]))for(n in e)o=e[n],"__proto__"!==n&&s!==o&&(u&&o&&(Dt.isPlainObject(o)||(r=Array.isArray(o)))?(i=s[n],a=r&&!Array.isArray(i)?[]:r||Dt.isPlainObject(i)?i:{},r=!1,s[n]=Dt.extend(u,a,o)):o!==undefined&&(s[n]=o));return s},Dt.extend({expando:"jQuery"+(Ct+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==pt.call(t))&&(!(e=lt(t))||"function"==typeof(n=mt.call(e,"constructor")&&e.constructor)&&gt.call(n)===vt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){m(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?Dt.merge(n,"string"==typeof t?[t]:t):dt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(s(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return ut(a)},guid:1,support:yt}),"function"==typeof Symbol&&(Dt.fn[Symbol.iterator]=st[Symbol.iterator]),Dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var Ot=function(n){function E(t,e,n,i){var o,r,a,s,l,c,u,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&(K(e),e=e||A,L)){if(11!==h&&(l=bt.exec(t)))if(o=l[1]){if(9===h){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&$(e,a)&&a.id===o)return n.push(a),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((o=l[3])&&T.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(o)),n}if(T.qsa&&!V[t+" "]&&(!P||!P.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(u=t,d=e,1===h&&(dt.test(t)||ut.test(t))){for((d=Et.test(t)&&p(e.parentNode)||e)===e&&T.scope||((s=e.getAttribute("id"))?s=s.replace(Ct,Dt):e.setAttribute("id",s=B)),r=(c=I(t)).length;r--;)c[r]=(s?"#"+s:":scope")+" "+m(c[r]);u=c.join(",")}try{return J.apply(n,d.querySelectorAll(u)),n}catch(f){V(t,!0)}finally{s===B&&e.removeAttribute("id")}}}return w(t.replace(lt,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>C.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[B]=!0,t}function o(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function r(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&It(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(a){return l(function(r){return r=+r,l(function(t,e){for(var n,i=a([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function p(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var l=t.dir,c=t.next,u=c||l,d=e&&"parentNode"===u,h=q++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||d)return s(t,e,n);return!1}:function(t,e,n){var i,o,r,a=[z,h];if(n){for(;t=t[l];)if((1===t.nodeType||d)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||d)if(o=(r=t[B]||(t[B]={}))[t.uniqueID]||(r[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[l]||t;else{if((i=o[u])&&i[0]===z&&i[1]===h)return a[2]=i[2];if((o[u]=a)[2]=s(t,e,n))return!0}return!1}}function h(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function y(t,e,n){for(var i=0,o=e.length;i<o;i++)E(t,e[i],n);return n}function _(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function b(f,p,m,g,v,t){return g&&!g[B]&&(g=b(g)),v&&!v[B]&&(v=b(v,t)),l(function(t,e,n,i){var o,r,a,s=[],l=[],c=e.length,u=t||y(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?u:_(u,s,f,n,i),h=m?v||(t?f:c||g)?[]:e:d;if(m&&m(d,h,n,i),g)for(o=_(h,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(t){if(v||f){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?et(t,a):s[r])&&(t[o]=!(e[o]=a))}}else h=_(h===e?h.splice(c,h.length):h),v?v(null,e,h,i):J.apply(e,h)})}function f(t){for(var o,e,n,i=t.length,r=C.relative[t[0].type],a=r||C.relative[" "],s=r?1:0,l=d(function(t){return t===o},a,!0),c=d(function(t){return-1<et(o,t)},a,!0),u=[function(t,e,n){var i=!r&&(n||e!==R)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=C.relative[t[s].type])u=[d(h(u),e)];else{if((e=C.filter[t[s].type].apply(null,t[s].matches))[B]){for(n=++s;n<i&&!C.relative[t[n].type];n++);return b(1<s&&h(u),1<s&&m(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),e,s<n&&f(t.slice(s,n)),n<i&&f(t=t.slice(n)),n<i&&m(t))}u.push(e)}return h(u)}function g(g,v){var y=0<v.length,b=0<g.length,t=function(t,e,n,i,o){var r,a,s,l=0,c="0",u=t&&[],d=[],h=R,f=t||b&&C.find.TAG("*",o),p=z+=null==h?1:Math.random()||.1,m=f.length;for(o&&(R=e==A||e||o);c!==m&&null!=(r=f[c]);c++){if(b&&r){for(a=0,e||r.ownerDocument==A||(K(r),n=!L);s=g[a++];)if(s(r,e||A,n)){i.push(r);break}o&&(z=p)}y&&((r=!s&&r)&&l--,t&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=X.call(i));d=_(d)}J.apply(i,d),o&&!t&&0<d.length&&1<l+v.length&&E.uniqueSort(i)}return o&&(z=p,R=h),u};return y?l(t):t}var v,T,C,D,O,I,k,w,R,x,S,K,A,N,L,P,F,M,$,B="sizzle"+1*new Date,j=n.document,z=0,q=0,H=t(),U=t(),W=t(),V=t(),Z=function(t,e){return t===e&&(S=!0),0},G={}.hasOwnProperty,Y=[],X=Y.pop,Q=Y.push,J=Y.push,tt=Y.slice,et=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\[\\da-fA-F]{1,6}"+it+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",rt="\\["+it+"*("+ot+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+it+"*\\]",at=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp(it+"|>"),ht=new RegExp(at),ft=new RegExp("^"+ot+"$"),pt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/HTML$/i,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Et=/[+~]/,_t=new RegExp("\\\\[\\da-fA-F]{1,6}"+it+"?|\\\\([^\\r\\n\\f])","g"),Tt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Ct=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Dt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ot=function(){K()},It=d(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{J.apply(Y=tt.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(kt){J={apply:Y.length?function(t,e){Q.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(v in T=E.support={},O=E.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!mt.test(e||n&&n.nodeName||"HTML")},K=E.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!=A&&9===i.nodeType&&i.documentElement&&(N=(A=i).documentElement,L=!O(A),j!=A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ot,!1):n.attachEvent&&n.attachEvent("onunload",Ot)),T.scope=o(function(t){return N.appendChild(t).appendChild(A.createElement("div")),"undefined"!=typeof t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),T.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=o(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=yt.test(A.getElementsByClassName),T.getById=o(function(t){return N.appendChild(t).id=B,!A.getElementsByName||!A.getElementsByName(B).length}),T.getById?(C.filter.ID=function(t){var e=t.replace(_t,Tt);return function(t){return t.getAttribute("id")===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(C.filter.ID=function(t){var n=t.replace(_t,Tt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n,i,o,r=e.getElementById(t);if(r){if((n=r.getAttributeNode("id"))&&n.value===t)return[r];for(o=e.getElementsByName(t),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===t)return[r]}return[]}}),C.find.TAG=T.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):T.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},C.find.CLASS=T.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},F=[],P=[],(T.qsa=yt.test(A.querySelectorAll))&&(o(function(t){var e;N.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+it+"*(?:value|"+nt+")"),t.querySelectorAll("[id~="+B+"-]").length||P.push("~="),(e=A.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||P.push("\\["+it+"*name"+it+"*="+it+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]"),t.querySelectorAll("\\\f"),P.push("[\\r\\n\\f]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(T.matchesSelector=yt.test(M=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(t){T.disconnectedMatch=M.call(t,"*"),M.call(t,"[s!='']:x"),F.push("!=",at)}),P=P.length&&new RegExp(P.join("|")),F=F.length&&new RegExp(F.join("|")),e=yt.test(N.compareDocumentPosition),$=e||yt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Z=e?function(t,e){if(t===e)return S=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!T.sortDetached&&e.compareDocumentPosition(t)===n?t==A||t.ownerDocument==j&&$(j,t)?-1:e==A||e.ownerDocument==j&&$(j,e)?1:x?et(x,t)-et(x,e):0:4&n?-1:1)}:function(t,e){if(t===e)return S=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t==A?-1:e==A?1:o?-1:r?1:x?et(x,t)-et(x,e):0;if(o===r)return c(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]==j?-1:s[i]==j?1:0}),A},E.matches=function(t,e){return E(t,null,null,e)},E.matchesSelector=function(t,e){if(K(t),T.matchesSelector&&L&&!V[e+" "]&&(!F||!F.test(e))&&(!P||!P.test(e)))try{var n=M.call(t,e);if(n||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(kt){V(e,!0)}return 0<E(e,A,null,[t]).length},E.contains=function(t,e){return(t.ownerDocument||t)!=A&&K(t),$(t,e)},E.attr=function(t,e){(t.ownerDocument||t)!=A&&K(t);var n=C.attrHandle[e.toLowerCase()],i=n&&G.call(C.attrHandle,e.toLowerCase())?n(t,e,!L):undefined;return i!==undefined?i:T.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},E.escape=function(t){return(t+"").replace(Ct,Dt)},E.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},E.uniqueSort=function(t){var e,n=[],i=0,o=0;if(S=!T.detectDuplicates,x=!T.sortStable&&t.slice(0),t.sort(Z),S){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return x=null,t},D=E.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=D(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=D(e);return n},(C=E.selectors={cacheLength:50,createPseudo:l,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,Tt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,Tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||E.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&E.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=I(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,Tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=E.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(st," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,t,e,m,g){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,a,s,l,c=v!==y?"nextSibling":"previousSibling",u=t.parentNode,d=b&&t.nodeName.toLowerCase(),h=!n&&!b,f=!1;if(u){if(v){for(;c;){for(a=t;a=a[c];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&h){for(f=(s=(i=(o=(r=(a=u)[B]||(a[B]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]||[])[0]===z&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(f=s=0)||l.pop();)if(1===a.nodeType&&++f&&a===t){o[p]=[z,s,f];break}}else if(h&&(f=s=(i=(o=(r=(a=t)[B]||(a[B]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]||[])[0]===z&&i[1]),!1===f)for(;(a=++s&&a&&a[c]||(f=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(h&&((o=(r=a[B]||(a[B]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]=[z,f]),a!==t)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(t,r){var e,a=C.pseudos[t]||C.setFilters[t.toLowerCase()]||E.error("unsupported pseudo: "+t);return a[B]?a(r):1<a.length?(e=[t,t,"",r],C.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=a(t,r),o=i.length;o--;)t[n=et(t,i[o])]=!(e[n]=i[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:l(function(t){var i=[],o=[],s=k(t.replace(lt,"$1"));return s[B]?l(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),
i[0]=null,!o.pop()}}),has:l(function(e){return function(t){return 0<E(e,t).length}}),contains:l(function(e){return e=e.replace(_t,Tt),function(t){return-1<(t.textContent||D(t)).indexOf(e)}}),lang:l(function(n){return ft.test(n||"")||E.error("unsupported lang: "+n),n=n.replace(_t,Tt).toLowerCase(),function(t){var e;do{if(e=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===N},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:e<n?e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[v]=i(v);for(v in{submit:!0,reset:!0})C.pseudos[v]=r(v);return u.prototype=C.filters=C.pseudos,C.setFilters=new u,I=E.tokenize=function(t,e){var n,i,o,r,a,s,l,c=U[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=C.preFilter;a;){for(r in n&&!(i=ct.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=ut.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(lt," ")}),a=a.slice(n.length)),C.filter)!(i=pt[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?E.error(t):U(t,s).slice(0)},k=E.compile=function(t,e){var n,i=[],o=[],r=W[t+" "];if(!r){for(e||(e=I(t)),n=e.length;n--;)(r=f(e[n]))[B]?i.push(r):o.push(r);(r=W(t,g(o,i))).selector=t}return r},w=E.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,u=!i&&I(t=c.selector||t);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===e.nodeType&&L&&C.relative[r[1].type]){if(!(e=(C.find.ID(a.matches[0].replace(_t,Tt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(a=r[o],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(_t,Tt),Et.test(r[0].type)&&p(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&m(r)))return J.apply(n,i),n;break}}return(c||k(t,u))(i,e,!L,n,!e||Et.test(t)&&p(e.parentNode)||e),n},T.sortStable=B.split("").sort(Z).join("")===B,T.detectDuplicates=!!S,K(),T.sortDetached=o(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),T.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||e(nt,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),E}(D);Dt.find=Ot,Dt.expr=Ot.selectors,Dt.expr[":"]=Dt.expr.pseudos,Dt.uniqueSort=Dt.unique=Ot.uniqueSort,Dt.text=Ot.getText,Dt.isXMLDoc=Ot.isXML,Dt.contains=Ot.contains,Dt.escapeSelector=Ot.escape;var It=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Dt(t).is(n))break;i.push(t)}return i},kt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=Dt.expr.match.needsContext,Rt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Dt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Dt.find.matchesSelector(i,t)?[i]:[]:Dt.find.matches(t,Dt.grep(e,function(t){return 1===t.nodeType}))},Dt.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(Dt(t).filter(function(){for(e=0;e<i;e++)if(Dt.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)Dt.find(t,o[e],n);return 1<i?Dt.uniqueSort(n):n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&wt.test(t)?Dt(t):t||[],!1).length}});var xt,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Dt.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||xt,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):bt(t)?n.ready!==undefined?n.ready(t):t(Dt):Dt.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:St.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Dt?e[0]:e,Dt.merge(this,Dt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:_t,!0)),Rt.test(i[1])&&Dt.isPlainObject(e))for(i in e)bt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=_t.getElementById(i[2]))&&(this[0]=o,this.length=1),this}).prototype=Dt.fn,xt=Dt(_t);var Kt=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};Dt.fn.extend({has:function(t){var e=Dt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(Dt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,r=[],a="string"!=typeof t&&Dt(t);if(!wt.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&Dt.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?Dt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ht.call(Dt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Dt.uniqueSort(Dt.merge(this.get(),Dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return It(t,"parentNode")},parentsUntil:function(t,e,n){return It(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return It(t,"nextSibling")},prevAll:function(t){return It(t,"previousSibling")},nextUntil:function(t,e,n){return It(t,"nextSibling",n)},prevUntil:function(t,e,n){return It(t,"previousSibling",n)},siblings:function(t){return kt((t.parentNode||{}).firstChild,t)},children:function(t){return kt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&lt(t.contentDocument)?t.contentDocument:(c(t,"template")&&(t=t.content||t),Dt.merge([],t.childNodes))}},function(i,o){Dt.fn[i]=function(t,e){var n=Dt.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=Dt.filter(e,n)),1<this.length&&(At[i]||Dt.uniqueSort(n),Kt.test(i)&&n.reverse()),this.pushStack(n)}});var Nt=/[^\x20\t\r\n\f]+/g;Dt.Callbacks=function(i){i="string"==typeof i?u(i):Dt.extend({},i);var o,t,e,n,r=[],a=[],s=-1,l=function(){for(n=n||i.once,e=o=!0;a.length;s=-1)for(t=a.shift();++s<r.length;)!1===r[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=r.length,t=!1);i.memory||(t=!1),o=!1,n&&(r=t?[]:"")},c={add:function(){return r&&(t&&!o&&(s=r.length-1,a.push(t)),function n(t){Dt.each(t,function(t,e){bt(e)?i.unique&&c.has(e)||r.push(e):e&&e.length&&"string"!==g(e)&&n(e)})}(arguments),t&&!o&&l()),this},remove:function(){return Dt.each(arguments,function(t,e){for(var n;-1<(n=Dt.inArray(e,r,n));)r.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<Dt.inArray(t,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return n=a=[],r=t="",this},disabled:function(){return!r},lock:function(){return n=a=[],t||o||(r=t=""),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),o||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},Dt.extend({Deferred:function(t){var r=[["notify","progress",Dt.Callbacks("memory"),Dt.Callbacks("memory"),2],["resolve","done",Dt.Callbacks("once memory"),Dt.Callbacks("once memory"),0,"resolved"],["reject","fail",Dt.Callbacks("once memory"),Dt.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return a.then(null,t)},pipe:function(){var o=arguments;return Dt.Deferred(function(i){Dt.each(r,function(t,e){var n=bt(o[e[4]])&&o[e[4]];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&bt(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),o=null}).promise()},then:function(e,n,i){function c(r,a,s,l){return function(){var n=this,i=arguments,e=function(){var t,e;if(!(r<u)){if((t=s.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,bt(e)?l?e.call(t,c(u,a,d,l),c(u,a,h,l)):(u++,e.call(t,c(u,a,d,l),c(u,a,h,l),c(u,a,d,a.notifyWith))):(s!==d&&(n=undefined,i=[t]),(l||a.resolveWith)(n,i))}},o=l?e:function(){try{e()}catch(t){Dt.Deferred.exceptionHook&&Dt.Deferred.exceptionHook(t,o.stackTrace),u<=r+1&&(s!==h&&(n=undefined,i=[t]),a.rejectWith(n,i))}};r?o():(Dt.Deferred.getStackHook&&(o.stackTrace=Dt.Deferred.getStackHook()),D.setTimeout(o))}}var u=0;return Dt.Deferred(function(t){r[0][3].add(c(0,t,bt(i)?i:d,t.notifyWith)),r[1][3].add(c(0,t,bt(e)?e:d)),r[2][3].add(c(0,t,bt(n)?n:h))}).promise()},promise:function(t){return null!=t?Dt.extend(t,a):a}},s={};return Dt.each(r,function(t,e){var n=e[2],i=e[5];a[e[1]]=n.add,i&&n.add(function(){o=i},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),n.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?undefined:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var n=arguments.length,e=n,i=Array(e),o=ct.call(arguments),r=Dt.Deferred(),a=function(e){return function(t){i[e]=this,o[e]=1<arguments.length?ct.call(arguments):t,--n||r.resolveWith(i,o)}};if(n<=1&&(l(t,r.done(a(e)).resolve,r.reject,!n),"pending"===r.state()||bt(o[e]&&o[e].then)))return r.then();for(;e--;)l(o[e],a(e),r.reject);return r.promise()}});var Lt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Dt.Deferred.exceptionHook=function(t,e){D.console&&D.console.warn&&t&&Lt.test(t.name)&&D.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},Dt.readyException=function(t){D.setTimeout(function(){throw t})};var Pt=Dt.Deferred();Dt.fn.ready=function(t){return Pt.then(t)["catch"](function(t){Dt.readyException(t)}),this},Dt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--Dt.readyWait:Dt.isReady)||(Dt.isReady=!0)!==t&&0<--Dt.readyWait||Pt.resolveWith(_t,[Dt])}}),Dt.ready.then=Pt.then,"complete"===_t.readyState||"loading"!==_t.readyState&&!_t.documentElement.doScroll?D.setTimeout(Dt.ready):(_t.addEventListener("DOMContentLoaded",i),D.addEventListener("load",i));var Ft=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===g(n))for(s in o=!0,n)Ft(t,e,s,n[s],!0,r,a);else if(i!==undefined&&(o=!0,bt(i)||(a=!0),c&&(e=a?(e.call(t,i),null):(c=e,function(t,e,n){return c.call(Dt(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},Mt=/^-ms-/,$t=/-([a-z])/g,Bt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};r.uid=1,r.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Bt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[f(e)]=n;else for(i in e)o[f(i)]=e[i];return o},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][f(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(f):(e=f(e))in i?[e]:e.match(Nt)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||Dt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!Dt.isEmptyObject(e)}};var jt=new r,zt=new r,qt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ht=/[A-Z]/g;Dt.extend({hasData:function(t){return zt.hasData(t)||jt.hasData(t)},data:function(t,e,n){return zt.access(t,e,n)},removeData:function(t,e){zt.remove(t,e)},_data:function(t,e,n){return jt.access(t,e,n)},_removeData:function(t,e){jt.remove(t,e)}}),Dt.fn.extend({data:function(n,t){var e,i,o,r=this[0],a=r&&r.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){zt.set(this,n)}):Ft(this,function(t){var e;if(r&&t===undefined)return(e=zt.get(r,n))!==undefined?e:(e=p(r,n))!==undefined?e:void 0;this.each(function(){zt.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=zt.get(r),1===r.nodeType&&!jt.get(r,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(i=a[e].name).indexOf("data-")&&(i=f(i.slice(5)),p(r,i,o[i]));jt.set(r,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){zt.remove(this,t)})}}),Dt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=jt.get(t,e),n&&(!i||Array.isArray(n)?i=jt.access(t,e,Dt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Dt.queue(t,e),i=n.length,o=n.shift(),r=Dt._queueHooks(t,e),a=function(){Dt.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return jt.get(t,n)||jt.access(t,n,{empty:Dt.Callbacks("once memory").add(function(){jt.remove(t,[e+"queue",n])})})}}),Dt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?Dt.queue(this[0],e):n===undefined?this:this.each(function(){var t=Dt.queue(this,e,n);Dt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Dt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){Dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=Dt.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=jt.get(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var Ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wt=new RegExp("^(?:([+-])=|)("+Ut+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],Zt=_t.documentElement,Gt=function(t){return Dt.contains(t.ownerDocument,t)},Yt={composed:!0};Zt.getRootNode&&(Gt=function(t){return Dt.contains(t.ownerDocument,t)||t.getRootNode(Yt)===t.ownerDocument});var Xt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&Gt(t)&&"none"===Dt.css(t,"display")},Qt={};Dt.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Xt(this)?Dt(this).show():Dt(this).hide()})}});var Jt,te,ee=/^(?:checkbox|radio)$/i,ne=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ie=/^$|^module$|\/(?:java|ecma)script/i;Jt=_t.createDocumentFragment().appendChild(_t.createElement("div")),(te=_t.createElement("input")).setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),Jt.appendChild(te),yt.checkClone=Jt.cloneNode(!0).cloneNode(!0).lastChild.checked,Jt.innerHTML="<textarea>x</textarea>",yt.noCloneChecked=!!Jt.cloneNode(!0).lastChild.defaultValue,Jt.innerHTML="<option></option>",yt.option=!!Jt.lastChild;var oe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td,yt.option||(oe.optgroup=oe.option=[1,"<select multiple='multiple'>","</select>"]);var re=/<|&#?\w+;/,ae=/^key/,se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,le=/^([^.]*)(?:\.(.+)|)/;Dt.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p,m,g=jt.get(e);if(Bt(e))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&Dt.find.matchesSelector(Zt,o),n.guid||(n.guid=Dt.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==Dt&&Dt.event.triggered!==t.type?Dt.event.dispatch.apply(e,arguments):undefined}),c=(t=(t||"").match(Nt)||[""]).length;c--;)f=m=(s=le.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=Dt.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=Dt.event.special[f]||{},u=Dt.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Dt.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),Dt.event.global[f]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,m,g=jt.hasData(t)&&jt.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(Nt)||[""]).length;c--;)if(f=m=(s=le.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=Dt.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)u=h[r],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||Dt.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)Dt.event.remove(t,f+e[c],n,i,!0);Dt.isEmptyObject(l)&&jt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,r,a,s=new Array(arguments.length),l=Dt.event.fix(t),c=(jt.get(this,"events")||Object.create(null))[l.type]||[],u=Dt.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=Dt.event.handlers.call(this,l,c),e=0;(o=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,(i=((Dt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))!==undefined&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,o,r,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)a[o=(i=e[n]).selector+" "]===undefined&&(a[o]=i.needsContext?-1<Dt(o,this).index(c):Dt.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(e,t){Object.defineProperty(Dt.Event.prototype,e,{enumerable:!0,configurable:!0,get:bt(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[Dt.expando]?t:new Dt.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ee.test(e.type)&&e.click&&c(e,"input")&&R(e,"click",C),!1},trigger:function(t){var e=this||t;return ee.test(e.type)&&e.click&&c(e,"input")&&R(e,"click"),!0},_default:function(t){var e=t.target;return ee.test(e.type)&&e.click&&c(e,"input")&&jt.get(e,"click")||c(e,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Dt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Dt.Event=function(t,e){if(!(this instanceof Dt.Event))return new Dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?C:O,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Dt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Dt.expando]=!0},Dt.Event.prototype={constructor:Dt.Event,isDefaultPrevented:O,isPropagationStopped:O,isImmediatePropagationStopped:O,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Dt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ae.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&se.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Dt.event.addProp),Dt.each({focus:"focusin",blur:"focusout"},function(t,e){Dt.event.special[t]={setup:function(){return R(this,t,I),!1},trigger:function(){return R(this,t),!0},delegateType:e}}),Dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){Dt.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||Dt.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=r),e}}}),Dt.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Dt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=O),this.each(function(){Dt.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this}});var ce=/<script|<style|<link/i,ue=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Dt.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,r,a,s=t.cloneNode(!0),l=Gt(t);if(!(yt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Dt.isXMLDoc(t)))for(a=E(s),i=0,o=(r=E(t)).length;i<o;i++)N(r[i],a[i]);if(e)if(n)for(r=r||E(t),a=a||E(s),i=0,o=r.length;i<o;i++)A(r[i],a[i]);else A(t,s);return 0<(a=E(s,"script")).length&&_(a,!l&&E(t,"script")),s},cleanData:function(t){for(var e,n,i,o=Dt.event.special,r=0;(n=t[r])!==undefined;r++)if(Bt(n)){if(e=n[jt.expando]){if(e.events)for(i in e.events)o[i]?Dt.event.remove(n,i):Dt.removeEvent(n,i,e.handle);n[jt.expando]=undefined}n[zt.expando]&&(n[zt.expando]=undefined)}}}),Dt.fn.extend({detach:function(t){return P(this,t,!0)},remove:function(t){return P(this,t)},text:function(t){return Ft(this,function(t){return t===undefined?Dt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return L(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,t).appendChild(t)})},prepend:function(){return L(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return L(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return L(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Dt.cleanData(E(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Dt.clone(this,t,e)})},html:function(t){return Ft(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ce.test(t)&&!oe[(ne.exec(t)||["",""])[1].toLowerCase()]){t=Dt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(Dt.cleanData(E(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return L(this,arguments,function(t){var e=this.parentNode;Dt.inArray(this,n)<0&&(Dt.cleanData(E(this)),e&&e.replaceChild(t,this))},n)}}),Dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){Dt.fn[t]=function(t){for(var e,n=[],i=Dt(t),o=i.length-1,r=0;r<=o;r++)e=r===o?this:this.clone(!0),Dt(i[r])[a](e),dt.apply(n,e.get());return this.pushStack(n)}});var he=new RegExp("^("+Ut+")(?!px)[a-z%]+$","i"),fe=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=D),e.getComputedStyle(t)},pe=function(t,e,n){var i,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=r[o];return i},me=new RegExp(Vt.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Zt.appendChild(l).appendChild(c);var t=D.getComputedStyle(c);n="1%"!==t.top,s=12===e(t.marginLeft),c.style.right="60%",r=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),Zt.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,r,a,s,l=_t.createElement("div"),c=_t.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",yt.clearCloneStyle="content-box"===c.style.backgroundClip,Dt.extend(yt,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,i;return null==a&&(t=_t.createElement("table"),e=_t.createElement("tr"),n=_t.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",n.style.height="9px",Zt.appendChild(t).appendChild(e).appendChild(n),i=D.getComputedStyle(e),a=3<parseInt(i.height),Zt.removeChild(t)),a}}))}();var ge=["Webkit","Moz","ms"],ve=_t.createElement("div").style,ye={},be=/^(none|table(?!-c[ea]).+)/,Ee=/^--/,_e={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"};Dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=F(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=f(e),l=Ee.test(e),c=t.style;if(l||(e=B(s)),a=Dt.cssHooks[e]||Dt.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(t,!1,i))!==undefined?o:c[e];"string"===(r=typeof n)&&(o=Wt.exec(n))&&o[1]&&(n=v(t,e,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(Dt.cssNumber[s]?"":"px")),yt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&(n=a.set(t,n,i))===undefined||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,r,a,s=f(e);return Ee.test(e)||(e=B(s)),(a=Dt.cssHooks[e]||Dt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=F(t,e,i)),"normal"===o&&e in Te&&(o=Te[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),Dt.each(["height","width"],function(t,l){Dt.cssHooks[l]={get:function(t,e,n){if(e)return!be.test(Dt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?q(t,l,n):pe(t,_e,function(){return q(t,l,n)})},set:function(t,e,n){var i,o=fe(t),r=!yt.scrollboxSize()&&"absolute"===o.position,a=(r||n)&&"border-box"===Dt.css(t,"boxSizing",!1,o),s=n?z(t,l,n,a,o):0;return a&&r&&(s-=Math.ceil(t["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-z(t,l,"border",!1,o)-.5)),s&&(i=Wt.exec(e))&&"px"!==(i[3]||"px")&&(t.style[l]=e,e=Dt.css(t,l)),j(t,e,s)}}}),Dt.cssHooks.marginLeft=M(yt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(F(t,"marginLeft"))||t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),Dt.each({margin:"",padding:"",border:"Width"},function(o,r){Dt.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+Vt[e]+r]=i[e]||i[e-2]||i[0];return n}},"margin"!==o&&(Dt.cssHooks[o+r].set=j)}),Dt.fn.extend({css:function(t,e){return Ft(this,function(t,e,n){var i,o,r={},a=0;if(Array.isArray(e)){for(i=fe(t),o=e.length;a<o;a++)r[e[a]]=Dt.css(t,e[a],!1,i);return r}return n!==undefined?Dt.style(t,e,n):Dt.css(t,e)},t,e,1<arguments.length)}}),(Dt.Tween=H).prototype={constructor:H,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||Dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Dt.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.options.duration?this.pos=e=Dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Dt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){Dt.fx.step[t.prop]?Dt.fx.step[t.prop](t):1!==t.elem.nodeType||!Dt.cssHooks[t.prop]&&null==t.elem.style[B(t.prop)]?t.elem[t.prop]=t.now:Dt.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Dt.fx=H.prototype.init,Dt.fx.step={};var Ce,De,Oe,Ie,ke=/^(?:toggle|show|hide)$/,we=/queueHooks$/;Dt.Animation=Dt.extend(X,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,Wt.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,o=(t=bt(t)?(e=t,["*"]):t.match(Nt)).length;i<o;i++)n=t[i],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(e)},prefilters:[G],prefilter:function(t,e){e?X.prefilters.unshift(t):X.prefilters.push(t)}}),Dt.speed=function(t,e,n){var i=t&&"object"==typeof t?Dt.extend({},t):{complete:n||!n&&e||bt(t)&&t,duration:t,easing:n&&e||e&&!bt(e)&&e};return Dt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in Dt.fx.speeds?i.duration=Dt.fx.speeds[i.duration]:i.duration=Dt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){bt(i.old)&&i.old.call(this),i.queue&&Dt.dequeue(this,i.queue)},i},Dt.fn.extend({fadeTo:function(t,e,n,i){
return this.filter(Xt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=Dt.isEmptyObject(e),r=Dt.speed(t,n,i),a=function(){var t=X(this,Dt.extend({},e),r);(o||jt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,t,r){var a=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=undefined),t&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=Dt.timers,i=jt.get(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&we.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||Dt.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=jt.get(this),n=e[a+"queue"],i=e[a+"queueHooks"],o=Dt.timers,r=n?n.length:0;for(e.finish=!0,Dt.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===a&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),Dt.each(["toggle","show","hide"],function(t,i){var o=Dt.fn[i];Dt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(V(i,!0),t,e,n)}}),Dt.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){Dt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),Dt.timers=[],Dt.fx.tick=function(){var t,e=0,n=Dt.timers;for(Ce=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||Dt.fx.stop(),Ce=undefined},Dt.fx.timer=function(t){Dt.timers.push(t),Dt.fx.start()},Dt.fx.interval=13,Dt.fx.start=function(){De||(De=!0,U())},Dt.fx.stop=function(){De=null},Dt.fx.speeds={slow:600,fast:200,_default:400},Dt.fn.delay=function(i,t){return i=Dt.fx&&Dt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=D.setTimeout(t,i);e.stop=function(){D.clearTimeout(n)}})},Oe=_t.createElement("input"),Ie=_t.createElement("select").appendChild(_t.createElement("option")),Oe.type="checkbox",yt.checkOn=""!==Oe.value,yt.optSelected=Ie.selected,(Oe=_t.createElement("input")).value="t",Oe.type="radio",yt.radioValue="t"===Oe.value;var Re,xe=Dt.expr.attrHandle;Dt.fn.extend({attr:function(t,e){return Ft(this,Dt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){Dt.removeAttr(this,t)})}}),Dt.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?Dt.prop(t,e,n):(1===r&&Dt.isXMLDoc(t)||(o=Dt.attrHooks[e.toLowerCase()]||(Dt.expr.match.bool.test(e)?Re:undefined)),n!==undefined?null===n?void Dt.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=Dt.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!yt.radioValue&&"radio"===e&&c(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(Nt);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),Re={set:function(t,e,n){return!1===e?Dt.removeAttr(t,n):t.setAttribute(n,n),n}},Dt.each(Dt.expr.match.bool.source.match(/\w+/g),function(t,e){var a=xe[e]||Dt.find.attr;xe[e]=function(t,e,n){var i,o,r=e.toLowerCase();return n||(o=xe[r],xe[r]=i,i=null!=a(t,e,n)?r:null,xe[r]=o),i}});var Se=/^(?:input|select|textarea|button)$/i,Ke=/^(?:a|area)$/i;Dt.fn.extend({prop:function(t,e){return Ft(this,Dt.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[Dt.propFix[t]||t]})}}),Dt.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&Dt.isXMLDoc(t)||(e=Dt.propFix[e]||e,o=Dt.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Dt.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||Ke.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),yt.optSelected||(Dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Dt.propFix[this.toLowerCase()]=this}),Dt.fn.extend({addClass:function(e){var t,n,i,o,r,a,s,l=0;if(bt(e))return this.each(function(t){Dt(this).addClass(e.call(this,t,J(this)))});if((t=tt(e)).length)for(;n=this[l++];)if(o=J(n),i=1===n.nodeType&&" "+Q(o)+" "){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=Q(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,o,r,a,s,l=0;if(bt(e))return this.each(function(t){Dt(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if((t=tt(e)).length)for(;n=this[l++];)if(o=J(n),i=1===n.nodeType&&" "+Q(o)+" "){for(a=0;r=t[a++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(s=Q(i))&&n.setAttribute("class",s)}return this},toggleClass:function(o,e){var r=typeof o,a="string"===r||Array.isArray(o);return"boolean"==typeof e&&a?e?this.addClass(o):this.removeClass(o):bt(o)?this.each(function(t){Dt(this).toggleClass(o.call(this,t,J(this),e),e)}):this.each(function(){var t,e,n,i;if(a)for(e=0,n=Dt(this),i=tt(o);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else o!==undefined&&"boolean"!==r||((t=J(this))&&jt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===o?"":jt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+Q(J(n))+" ").indexOf(e))return!0;return!1}});var Ae=/\r/g;Dt.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=bt(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,Dt(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=Dt.map(e,function(t){return null==t?"":t+""})),(i=Dt.valHooks[this.type]||Dt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=Dt.valHooks[e.type]||Dt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Ae,""):null==t?"":t:void 0}}),Dt.extend({valHooks:{option:{get:function(t){var e=Dt.find.attr(t,"value");return null!=e?e:Q(Dt.text(t))}},select:{get:function(t){var e,n,i,o=t.options,r=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?r+1:o.length;for(i=r<0?l:a?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(e=Dt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=Dt.makeArray(e),a=o.length;a--;)((i=o[a]).selected=-1<Dt.inArray(Dt.valHooks.option.get(i),r))&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),Dt.each(["radio","checkbox"],function(){Dt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<Dt.inArray(Dt(t).val(),e)}},yt.checkOn||(Dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),yt.focusin="onfocusin"in D;var Ne=/^(?:focusinfocus|focusoutblur)$/,Le=function(t){t.stopPropagation()};Dt.extend(Dt.event,{trigger:function(t,e,n,i){var o,r,a,s,l,c,u,d,h=[n||_t],f=mt.call(t,"type")?t.type:t,p=mt.call(t,"namespace")?t.namespace.split("."):[];if(r=d=a=n=n||_t,3!==n.nodeType&&8!==n.nodeType&&!Ne.test(f+Dt.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,(t=t[Dt.expando]?t:new Dt.Event(f,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:Dt.makeArray(e,[t]),u=Dt.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!Et(n)){for(s=u.delegateType||f,Ne.test(s+f)||(r=r.parentNode);r;r=r.parentNode)h.push(r),a=r;a===(n.ownerDocument||_t)&&h.push(a.defaultView||a.parentWindow||D)}for(o=0;(r=h[o++])&&!t.isPropagationStopped();)d=r,t.type=1<o?s:u.bindType||f,(c=(jt.get(r,"events")||Object.create(null))[t.type]&&jt.get(r,"handle"))&&c.apply(r,e),(c=l&&r[l])&&c.apply&&Bt(r)&&(t.result=c.apply(r,e),!1===t.result&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),e)||!Bt(n)||l&&bt(n[f])&&!Et(n)&&((a=n[l])&&(n[l]=null),Dt.event.triggered=f,t.isPropagationStopped()&&d.addEventListener(f,Le),n[f](),t.isPropagationStopped()&&d.removeEventListener(f,Le),Dt.event.triggered=undefined,a&&(n[l]=a)),t.result}},simulate:function(t,e,n){var i=Dt.extend(new Dt.Event,n,{type:t,isSimulated:!0});Dt.event.trigger(i,null,e)}}),Dt.fn.extend({trigger:function(t,e){return this.each(function(){Dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Dt.event.trigger(t,e,n,!0)}}),yt.focusin||Dt.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){Dt.event.simulate(i,t.target,Dt.event.fix(t))};Dt.event.special[i]={setup:function(){var t=this.ownerDocument||this.document||this,e=jt.access(t,i);e||t.addEventListener(n,o,!0),jt.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=jt.access(t,i)-1;e?jt.access(t,i,e):(t.removeEventListener(n,o,!0),jt.remove(t,i))}}});var Pe=D.location,Fe={guid:Date.now()},Me=/\?/;Dt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new D.DOMParser).parseFromString(t,"text/xml")}catch(n){e=undefined}return e&&!e.getElementsByTagName("parsererror").length||Dt.error("Invalid XML: "+t),e};var $e=/\[\]$/,Be=/\r?\n/g,je=/^(?:submit|button|image|reset|file)$/i,ze=/^(?:input|select|textarea|keygen)/i;Dt.param=function(t,e){var n,i=[],o=function(t,e){var n=bt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!Dt.isPlainObject(t))Dt.each(t,function(){o(this.name,this.value)});else for(n in t)et(n,t[n],e,o);return i.join("&")},Dt.fn.extend({serialize:function(){return Dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Dt.prop(this,"elements");return t?Dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Dt(this).is(":disabled")&&ze.test(this.nodeName)&&!je.test(t)&&(this.checked||!ee.test(t))}).map(function(t,e){var n=Dt(this).val();return null==n?null:Array.isArray(n)?Dt.map(n,function(t){return{name:e.name,value:t.replace(Be,"\r\n")}}):{name:e.name,value:n.replace(Be,"\r\n")}}).get()}});var qe=/%20/g,He=/#.*$/,Ue=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ze=/^(?:GET|HEAD)$/,Ge=/^\/\//,Ye={},Xe={},Qe="*/".concat("*"),Je=_t.createElement("a");Je.href=Pe.href,Dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pe.href,type:"GET",isLocal:Ve.test(Pe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ot(ot(t,Dt.ajaxSettings),e):ot(Dt.ajaxSettings,t)},ajaxPrefilter:nt(Ye),ajaxTransport:nt(Xe),ajax:function(t,e){function n(t,e,n,i){var o,r,a,s,l,c=e;p||(p=!0,f&&D.clearTimeout(f),u=undefined,h=i||"",T.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=rt(g,T,n)),!o&&-1<Dt.inArray("script",g.dataTypes)&&(g.converters["text script"]=function(){}),s=at(g,s,T,o),o?(g.ifModified&&((l=T.getResponseHeader("Last-Modified"))&&(Dt.lastModified[d]=l),(l=T.getResponseHeader("etag"))&&(Dt.etag[d]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),T.status=t,T.statusText=(e||c)+"",o?b.resolveWith(v,[r,c,T]):b.rejectWith(v,[T,c,a]),T.statusCode(_),_=undefined,m&&y.trigger(o?"ajaxSuccess":"ajaxError",[T,g,o?r:a]),E.fireWith(v,[T,c]),m&&(y.trigger("ajaxComplete",[T,g]),--Dt.active||Dt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var u,d,h,i,f,o,p,m,r,a,g=Dt.ajaxSetup({},e),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?Dt(v):Dt.event,b=Dt.Deferred(),E=Dt.Callbacks("once memory"),_=g.statusCode||{},s={},l={},c="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(p){if(!i)for(i={};e=We.exec(h);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return p?h:null},setRequestHeader:function(t,e){return null==p&&(t=l[t.toLowerCase()]=l[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==p&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(p)T.always(t[T.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||c;return u&&u.abort(e),n(0,e),this}};if(b.promise(T),g.url=((t||g.url||Pe.href)+"").replace(Ge,Pe.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(Nt)||[""],null==g.crossDomain){o=_t.createElement("a");try{o.href=g.url,o.href=o.href,g.crossDomain=Je.protocol+"//"+Je.host!=o.protocol+"//"+o.host}catch(C){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=Dt.param(g.data,g.traditional)),it(Ye,g,e,T),p)return T;for(r in(m=Dt.event&&g.global)&&0==Dt.active++&&Dt.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ze.test(g.type),d=g.url.replace(He,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(qe,"+")):(a=g.url.slice(d.length),g.data&&(g.processData||"string"==typeof g.data)&&(d+=(Me.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(d=d.replace(Ue,"$1"),a=(Me.test(d)?"&":"?")+"_="+Fe.guid+++a),g.url=d+a),g.ifModified&&(Dt.lastModified[d]&&T.setRequestHeader("If-Modified-Since",Dt.lastModified[d]),Dt.etag[d]&&T.setRequestHeader("If-None-Match",Dt.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Qe+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(v,T,g)||p))return T.abort();if(c="abort",E.add(g.complete),T.done(g.success),T.fail(g.error),u=it(Xe,g,e,T)){if(T.readyState=1,m&&y.trigger("ajaxSend",[T,g]),p)return T;g.async&&0<g.timeout&&(f=D.setTimeout(function(){T.abort("timeout")},g.timeout));try{p=!1,u.send(s,n)}catch(C){if(p)throw C;n(-1,C)}}else n(-1,"No Transport");return T},getJSON:function(t,e,n){return Dt.get(t,e,n,"json")},getScript:function(t,e){return Dt.get(t,undefined,e,"script")}}),Dt.each(["get","post"],function(t,o){Dt[o]=function(t,e,n,i){return bt(e)&&(i=i||n,n=e,e=undefined),Dt.ajax(Dt.extend({url:t,type:o,dataType:i,data:e,success:n},Dt.isPlainObject(t)&&t))}}),Dt.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),Dt._evalUrl=function(t,e,n){return Dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){Dt.globalEval(t,e,n)}})},Dt.fn.extend({wrapAll:function(t){var e;return this[0]&&(bt(t)&&(t=t.call(this[0])),e=Dt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return bt(n)?this.each(function(t){Dt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=Dt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=bt(e);return this.each(function(t){Dt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){Dt(this).replaceWith(this.childNodes)}),this}}),Dt.expr.pseudos.hidden=function(t){return!Dt.expr.pseudos.visible(t)},Dt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Dt.ajaxSettings.xhr=function(){try{return new D.XMLHttpRequest}catch(t){}};var tn={0:200,1223:204},en=Dt.ajaxSettings.xhr();yt.cors=!!en&&"withCredentials"in en,yt.ajax=en=!!en,Dt.ajaxTransport(function(r){var a,s;if(yt.cors||en&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);a=function(t){return function(){a&&(a=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(tn[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),s=i.onerror=i.ontimeout=a("error"),i.onabort!==undefined?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&D.setTimeout(function(){a&&s()})},a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(o){if(a)throw o}},abort:function(){a&&a()}}}),Dt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),Dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Dt.globalEval(t),t}}}),Dt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Dt.ajaxTransport("script",function(n){var i,o;if(n.crossDomain||n.scriptAttrs)return{send:function(t,e){i=Dt("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(t){i.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),_t.head.appendChild(i[0])},abort:function(){o&&o()}}});var nn,on=[],rn=/(=)\?(?=&|$)|\?\?/;Dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=on.pop()||Dt.expando+"_"+Fe.guid++;return this[t]=!0,t}}),Dt.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,a=!1!==t.jsonp&&(rn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=bt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(rn,"$1"+i):!1!==t.jsonp&&(t.url+=(Me.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||Dt.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=D[i],D[i]=function(){r=arguments},n.always(function(){o===undefined?Dt(D).removeProp(i):D[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,on.push(i)),r&&bt(o)&&o(r[0]),r=o=undefined}),"script"}),yt.createHTMLDocument=((nn=_t.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===nn.childNodes.length),Dt.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(yt.createHTMLDocument?((i=(e=_t.implementation.createHTMLDocument("")).createElement("base")).href=_t.location.href,e.head.appendChild(i)):e=_t),r=!n&&[],(o=Rt.exec(t))?[e.createElement(o[1])]:(o=T([t],e,r),r&&r.length&&Dt(r).remove(),Dt.merge([],o.childNodes)));var i,o,r},Dt.fn.load=function(t,e,n){var i,o,r,a=this,s=t.indexOf(" ");return-1<s&&(i=Q(t.slice(s)),t=t.slice(0,s)),bt(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),0<a.length&&Dt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?Dt("<div>").append(Dt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},Dt.expr.pseudos.animated=function(e){return Dt.grep(Dt.timers,function(t){return e===t.elem}).length},Dt.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=Dt.css(t,"position"),u=Dt(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=Dt.css(t,"top"),l=Dt.css(t,"left"),o=("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(a=(i=u.position()).top,i.left):(a=parseFloat(r)||0,parseFloat(l)||0),bt(e)&&(e=e.call(t,n,Dt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),u.css(d))}},Dt.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){Dt.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===Dt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===Dt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=Dt(t).offset()).top+=Dt.css(t,"borderTopWidth",!0),o.left+=Dt.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-Dt.css(i,"marginTop",!0),left:e.left-o.left-Dt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===Dt.css(t,"position");)t=t.offsetParent;return t||Zt})}}),Dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r="pageYOffset"===o;Dt.fn[e]=function(t){return Ft(this,function(t,e,n){var i;if(Et(t)?i=t:9===t.nodeType&&(i=t.defaultView),n===undefined)return i?i[o]:t[e];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),Dt.each(["top","left"],function(t,n){Dt.cssHooks[n]=M(yt.pixelPosition,function(t,e){if(e)return e=F(t,n),he.test(e)?Dt(t).position()[n]+"px":e})}),Dt.each({Height:"height",Width:"width"},function(a,s){Dt.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,r){Dt.fn[r]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return Ft(this,function(t,e,n){var i;return Et(t)?0===r.indexOf("outer")?t["inner"+a]:t.document.documentElement["client"+a]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+a],i["scroll"+a],t.body["offset"+a],i["offset"+a],i["client"+a])):n===undefined?Dt.css(t,e,o):Dt.style(t,e,n,o)},s,n?t:undefined,n)}})}),Dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Dt.fn[e]=function(t){return this.on(e,t)}}),Dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Dt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){Dt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}});var an=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Dt.proxy=function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),bt(t)?(i=ct.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(ct.call(arguments)))}).guid=t.guid=t.guid||Dt.guid++,o):undefined},Dt.holdReady=function(t){t?Dt.readyWait++:Dt.ready(!0)},Dt.isArray=Array.isArray,Dt.parseJSON=JSON.parse,Dt.nodeName=c,Dt.isFunction=bt,Dt.isWindow=Et,Dt.camelCase=f,Dt.type=g,Dt.now=Date.now,Dt.isNumeric=function(t){var e=Dt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},Dt.trim=function(t){return null==t?"":(t+"").replace(an,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Dt});var sn=D.jQuery,ln=D.$;return Dt.noConflict=function(t){return D.$===Dt&&(D.$=ln),t&&D.jQuery===Dt&&(D.jQuery=sn),Dt},void 0===t&&(D.jQuery=D.$=Dt),Dt}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var t=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,n){var i=u.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return u.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,o,r,a;if(c.fire(i,"ajax:before")){if(o=i.data("with-credentials")||null,r=i.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=u(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=c.href(i),n=i.data("params")||null);return a={type:t||"GET",data:n,dataType:r,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c.isCrossDomain(e)},o&&(a.xhrFields={withCredentials:o}),e&&(a.url=e),c.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=c.href(t),n=t.data("method"),i=t.attr("target"),o=c.csrfToken(),r=c.csrfParam(),a=u('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';r===l||o===l||c.isCrossDomain(e)||(s+='<input name="'+r+'" value="'+o+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?u(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(c.fire(t,"confirm")){try{i=c.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=c.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,o,r,a=u(),s=e||"input,textarea",l=t.find(s),c={};return l.each(function(){(i=u(this)).is("input[type=radio]")?(r=i.attr("name"),c[r]||(0===t.find('input[type=radio]:checked[name="'+r+'"]').length&&(o=t.find('input[type=radio][name="'+r+'"]'),a=a.add(o)),c[r]=r)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return u(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(u.ajaxPrefilter(function(t,e,n){t.crossDomain||c.CSRFProtection(n)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableFormElement(t)}),u(u.rails.linkDisableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=u(this),n=e.data("method"),i=e.data("params"),o=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!o&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(o&&(!n||"GET"===n)&&!i)return!0;var r=c.handleRemote(e);return!1===r?c.enableElement(e):r.fail(function(){c.enableElement(e)}),!1}return n?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=u(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var n=c.handleRemote(e);return!1===n?c.enableFormElement(e):n.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=u(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,n,i=u(this),o=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[e]))return c.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(o){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var r=c.fire(i,"ajax:aborted:file",[n]);return r||setTimeout(function(){c.enableFormElements(i)},13),r}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),t.on("click.rails",
c.formInputClickSelector,function(t){var e=u(this);if(!c.allowAction(e))return c.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,o=e.closest("form");0===o.length&&(o=u("#"+e.attr("form"))),o.data("ujs:submit-button",i),o.data("ujs:formnovalidate-button",e.attr("formnovalidate")),o.data("ujs:submit-button-formaction",e.attr("formaction")),o.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(u(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],t):t(jQuery)}(function(C){function l(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},C.extend(this._defaults,this.regional[""]),this.regional.en=C.extend(!0,{},this.regional[""]),this.regional["en-US"]=C.extend(!0,{},this.regional.en),this.dpDiv=n(C("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){C(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,a)}function a(){C.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(C(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),C(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).addClass("ui-datepicker-next-hover"))}function d(t,e){for(var n in C.extend(t,e),e)null==e[n]&&(t[n]=e[n]);return t}var s;return C.extend(C.ui,{datepicker:{version:"1.12.1"}}),C.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return d(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var n,i,o;i="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(C(t),i)).settings=C.extend({},e||{}),"input"===n?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?n(C("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var n=C(t);e.append=C([]),e.trigger=C([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),C.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n,i,o,r=this._get(e,"appendText"),a=this._get(e,"isRTL");e.append&&e.append.remove(),r&&(e.append=C("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(n=this._get(e,"showOn"))&&"both"!==n||t.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(e,"buttonText"),o=this._get(e,"buttonImage"),e.trigger=C(this._get(e,"buttonImageOnly")?C("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):C("<button type='button'></button>").addClass(this._triggerClass).html(o?C("<img/>").attr({src:o,alt:i,title:i}):i)),t[a?"before":"after"](e.trigger),e.trigger.on("click",function(){return C.datepicker._datepickerShowing&&C.datepicker._lastInput===t[0]?C.datepicker._hideDatepicker():(C.datepicker._datepickerShowing&&C.datepicker._lastInput!==t[0]&&C.datepicker._hideDatepicker(),C.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,o,r=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(o=i=n=0;o<t.length;o++)t[o].length>n&&(n=t[o].length,i=o);return i},r.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(t,e){var n=C(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.dpDiv),C.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,o){var r,a,s,l,c,u=this._dialogInst;return u||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=C("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),C("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},C.data(this._dialogInput[0],"datepicker",u)),d(u.settings,i||{}),e=e&&e.constructor===Date?this._formatDate(u,e):e,this._dialogInput.val(e),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,s=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,s/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),C.blockUI&&C.blockUI(this.dpDiv),C.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(t){var e,n=C(t),i=C.data(t,"datepicker");n.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),C.removeData(t,"datepicker"),"input"===e?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||n.removeClass(this.markerClassName).empty(),s===i&&(s=null))},_enableDatepicker:function(e){var t,n,i=C(e),o=C.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=C.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,n,i=C(e),o=C.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=C.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return C.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i,o,r,a,s=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?C.extend({},C.datepicker._defaults):s?"all"===e?C.extend({},s.settings):this._get(s,e):null;i=e||{},"string"==typeof e&&((i={})[e]=n),s&&(this._curInst===s&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(s,"min"),a=this._getMinMaxDate(s,"max"),d(s.settings,i),null!==r&&i.dateFormat!==undefined&&i.minDate===undefined&&(s.settings.minDate=this._formatDate(s,r)),null!==a&&i.dateFormat!==undefined&&i.maxDate===undefined&&(s.settings.maxDate=this._formatDate(s,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(C(t),s),this._autoSize(s),this._setDate(s,o),this._updateAlternate(s),this._updateDatepicker(s))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e,n,i,o=C.datepicker._getInst(t.target),r=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,C.datepicker._datepickerShowing)switch(t.keyCode){case 9:C.datepicker._hideDatepicker(),r=!1;break;case 13:return(i=C("td."+C.datepicker._dayOverClass+":not(."+C.datepicker._currentClass+")",o.dpDiv))[0]&&C.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(e=C.datepicker._get(o,"onSelect"))?(n=C.datepicker._formatDate(o),e.apply(o.input?o.input[0]:null,[n,o])):C.datepicker._hideDatepicker(),!1;case 27:C.datepicker._hideDatepicker();break;case 33:C.datepicker._adjustDate(t.target,t.ctrlKey?-C.datepicker._get(o,"stepBigMonths"):-C.datepicker._get(o,"stepMonths"),"M");break;case 34:C.datepicker._adjustDate(t.target,t.ctrlKey?+C.datepicker._get(o,"stepBigMonths"):+C.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&C.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&C.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&C.datepicker._adjustDate(t.target,t.ctrlKey?-C.datepicker._get(o,"stepBigMonths"):-C.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&C.datepicker._adjustDate(t.target,t.ctrlKey?+C.datepicker._get(o,"stepBigMonths"):+C.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?C.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,n,i=C.datepicker._getInst(t.target);if(C.datepicker._get(i,"constrainInput"))return e=C.datepicker._possibleChars(C.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!e||-1<e.indexOf(n)},_doKeyUp:function(t){var e=C.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{C.datepicker.parseDate(C.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,C.datepicker._getFormatConfig(e))&&(C.datepicker._setDateFromField(e),C.datepicker._updateAlternate(e),C.datepicker._updateDatepicker(e))}catch(n){}return!0},_showDatepicker:function(t){var e,n,i,o,r,a,s;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=C("input",t.parentNode)[0]),C.datepicker._isDisabledDatepicker(t)||C.datepicker._lastInput===t)||(e=C.datepicker._getInst(t),C.datepicker._curInst&&C.datepicker._curInst!==e&&(C.datepicker._curInst.dpDiv.stop(!0,!0),e&&C.datepicker._datepickerShowing&&C.datepicker._hideDatepicker(C.datepicker._curInst.input[0])),!1!==(i=(n=C.datepicker._get(e,"beforeShow"))?n.apply(t,[t,e]):{})&&(d(e.settings,i),e.lastVal=null,C.datepicker._lastInput=t,C.datepicker._setDateFromField(e),C.datepicker._inDialog&&(t.value=""),C.datepicker._pos||(C.datepicker._pos=C.datepicker._findPos(t),C.datepicker._pos[1]+=t.offsetHeight),o=!1,C(t).parents().each(function(){return!(o|="fixed"===C(this).css("position"))}),r={left:C.datepicker._pos[0],top:C.datepicker._pos[1]},C.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),C.datepicker._updateDatepicker(e),r=C.datepicker._checkOffset(e,r,o),e.dpDiv.css({position:C.datepicker._inDialog&&C.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),e.inline||(a=C.datepicker._get(e,"showAnim"),s=C.datepicker._get(e,"duration"),e.dpDiv.css("z-index",l(C(t))+1),C.datepicker._datepickerShowing=!0,C.effects&&C.effects.effect[a]?e.dpDiv.show(a,C.datepicker._get(e,"showOptions"),s):e.dpDiv[a||"show"](a?s:null),C.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),C.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(s=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,n=this._getNumberOfMonths(t),i=n[1],o=17,r=t.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&a.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",o*i+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===C.datepicker._curInst&&C.datepicker._datepickerShowing&&C.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:C(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:C(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-r:0,e.left-=n&&e.left===t.input.offset().left?C(document).scrollLeft():0,e.top-=n&&e.top===t.input.offset().top+a?C(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>s&&i<s?Math.abs(e.left+i-s):0),e.top-=Math.min(e.top,e.top+o>l&&o<l?Math.abs(o+a):0),e},_findPos:function(t){for(var e,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||C.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=C(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,n,i,o,r=this._curInst;!r||t&&r!==C.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(r,"showAnim"),n=this._get(r,"duration"),i=function(){C.datepicker._tidyDialog(r)},C.effects&&(C.effects.effect[e]||C.effects[e])?r.dpDiv.hide(e,C.datepicker._get(r,"showOptions"),n,i):r.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?n:null,i),e||i(),this._datepickerShowing=!1,(o=this._get(r,"onClose"))&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),C.blockUI&&(C.unblockUI(),C("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(C.datepicker._curInst){var e=C(t.target),n=C.datepicker._getInst(e[0]);(e[0].id===C.datepicker._mainDivId||0!==e.parents("#"+C.datepicker._mainDivId).length||e.hasClass(C.datepicker.markerClassName)||e.closest("."+C.datepicker._triggerClass).length||!C.datepicker._datepickerShowing||C.datepicker._inDialog&&C.blockUI)&&(!e.hasClass(C.datepicker.markerClassName)||C.datepicker._curInst===n)||C.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=C(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,e+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var e,n=C(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,e,n){var i=C(t),o=this._getInst(i[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,e,n,i){var o,r=C(t);C(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((o=this._getInst(r[0])).selectedDay=o.currentDay=C("a",i).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var e=C(t);this._selectDate(e,"")},_selectDate:function(t,e){var n,i=C(t),o=this._getInst(i[0]);e=null!=e?e:this._formatDate(o),o.input&&o.input.val(e),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[e,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,n,i,o=this._get(t,"altField");o&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(e,n,this._getFormatConfig(t)),C(o).val(i))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(n,r,t){if(null==n||null==r)throw"Invalid arguments";if(""===(r="object"==typeof r?r.toString():r+""))return null;var i,e,o,a,s=0,l=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,d=(t?t.dayNames:null)||this._defaults.dayNames,h=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,f=(t?t.monthNames:null)||this._defaults.monthNames,p=-1,m=-1,g=-1,v=-1,y=!1,b=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e},E=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),o=r.substring(s).match(i);if(!o)throw"Missing number at position "+s;return s+=o[0].length,parseInt(o[0],10)},_=function(t,e,n){var i=-1,o=C.map(b(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(C.each(o,function(t,e){var n=e[1];if(r.substr(s,n.length).toLowerCase()===n.toLowerCase())return i=e[0],s+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+s},T=function(){if(r.charAt(s)!==n.charAt(i))throw"Unexpected literal at position "+s;s++};for(i=0;i<n.length;i++)if(y)"'"!==n.charAt(i)||b("'")?T():y=!1;else switch(n.charAt(i)){case"d":g=E("d");break;case"D":_("D",u,d);break;case"o":v=E("o");break;case"m":m=E("m");break;case"M":m=_("M",h,f);break;case"y":p=E("y");break;case"@":p=(a=new Date(E("@"))).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"!":p=(a=new Date((E("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"'":b("'")?T():y=!0;break;default:T()}if(s<r.length&&(o=r.substr(s),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=c?0:-100)),-1<v)for(m=1,g=v;;){if(g<=(e=this._getDaysInMonth(p,m-1)))break;m++,g-=e}if((a=this._daylightSavingAdjust(new Date(p,m-1,g))).getFullYear()!==p||a.getMonth()+1!==m||a.getDate()!==g)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";var i,o=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,r=(e?e.dayNames:null)||this._defaults.dayNames,a=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,s=(e?e.monthNames:null)||this._defaults.monthNames,l=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e},c=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",h=!1;if(t)for(i=0;i<n.length;i++)if(h)"'"!==n.charAt(i)||l("'")?d+=n.charAt(i):h=!1;else switch(n.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),o,r);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=n.charAt(i)}return d},_possibleChars:function(n){var i,t="",e=!1,o=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e};for(i=0;i<n.length;i++)if(e)"'"!==n.charAt(i)||o("'")?t+=n.charAt(i):e=!1;else switch(n.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":o("'")?t+="'":e=!0;break;default:t+=n.charAt(i)}return t},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,a=this._getFormatConfig(t);try{r=this.parseDate(n,i,a)||o}catch(event){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(l,t,e){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},i=null==t||""===t?e:"string"==typeof t?function(t){try{return C.datepicker.parseDate(C.datepicker._get(l,"dateFormat"),t,C.datepicker._getFormatConfig(l))}catch(s){}for(var e=(t.toLowerCase().match(/^c/)?C.datepicker._getDate(l):null)||new Date,n=e.getFullYear(),i=e.getMonth(),o=e.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=r.exec(t);a;){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=7*parseInt(a[1],10);break;case"m":case"M":i+=parseInt(a[1],10),o=Math.min(o,C.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(a[1],10),o=Math.min(o,C.datepicker._getDaysInMonth(n,i))}a=r.exec(t)}return new Date(n,i,o)}(t):"number"==typeof t?isNaN(t)?e:n(t):new Date(t.getTime());return(i=i&&"Invalid Date"===i.toString()?e:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,o=t.selectedMonth,r=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){C.datepicker._adjustDate(n,-e,"M")},next:function(){C.datepicker._adjustDate(n,+e,"M")},hide:function(){C.datepicker._hideDatepicker()},today:function(){C.datepicker._gotoToday(n)},selectDay:function(){return C.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return C.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return C.datepicker._selectMonthYear(n,this,"Y"),!1}};C(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,E,_,T,C,D,O,I,k,w,R,x,S,K,A,N,L,P,F,M,$,B=new Date,j=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),z=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),H=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),Z=this._get(t,"stepMonths"),G=1!==W[0]||1!==W[1],Y=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-V,tt=t.drawYear;if(J<0&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-W[0]*W[1]+1,Q.getDate())),e=X&&e<X?X:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-Z,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>",o=this._get(t,"nextText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,J+Z,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?Y:j,a=U?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),E="",T=0;T<W[0];T++){for(C="",this.maxRows=4,D=0;D<W[1];D++){if(O=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),I=" ui-corner-all",k="",G){if(k+="<div class='ui-datepicker-group",1<W[1])switch(D){case 0:k+=" ui-datepicker-group-first",I=" ui-corner-"+(z?"right":"left");break;case W[1]-1:k+=" ui-datepicker-group-last",I=" ui-corner-"+(z?"left":"right");break;default:k+=" ui-datepicker-group-middle",I=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===T?z?r:i:"")+(/all|right/.test(I)&&0===T?z?i:r:"")+this._generateMonthYearHeader(t,J,tt,X,Q,0<T||0<D,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",w=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;_<7;_++)w+="<th scope='col'"+(5<=(_+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+h[R=(_+u)%7]+"'>"+f[R]+"</span></th>";for(k+=w+"</tr></thead><tbody>",x=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,x)),S=(this._getFirstDayOfMonth(tt,J)-u+7)%7,K=Math.ceil((S+x)/7),A=G&&this.maxRows>K?this.maxRows:K,this.maxRows=A,N=this._daylightSavingAdjust(new Date(tt,J,1-S)),L=0;L<A;L++){for(k+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",_=0;_<7;_++)F=g?g.apply(t.input?t.input[0]:null,[N]):[!0,""],$=(M=N.getMonth()!==J)&&!y||!F[0]||X&&N<X||Q&&Q<N,P+="<td class='"+(5<=(_+u+6)%7?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(N.getTime()===O.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===O.getTime()?" "+this._dayOverClass:"")+($?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!v?"":" "+F[1]+(N.getTime()===Y.getTime()?" "+this._currentClass:"")+(N.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(M&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+($?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(M&&!v?"&#xa0;":$?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===j.getTime()?" ui-state-highlight":"")+(N.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);k+=P+"</tr>"}11<++J&&(J=0,tt++),C+=k+="</tbody></table>"+(G?"</div>"+(0<W[0]&&D===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""
):"")}E+=C}return E+=c,t._keyEvent=!1,E},_generateMonthYearHeader:function(t,e,n,i,o,r,a,s){var l,c,u,d,h,f,p,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",E="";if(r||!g)E+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=o&&o.getFullYear()===n,E+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=o.getMonth())&&(E+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");E+="</select>"}if(y||(b+=E+(!r&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(d[0]),m=Math.max(p,f(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=o?Math.min(m,o.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!r&&g&&v?"":"&#xa0;")+E),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),o=t.selectedMonth+("M"===n?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,o))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,o,r)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),o=n&&e<n?n:e;return i&&i<o?i:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(n,i+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var n,i,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),C.fn.datepicker=function(t,e){if(!this.length)return this;C.datepicker.initialized||(C(document).on("mousedown",C.datepicker._checkExternalClick),C.datepicker.initialized=!0),0===C("#"+C.datepicker._mainDivId).length&&C("body").append(C.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof e?C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this].concat(n)):C.datepicker._attachDatepicker(this,t)}):C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this[0]].concat(n))},C.datepicker=new t,C.datepicker.initialized=!1,C.datepicker.uuid=(new Date).getTime(),C.datepicker.version="1.12.1",C.datepicker}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.ar={closeText:"\u0625\u063a\u0644\u0627\u0642",prevText:"&#x3C;\u0627\u0644\u0633\u0627\u0628\u0642",nextText:"\u0627\u0644\u062a\u0627\u0644\u064a&#x3E;",currentText:"\u0627\u0644\u064a\u0648\u0645",monthNames:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],dayNamesShort:["\u0623\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"],dayNamesMin:["\u062d","\u0646","\u062b","\u0631","\u062e","\u062c","\u0633"],weekHeader:"\u0623\u0633\u0628\u0648\u0639",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ar),t.regional.ar}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.bs={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","\u010ce","Pe","Su"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.bs),t.regional.bs}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.cs={closeText:"Zav\u0159\xedt",prevText:"&#x3C;D\u0159\xedve",nextText:"Pozd\u011bji&#x3E;",currentText:"Nyn\xed",monthNames:["leden","\xfanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec","srpen","z\xe1\u0159\xed","\u0159\xedjen","listopad","prosinec"],monthNamesShort:["led","\xfano","b\u0159e","dub","kv\u011b","\u010der","\u010dvc","srp","z\xe1\u0159","\u0159\xedj","lis","pro"],dayNames:["ned\u011ble","pond\u011bl\xed","\xfater\xfd","st\u0159eda","\u010dtvrtek","p\xe1tek","sobota"],dayNamesShort:["ne","po","\xfat","st","\u010dt","p\xe1","so"],dayNamesMin:["ne","po","\xfat","st","\u010dt","p\xe1","so"],weekHeader:"T\xfdd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.cs),t.regional.cs}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.da={closeText:"Luk",prevText:"&#x3C;Forrige",nextText:"N\xe6ste&#x3E;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],dayNamesShort:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"],dayNamesMin:["S\xf8","Ma","Ti","On","To","Fr","L\xf8"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.da),t.regional.da}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.de={closeText:"Schlie\xdfen",prevText:"&#x3C;Zur\xfcck",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.de),t.regional.de}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.el={closeText:"\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf",prevText:"\u03a0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf\u03c2",nextText:"\u0395\u03c0\u03cc\u03bc\u03b5\u03bd\u03bf\u03c2",currentText:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",monthNames:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],monthNamesShort:["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03b1\u03c1","\u0391\u03c0\u03c1","\u039c\u03b1\u03b9","\u0399\u03bf\u03c5\u03bd","\u0399\u03bf\u03c5\u03bb","\u0391\u03c5\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03b5","\u0394\u03b5\u03ba"],dayNames:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],dayNamesShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03b9","\u03a4\u03b5\u03c4","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayNamesMin:["\u039a\u03c5","\u0394\u03b5","\u03a4\u03c1","\u03a4\u03b5","\u03a0\u03b5","\u03a0\u03b1","\u03a3\u03b1"],weekHeader:"\u0395\u03b2\u03b4",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.el),t.regional.el}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.es={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.es),t.regional.es}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.fa={closeText:"\u0628\u0633\u062a\u0646",prevText:"&#x3C;\u0642\u0628\u0644\u06cc",nextText:"\u0628\u0639\u062f\u06cc&#x3E;",currentText:"\u0627\u0645\u0631\u0648\u0632",monthNames:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["\u064a\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],dayNamesShort:["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"],dayNamesMin:["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"],weekHeader:"\u0647\u0641",dateFormat:"yy/mm/dd",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fa),t.regional.fa}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.fr={closeText:"Fermer",prevText:"Pr\xe9c\xe9dent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fr),t.regional.fr}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.gl={closeText:"Pechar",prevText:"&#x3C;Ant",nextText:"Seg&#x3E;",currentText:"Hoxe",monthNames:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xu\xf1o","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthNamesShort:["Xan","Feb","Mar","Abr","Mai","Xu\xf1","Xul","Ago","Set","Out","Nov","Dec"],dayNames:["Domingo","Luns","Martes","M\xe9rcores","Xoves","Venres","S\xe1bado"],dayNamesShort:["Dom","Lun","Mar","M\xe9r","Xov","Ven","S\xe1b"],dayNamesMin:["Do","Lu","Ma","M\xe9","Xo","Ve","S\xe1"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.gl),t.regional.gl}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.he={closeText:"\u05e1\u05d2\u05d5\u05e8",prevText:"&#x3C;\u05d4\u05e7\u05d5\u05d3\u05dd",nextText:"\u05d4\u05d1\u05d0&#x3E;",currentText:"\u05d4\u05d9\u05d5\u05dd",monthNames:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],monthNamesShort:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"],dayNames:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],dayNamesShort:["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9\u05d1\u05ea"],dayNamesMin:["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9\u05d1\u05ea"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.he),t.regional.he}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.hr={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","O\u017eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","\u010ce","Pe","Su"],weekHeader:"Tje",dateFormat:"dd.mm.yy.",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.hr),t.regional.hr}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.id={closeText:"Tutup",prevText:"&#x3C;mundur",nextText:"maju&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesShort:["Min","Sen","Sel","Rab","kam","Jum","Sab"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.id),t.regional.id}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.it),t.regional.it}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.nl={closeText:"Sluiten",prevText:"\u2190",nextText:"\u2192",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.nl),t.regional.nl}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.pl={closeText:"Zamknij",prevText:"&#x3C;Poprzedni",nextText:"Nast\u0119pny&#x3E;",currentText:"Dzi\u015b",monthNames:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],dayNamesShort:["Nie","Pn","Wt","\u015ar","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","\u015ar","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.pl),t.regional.pl}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Pr\xf3ximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["pt-BR"]),t.regional["pt-BR"]}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.ru={closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",prevText:"&#x3C;\u041f\u0440\u0435\u0434",nextText:"\u0421\u043b\u0435\u0434&#x3E;",currentText:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dayNames:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0432\u0441\u043a","\u043f\u043d\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043f\u0442\u043d","\u0441\u0431\u0442"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],weekHeader:"\u041d\u0435\u0434",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ru),t.regional.ru}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.sl={closeText:"Zapri",prevText:"&#x3C;Prej\u0161nji",nextText:"Naslednji&#x3E;",currentText:"Trenutni",monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","\u010ce","Pe","So"],weekHeader:"Teden",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sl),t.regional.sl}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.sq={closeText:"mbylle",prevText:"&#x3C;mbrapa",nextText:"P\xebrpara&#x3E;",currentText:"sot",monthNames:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","N\xebntor","Dhjetor"],monthNamesShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","N\xebn","Dhj"],dayNames:["E Diel","E H\xebn\xeb","E Mart\xeb","E M\xebrkur\xeb","E Enjte","E Premte","E Shtune"],dayNamesShort:["Di","H\xeb","Ma","M\xeb","En","Pr","Sh"],dayNamesMin:["Di","H\xeb","Ma","M\xeb","En","Pr","Sh"],weekHeader:"Ja",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sq),t.regional.sq}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.sv={closeText:"St\xe4ng",prevText:"&#xAB;F\xf6rra",nextText:"N\xe4sta&#xBB;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"],dayNames:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],dayNamesMin:["S\xf6","M\xe5","Ti","On","To","Fr","L\xf6"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sv),t.regional.sv}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["zh-CN"]={closeText:"\u5173\u95ed",prevText:"&#x3C;\u4e0a\u6708",nextText:"\u4e0b\u6708&#x3E;",currentText:"\u4eca\u5929",monthNames:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthNamesShort:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayNames:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayNamesShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],dayNamesMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],weekHeader:"\u5468",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"},t.setDefaults(t.regional["zh-CN"]),t.regional["zh-CN"]}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["zh-TW"]={closeText:"\u95dc\u9589",prevText:"&#x3C;\u4e0a\u6708",nextText:"\u4e0b\u6708&#x3E;",currentText:"\u4eca\u5929",monthNames:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthNamesShort:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayNames:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayNamesShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],dayNamesMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],weekHeader:"\u5468",dateFormat:"yy/mm/dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"},t.setDefaults(t.regional["zh-TW"]),t.regional["zh-TW"]}),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["en-GB"]),t.regional["en-GB"]}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(I){return function(){function T(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function C(t,e){return parseInt(I.css(t,e),10)||0}function e(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:I.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var o,D=Math.max,O=Math.abs,i=/left|center|right/,r=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,n=I.fn.position;I.position={scrollbarWidth:function(){if(o!==undefined)return o;var t,e,n=I("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return I("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),o=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?I.position.scrollbarWidth():0,height:i?I.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=I(t||window),n=I.isWindow(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:!n&&!i?I(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},I.fn.position=function(d){if(!d||!d.of)return n.apply(this,arguments);d=I.extend({},d);var h,f,p,m,g,t,v=I(d.of),y=I.position.getWithinInfo(d.within),b=I.position.getScrollInfo(y),E=(d.collision||"flip").split(" "),_={};return t=e(v),v[0].preventDefault&&(d.at="left top"),f=t.width,p=t.height,m=t.offset,g=I.extend({},m),I.each(["my","at"],function(){var t,e,n=(d[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):r.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=r.test(n[1])?n[1]:"center",t=a.exec(n[0]),e=a.exec(n[1]),_[this]=[t?t[0]:0,e?e[0]:0],d[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]}),1===E.length&&(E[1]=E[0]),"right"===d.at[0]?g.left+=f:"center"===d.at[0]&&(g.left+=f/2),"bottom"===d.at[1]?g.top+=p:"center"===d.at[1]&&(g.top+=p/2),h=T(_.at,f,p),g.left+=h[0],g.top+=h[1],this.each(function(){var n,t,a=I(this),s=a.outerWidth(),l=a.outerHeight(),e=C(this,"marginLeft"),i=C(this,"marginTop"),o=s+e+C(this,"marginRight")+b.width,r=l+i+C(this,"marginBottom")+b.height,c=I.extend({},g),u=T(_.my,a.outerWidth(),a.outerHeight());"right"===d.my[0]?c.left-=s:"center"===d.my[0]&&(c.left-=s/2),"bottom"===d.my[1]?c.top-=l:"center"===d.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],n={marginLeft:e,marginTop:i},I.each(["left","top"],function(t,e){I.ui.position[E[t]]&&I.ui.position[E[t]][e](c,{targetWidth:f,targetHeight:p,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:r,offset:[h[0]+u[0],h[1]+u[1]],my:d.my,at:d.at,within:y,elem:a})}),d.using&&(t=function(t){var e=m.left-c.left,n=e+f-s,i=m.top-c.top,o=i+p-l,r={target:{element:v,left:m.left,top:m.top,width:f,height:p},element:{element:a,left:c.left,top:c.top,width:s,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:o<0?"top":0<i?"bottom":"middle"};f<s&&O(e+n)<f&&(r.horizontal="center"),p<l&&O(i+o)<p&&(r.vertical="middle"),D(O(e),O(n))>D(O(i),O(o))?r.important="horizontal":r.important="vertical",d.using.call(this,t,r)}),a.offset(I.extend(c,{using:t}))})},I.ui.position={
fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,a=t.left-e.collisionPosition.marginLeft,s=o-a,l=a+e.collisionWidth-r-o;e.collisionWidth>r?0<s&&l<=0?(n=t.left+s+e.collisionWidth-r-o,t.left+=s-n):t.left=0<l&&s<=0?o:l<s?o+r-e.collisionWidth:o:0<s?t.left+=s:0<l?t.left-=l:t.left=D(t.left-a,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,s=o-a,l=a+e.collisionHeight-r-o;e.collisionHeight>r?0<s&&l<=0?(n=t.top+s+e.collisionHeight-r-o,t.top+=s-n):t.top=0<l&&s<=0?o:l<s?o+r-e.collisionHeight:o:0<s?t.top+=s:0<l?t.top-=l:t.top=D(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,a=o.width,s=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-s,u=l+e.collisionWidth-a-s,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,h="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+d+h+f+e.collisionWidth-a-r)<0||n<O(c))&&(t.left+=d+h+f):0<u&&(0<(i=t.left-e.collisionPosition.marginLeft+d+h+f-s)||O(i)<u)&&(t.left+=d+h+f)},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,a=o.height,s=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-s,u=l+e.collisionHeight-a-s,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,h="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?((i=t.top+d+h+f+e.collisionHeight-a-r)<0||i<O(c))&&(t.top+=d+h+f):0<u&&(0<(n=t.top-e.collisionPosition.marginTop+d+h+f-s)||O(n)<u)&&(t.top+=d+h+f)}},flipfit:{left:function(){I.ui.position.flip.left.apply(this,arguments),I.ui.position.fit.left.apply(this,arguments)},top:function(){I.ui.position.flip.top.apply(this,arguments),I.ui.position.fit.top.apply(this,arguments)}}}}(),I.ui.position}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var e}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(u){var r,n=0,s=Array.prototype.slice;return u.cleanData=(r=u.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=u._data(n,"events"))&&e.remove&&u(n).triggerHandler("remove")}catch(o){}r(t)}),u.widget=function(t,n,e){var i,o,r,a={},s=t.split(".")[0],l=s+"-"+(t=t.split(".")[1]);return e||(e=n,n=u.Widget),u.isArray(e)&&(e=u.extend.apply(null,[{}].concat(e))),u.expr[":"][l.toLowerCase()]=function(t){return!!u.data(t,l)},u[s]=u[s]||{},i=u[s][t],o=u[s][t]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},u.extend(o,i,{version:e.version,_proto:u.extend({},e),_childConstructors:[]}),(r=new n).options=u.widget.extend({},r.options),u.each(e,function(e,r){u.isFunction(r)?a[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=o,t=r.apply(this,arguments),this._super=e,this._superApply=n,t}}():a[e]=r}),o.prototype=u.widget.extend(r,{widgetEventPrefix:i&&r.widgetEventPrefix||t},a,{constructor:o,namespace:s,widgetName:t,widgetFullName:l}),i?(u.each(i._childConstructors,function(t,e){var n=e.prototype;u.widget(n.namespace+"."+n.widgetName,o,e._proto)}),delete i._childConstructors):n._childConstructors.push(o),u.widget.bridge(t,o),o},u.widget.extend=function(t){for(var e,n,i=s.call(arguments,1),o=0,r=i.length;o<r;o++)for(e in i[o])n=i[o][e],i[o].hasOwnProperty(e)&&n!==undefined&&(u.isPlainObject(n)?t[e]=u.isPlainObject(t[e])?u.widget.extend({},t[e],n):u.widget.extend({},n):t[e]=n);return t},u.widget.bridge=function(r,e){var a=e.prototype.widgetFullName||r;u.fn[r]=function(n){var t="string"==typeof n,i=s.call(arguments,1),o=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=u.data(this,a);return"instance"===n?(o=e,!1):e?u.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==undefined?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:u.error("no such method '"+n+"' for "+r+" widget instance"):u.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):o=undefined:(i.length&&(n=u.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=u.data(this,a);t?(t.option(n||{}),t._init&&t._init()):u.data(this,a,new e(n,this))})),o}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=u(e||this.defaultElement||this)[0],this.element=u(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=u(),this.hoverable=u(),this.focusable=u(),this.classesElementLookup={},e!==this&&(u.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=u(e.style?e.ownerDocument:e.document||e),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=u.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){var n=this;this._destroy(),u.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:u.noop,widget:function(){return this.element},option:function(t,e){var n,i,o,r=t;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(i=r[t]=u.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(t=n.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=e}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=u(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){function t(t,e){var n,i;for(i=0;i<t.length;i++)n=a.classesElementLookup[t[i]]||u(),n=o.add?u(u.unique(n.get().concat(o.element.get()))):u(n.not(o.element).get()),a.classesElementLookup[t[i]]=n,r.push(t[i]),e&&o.classes[t[i]]&&r.push(o.classes[t[i]])}var r=[],a=this;return o=u.extend({element:this.element,classes:this.options.classes||{}},o),this._on(o.element,{remove:"_untrackClassesElement"}),o.keys&&t(o.keys.match(/\S+/g)||[],!0),o.extra&&t(o.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(n){var i=this;u.each(i.classesElementLookup,function(t,e){-1!==u.inArray(n.target,e)&&(i.classesElementLookup[t]=u(e.not(n.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t,r={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(a,s,t){var l,c=this;"boolean"!=typeof a&&(t=s,s=a,a=!1),t?(s=l=u(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),u.each(t,function(t,e){function n(){if(a||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof e?c[e]:e).apply(c,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||u.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+c.eventNamespace,r=i[2];r?l.on(o,r,n):s.on(o,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=u(this.bindings.not(t).get()),this.focusable=u(this.focusable.not(t).get()),this.hoverable=u(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(u(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(u(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(u(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(u(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,o,r=this.options[t];if(n=n||{},(e=u.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(i in o)i in e||(e[i]=o[i]);return this.element.trigger(e,n),!(u.isFunction(r)&&!1===r.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(r,a){u.Widget.prototype["_"+r]=function(e,t,n){var i;"string"==typeof t&&(t={effect:t});var o=t?!0===t||"number"==typeof t?a:t.effect||a:r;"number"==typeof(t=t||{})&&(t={duration:t}),i=!u.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&u.effects&&u.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){u(this)[r](),n&&n.call(e[0]),t()})}}),u.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}(function(s){return s.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=s(t.target),n=s(s.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var e=s(t.target).closest(".ui-menu-item"),n=s(t.currentTarget);e[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){!s.contains(this.element[0],s.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=s(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,n,i,o,r=!0;switch(t.keyCode){case s.ui.keyCode.PAGE_UP:this.previousPage(t);break;case s.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case s.ui.keyCode.HOME:this._move("first","first",t);break;case s.ui.keyCode.END:this._move("last","last",t);break;case s.ui.keyCode.UP:this.previous(t);break;case s.ui.keyCode.DOWN:this.next(t);break;case s.ui.keyCode.LEFT:this.collapse(t);break;case s.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case s.ui.keyCode.ENTER:case s.ui.keyCode.SPACE:this._activate(t);break;case s.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,n=this.previousFilter||"",o=!1,i=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===n?o=!0:i=n+i,e=this._filterMenuItems(i),(e=o&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,n,i,o=this,r=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=s(this),e=t.prev(),n=s("<span>").data("ui-menu-submenu-caret",!0);o._addClass(n,"ui-menu-icon","ui-icon "+r),e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=s(this);o._isDivider(t)&&o._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(n=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!s.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,o;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,o,r,a;this._hasScroll()&&(e=parseFloat(s.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(s.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.outerHeight(),i<0?this.activeMenu.scrollTop(o+i):r<i+a&&this.activeMenu.scrollTop(o+i-r+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=s.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:s(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!s(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=s(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=s(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||s(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(s.trim(s(this).children(".ui-menu-item-wrapper").text()))})}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],t):t(jQuery)}(function(a){return a.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,o,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,r="input"===t;this.isMultiLine=e||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[e||r?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=o=n=!0;else{i=o=n=!1;var e=a.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!i){var e=a.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(o)return o=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==a.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,e){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(t.target).trigger(t.originalEvent)});i=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(n=e.item.attr("aria-label")||i.value)&&a.trim(n).length&&(this.liveRegion.children().hide(),a("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==a.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||a.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?a(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var n,i,o=this;a.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(a.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){o.xhr&&o.xhr.abort(),o.xhr=a.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;t&&(!t||e||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return a.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:a.map(t,function(t){return"string"==typeof t?{label:t,value:t}:a.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;a.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return a("<li>").append(a("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),a.extend(a.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(t,function(t){return n.test(t.label||t.value||t)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(e).appendTo(this.liveRegion))}}),a.ui.autocomplete}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(o){var r=!1;return o(document).on("mouseup",function(){r=!1}),o.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===o.data(t.target,e.widgetName+".preventClickEvent"))return o.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&o(t.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===o.data(t.target,this.widgetName+".preventClickEvent")&&o.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(o.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&o.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(i){return i.extend(i.expr[":"],{data:i.expr.createPseudo?i.expr.createPseudo(function(e){return function(t){return!!i.data(t,e)}}):function(t,e,n){return!!i.data(t,n[3])}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(r){return r.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=r(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:r(this[0].ownerDocument||document)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie",
"../scroll-parent","../version","../widget"],t):t(jQuery)}(function(f){return f.widget("ui.sortable",f.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),f.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),f(t.target).parents().each(function(){if(f.data(this,o.widgetName+"-item")===o)return n=f(this),!1}),f.data(t.target,o.widgetName+"-item")===o&&(n=f(t.target)),!!n&&(!(this.options.handle&&!e&&(f(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,o,r=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=f("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!r.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,o,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==a&&f.ui.ddmanager&&!r.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||f.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&f.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),f.ui.ddmanager&&f.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,f(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new f.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},f(t).each(function(){var t=(f(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(f(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,a=r+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s<i+c&&i+c<l,h="y"===this.options.axis||r<e+u&&e+u<a,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!o)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){a.push(this)}var n,i,o,r,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;0<=n;n--)for(i=(o=f(l[n],this.document[0])).length-1;0<=i;i--)(r=f.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push([f.isFunction(r.options.items)?r.options.items.call(r.element):f(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(s.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;0<=n;n--)s[n][0].each(e);return f(a)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=f.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,o,r,a,s,l,c=this.items,u=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):f(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;0<=e;e--)for(n=(i=f(d[e],this.document[0])).length-1;0<=n;n--)(o=f.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([f.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):f(o.options.items,o.element),o]),this.containers.push(o));for(e=u.length-1;0<=e;e--)for(r=u[e][1],n=0,l=(a=u[e][0]).length;n<l;n++)(s=f(a[n])).data(this.widgetName+"-item",r),c.push({item:s,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?f(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),o=i.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,o=(n=n||this).options;o.placeholder&&o.placeholder.constructor!==String||(i=o.placeholder,o.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=f("<"+t+">",n.document[0]);return n._addClass(e,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),f("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){i&&!o.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=f(o.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),o.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){f("<td>&#160;</td>",n.document[0]).attr("colspan",f(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,n,i,o,r,a,s,l,c,u,d=null,h=null;for(e=this.containers.length-1;0<=e;e--)if(!f.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&f.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],h=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,o=null,r=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",u=c?"pageX":"pageY",n=this.items.length-1;0<=n;n--)f.contains(this.containers[h].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(s=this.items[n].item.offset()[r],l=!1,t[u]-s>this.items[n][a]/2&&(l=!0),Math.abs(t[u]-s)<i&&(i=Math.abs(t[u]-s),o=this.items[n],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||f("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),f.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&f.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=f(i.containment)[0],e=f(i.containment).offset(),n="hidden"!==f(t).css("overflow"),this.containment=[e.left+(parseInt(f(t).css("borderLeftWidth"),10)||0)+(parseInt(f(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(f(t).css("borderTopWidth"),10)||0)+(parseInt(f(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(f(t).css("borderLeftWidth"),10)||0)-(parseInt(f(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(f(t).css("borderTopWidth"),10)||0)-(parseInt(f(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,o=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<o.length;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===f.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||f([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(u){var r,n=0,s=Array.prototype.slice;u.cleanData=(r=u.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=u._data(n,"events"))&&e.remove&&u(n).triggerHandler("remove")}catch(o){}r(t)}),u.widget=function(t,n,e){var i,o,r,a,s={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,e||(e=n,n=u.Widget),u.expr[":"][i.toLowerCase()]=function(t){return!!u.data(t,i)},u[l]=u[l]||{},o=u[l][t],r=u[l][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},u.extend(r,o,{version:e.version,_proto:u.extend({},e),_childConstructors:[]}),(a=new n).options=u.widget.extend({},a.options),u.each(e,function(e,i){var o,r;u.isFunction(i)?s[e]=(o=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=r,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):s[e]=i}),r.prototype=u.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||t},s,{constructor:r,namespace:l,widgetName:t,widgetFullName:i}),o?(u.each(o._childConstructors,function(t,e){var n=e.prototype;u.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete o._childConstructors):n._childConstructors.push(r),u.widget.bridge(t,r),r},u.widget.extend=function(t){for(var e,n,i=s.call(arguments,1),o=0,r=i.length;o<r;o++)for(e in i[o])n=i[o][e],i[o].hasOwnProperty(e)&&n!==undefined&&(u.isPlainObject(n)?t[e]=u.isPlainObject(t[e])?u.widget.extend({},t[e],n):u.widget.extend({},n):t[e]=n);return t},u.widget.bridge=function(r,e){var a=e.prototype.widgetFullName||r;u.fn[r]=function(n){var t="string"==typeof n,i=s.call(arguments,1),o=this;return t?this.each(function(){var t,e=u.data(this,a);return"instance"===n?(o=e,!1):e?u.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==undefined?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:u.error("no such method '"+n+"' for "+r+" widget instance"):u.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):(i.length&&(n=u.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=u.data(this,a);t?(t.option(n||{}),t._init&&t._init()):u.data(this,a,new e(n,this))})),o}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=u(e||this.defaultElement||this)[0],this.element=u(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=u(),this.hoverable=u(),this.focusable=u(),e!==this&&(u.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=u(e.style?e.ownerDocument:e.document||e),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=u.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:u.noop,_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(u.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:u.noop,widget:function(){return this.element},option:function(t,e){var n,i,o,r=t;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(i=r[t]=u.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(t=n.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=e}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,s,t){var l,c=this;"boolean"!=typeof a&&(t=s,s=a,a=!1),t?(s=l=u(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),u.each(t,function(t,e){function n(){if(a||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof e?c[e]:e).apply(c,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||u.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+c.eventNamespace,r=i[2];r?l.delegate(r,o,n):s.bind(o,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=u(this.bindings.not(t).get()),this.focusable=u(this.focusable.not(t).get()),this.hoverable=u(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){u(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){u(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){u(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){u(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,o,r=this.options[t];if(n=n||{},(e=u.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(i in o)i in e||(e[i]=o[i]);return this.element.trigger(e,n),!(u.isFunction(r)&&!1===r.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(r,a){u.Widget.prototype["_"+r]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,o=t?!0===t||"number"==typeof t?a:t.effect||a:r;"number"==typeof(t=t||{})&&(t={duration:t}),i=!u.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&u.effects&&u.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){u(this)[r](),n&&n.call(e[0]),t()})}});u.widget}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery)}(function(l){"use strict";var i=0;l.ajaxTransport("iframe",function(o){if(o.async){var r,a,e,s=o.initialIframeSrc||"javascript:false;";return{send:function(t,n){(r=l('<form style="display:none;"></form>')).attr("accept-charset",o.formAcceptCharset),e=/\?/.test(o.url)?"&":"?","DELETE"===o.type?(o.url=o.url+e+"_method=DELETE",o.type="POST"):"PUT"===o.type?(o.url=o.url+e+"_method=PUT",o.type="POST"):"PATCH"===o.type&&(o.url=o.url+e+"_method=PATCH",o.type="POST"),a=l('<iframe src="'+s+'" name="iframe-transport-'+(i+=1)+'"></iframe>').bind("load",function(){var i,e=l.isArray(o.paramName)?o.paramName:[o.paramName];a.unbind("load").bind("load",function(){var t;try{if(!(t=a.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=undefined}n(200,"success",{iframe:t}),l('<iframe src="'+s+'"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",a.prop("name")).prop("action",o.url).prop("method",o.type),o.formData&&l.each(o.formData,function(t,e){l('<input type="hidden"/>').prop("name",e.name).val(e.value).appendTo(r)}),o.fileInput&&o.fileInput.length&&"POST"===o.type&&(i=o.fileInput.clone(),o.fileInput.after(function(t){return i[t]}),o.paramName&&o.fileInput.each(function(t){l(this).prop("name",e[t]||o.paramName)}),r.append(o.fileInput).prop("enctype",
"multipart/form-data").prop("encoding","multipart/form-data"),o.fileInput.removeAttr("form")),r.submit(),i&&i.length&&o.fileInput.each(function(t,e){var n=l(i[t]);l(e).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(e)})}),r.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",s),r&&r.remove()}}}}),l.ajaxSetup({converters:{"iframe text":function(t){return t&&l(t[0].body).text()},"iframe json":function(t){return t&&l.parseJSON(l(t[0].body).text())},"iframe html":function(t){return t&&l(t[0].body).html()},"iframe xml":function(t){var e=t&&t[0];return e&&l.isXMLDoc(e)?e:l.parseXML(e.XMLDocument&&e.XMLDocument.xml||l(e.body).html())},"iframe script":function(t){return t&&l.globalEval(l(t[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(v){"use strict";function t(n){var i="dragover"===n;return function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var e=t.dataTransfer;e&&-1!==v.inArray("Files",e.types)&&!1!==this._trigger(n,v.Event(n,{delegatedEvent:t}))&&(t.preventDefault(),i&&(e.dropEffect="copy"))}}v.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||v('<input type="file">').prop("disabled")),v.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),v.support.xhrFormDataFileUpload=!!window.FormData,v.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),v.widget("blueimp.fileupload",{options:{dropZone:v(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,t){return n=this.messages[n]||n.toString(),t&&v.each(t,function(t,e){n=n.replace("{"+t+"}",e)}),n},formData:function(t){return t.serializeArray()},add:function(t,e){if(t.isDefaultPrevented())return!1;(e.autoUpload||!1!==e.autoUpload&&v(this).fileupload("option","autoUpload"))&&e.process().done(function(){e.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:v.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||n<i)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&v.support.xhrFileUpload||v.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===v.type(t.formData)?t.formData(t.form):v.isArray(t.formData)?t.formData:"object"===v.type(t.formData)?(n=[],v.each(t.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(t){var n=0;return v.each(t,function(t,e){n+=e.size||1}),n},_initProgressObject:function(t){var e={loaded:0,total:0,bitrate:0};t._progress?v.extend(t._progress,e):t._progress=e},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(t,e){if(t.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(e._time&&e.progressInterval&&i-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=i,n=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=n-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=n,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(i,n,e.bitrateInterval),this._trigger("progress",v.Event("progress",{delegatedEvent:t}),e),this._trigger("progressall",v.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(n){var i=this,t=n.xhr?n.xhr():v.ajaxSettings.xhr();t.upload&&(v(t.upload).bind("progress",function(t){var e=t.originalEvent;t.lengthComputable=e.lengthComputable,t.loaded=e.loaded,t.total=e.total,i._onProgress(t,n)}),n.xhr=function(){return t})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(n){var i,o=this,t=n.files[0],e=n.multipart||!v.support.xhrFileUpload,r="array"===v.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=v.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),e&&!n.blob&&this._isInstanceOf("File",t)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(t.name)+'"'),e?v.support.xhrFormDataFileUpload&&(n.postMessage?(i=this._getFormData(n),n.blob?i.push({name:r,value:n.blob}):v.each(n.files,function(t,e){i.push({name:"array"===v.type(n.paramName)&&n.paramName[t]||r,value:e})})):(o._isInstanceOf("FormData",n.formData)?i=n.formData:(i=new FormData,v.each(this._getFormData(n),function(t,e){i.append(e.name,e.value)})),n.blob?i.append(r,n.blob,t.name):v.each(n.files,function(t,e){(o._isInstanceOf("File",e)||o._isInstanceOf("Blob",e))&&i.append("array"===v.type(n.paramName)&&n.paramName[t]||r,e,e.uploadName||e.name)})),n.data=i):(n.contentType=t.type||"application/octet-stream",n.data=n.blob||t),n.blob=null},_initIframeSettings:function(t){var e=v("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e&&e!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(t){var e=v(t.fileInput),i=t.paramName;return i?v.isArray(i)||(i=[i]):(i=[],e.each(function(){for(var t=v(this),e=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)i.push(e),n-=1}),i.length||(i=[e.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=v(t.fileInput.prop("form")),t.form.length||(t.form=v(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===v.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var e=v.extend({},this.options,t);return this._initFormSettings(e),this._initDataSettings(e),e},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(t,e,n){var i=v.Deferred(),o=i.promise();return e=e||this.options.context||o,!0===t?i.resolveWith(e,n):!1===t&&i.rejectWith(e,n),o.abort=i.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var i=this,o=function(t){return v.Deferred().resolveWith(i,t).promise()};n.process=function(t,e){return(t||e)&&(n._processQueue=this._processQueue=(this._processQueue||o([this])).then(function(){return n.errorThrown?v.Deferred().rejectWith(i,[n]).promise():o(arguments)}).then(t,e)),this._processQueue||o([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",v.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&1<n.length&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(r,t){r.uploadedBytes=r.uploadedBytes||0;var e,a,s=this,n=r.files[0],l=n.size,c=r.uploadedBytes,u=r.maxChunkSize||l,d=this._blobSlice,h=v.Deferred(),i=h.promise();return!(!(this._isXHRUpload(r)&&d&&(c||u<l))||r.data)&&(!!t||(l<=c?(n.error=r.i18n("uploadedBytes"),this._getXHRPromise(!1,r.context,[null,"error",n.error])):(a=function(){var i=v.extend({},r),o=i._progress.loaded;i.blob=d.call(n,c,c+u,n.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+c+"-"+(c+i.chunkSize-1)+"/"+l,s._initXHRData(i),s._initProgressListener(i),e=(!1!==s._trigger("chunksend",null,i)&&v.ajax(i)||s._getXHRPromise(!1,i.context)).done(function(t,e,n){c=s._getUploadedBytes(n)||c+i.chunkSize,o+i.chunkSize-i._progress.loaded&&s._onProgress(v.Event("progress",{lengthComputable:!0,loaded:c-i.uploadedBytes,total:c-i.uploadedBytes}),i),r.uploadedBytes=i.uploadedBytes=c,i.result=t,i.textStatus=e,i.jqXHR=n,s._trigger("chunkdone",null,i),s._trigger("chunkalways",null,i),c<l?a():h.resolveWith(i.context,[t,e,n])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,s._trigger("chunkfail",null,i),s._trigger("chunkalways",null,i),h.rejectWith(i.context,[t,e,n])})},this._enhancePromise(i),i.abort=function(){return e.abort()},a(),i)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(t,e,n,i){var o=i._progress.total,r=i._response;i._progress.loaded<o&&this._onProgress(v.Event("progress",{lengthComputable:!0,loaded:o,total:o}),i),r.result=i.result=t,r.textStatus=i.textStatus=e,r.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(t,e,n,i){var o=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),o.jqXHR=i.jqXHR=t,o.textStatus=i.textStatus=e,o.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(t,e){e.submit||this._addConvenienceMethods(t,e);var n,i,o,r,a=this,s=a._getAJAXSettings(e),l=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,n=n||((i||!1===a._trigger("send",v.Event("send",{delegatedEvent:t}),s))&&a._getXHRPromise(!1,s.context,i)||a._chunkedUpload(s)||v.ajax(s)).done(function(t,e,n){a._onDone(t,e,n,s)}).fail(function(t,e,n){a._onFail(t,e,n,s)}).always(function(t,e,n){if(a._onAlways(t,e,n,s),a._sending-=1,a._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?((r=1<this.options.limitConcurrentUploads?(o=v.Deferred(),this._slots.push(o),o.then(l)):(this._sequence=this._sequence.then(l,l),this._sequence)).abort=function(){return i=[undefined,"abort","abort"],n?n.abort():(o&&o.rejectWith(s.context,i),l())},this._enhancePromise(r)):l()},_onAdd:function(i,o){var r,t,a,e,s=this,l=!0,n=v.extend({},this.options,o),c=o.files,u=c.length,d=n.limitMultiFileUploads,h=n.limitMultiFileUploadSize,f=n.limitMultiFileUploadSizeOverhead,p=0,m=this._getParamName(n),g=0;if(!u)return!1;if(h&&c[0].size===undefined&&(h=undefined),(n.singleFileUploads||d||h)&&this._isXHRUpload(n))if(n.singleFileUploads||h||!d)if(!n.singleFileUploads&&h)for(a=[],r=[],e=0;e<u;e+=1)p+=c[e].size+f,(e+1===u||p+c[e+1].size+f>h||d&&d<=e+1-g)&&(a.push(c.slice(g,e+1)),(t=m.slice(g,e+1)).length||(t=m),r.push(t),g=e+1,p=0);else r=m;else for(a=[],r=[],e=0;e<u;e+=d)a.push(c.slice(e,e+d)),(t=m.slice(e,e+d)).length||(t=m),r.push(t);else a=[c],r=[m];return o.originalFiles=c,v.each(a||c,function(t,e){var n=v.extend({},o);return n.files=a?e:[e],n.paramName=r[t],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(i,n),l=s._trigger("add",v.Event("add",{delegatedEvent:i}),n)}),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0),e=n.is(document.activeElement);t.fileInputClone=i,v("<form></form>").append(i)[0].reset(),n.after(i).detach(),e&&i.focus(),v.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var t,i=this,o=v.Deferred(),r=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},a=function(t){i._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(r)},s=function(){t.readEntries(function(t){t.length?(l=l.concat(t),s()):a(l)},r)},l=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},r):e.isDirectory?(t=e.createReader(),s()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,e){var n=this;return v.when.apply(v,v.map(t,function(t){return n._handleFileTreeEntry(t,e)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){var e=(t=t||{}).items;return e&&e.length&&(e[0].webkitGetAsEntry||e[0].getAsEntry)?this._handleFileTreeEntries(v.map(e,function(t){var e;return t.webkitGetAsEntry?((e=t.webkitGetAsEntry())&&(e._file=t.getAsFile()),e):t.getAsEntry()})):v.Deferred().resolve(v.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var e,n,i=(t=v(t)).prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((e=v.makeArray(t.prop("files"))).length)e[0].name===undefined&&e[0].fileName&&v.each(e,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(n=t.prop("value")))return v.Deferred().resolve([]).promise();e=[{name:n.replace(/^.*\\/,"")}]}return v.Deferred().resolve(e).promise()},_getFileInputFiles:function(t){return t instanceof v&&1!==t.length?v.when.apply(v,v.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(e){var n=this,i={fileInput:v(e.target),form:v(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(t){i.files=t,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",v.Event("change",{delegatedEvent:e}),i)&&n._onAdd(e,i)})},_onPaste:function(t){var e=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};e&&e.length&&(v.each(e,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",v.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,t=e.dataTransfer,i={};t&&t.files&&t.files.length&&(e.preventDefault(),this._getDroppedFiles(t).always(function(t){i.files=t,!1!==n._trigger("drop",v.Event("drop",{delegatedEvent:e}),i)&&n._onAdd(e,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),v.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,e){var n=-1!==v.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,e),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof v||(t.fileInput=v(t.fileInput)),t.dropZone instanceof v||(t.dropZone=v(t.dropZone)),t.pasteZone instanceof v||(t.pasteZone=v(t.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(t,e){return"url"!==t&&"string"===v.type(e)&&/^\/.*\/[igm]{0,3}$/.test(e)},_initDataAttributes:function(){var o=this,r=this.options,a=this.element.data();v.each(this.element[0].attributes,function(t,e){var n,i=e.name.toLowerCase();/^data-/.test(i)&&(i=i.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),n=a[i],o._isRegExpOption(i,n)&&(n=o._getRegExp(n)),r[i]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=v.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,o=this,r=v.Deferred(),t=r.promise();return t.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),t)},this._getFileInputFiles(e.fileInput).always(function(t){i||(t.length?(e.files=t,(n=o._onSend(null,e)).then(function(t,e,n){r.resolve(t,e,n)},function(t,e,n){r.reject(t,e,n)})):r.reject())}),this._enhancePromise(t)}if(e.files=v.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function webpackUniversalModuleDefinition(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var n="object"==typeof exports?e(require("jquery")):e(t.jQuery);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,function(e){return function(n){function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var i={};return o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function n(){return t["default"]}:function i(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}({"./js/entries/foundation.js":function(t,e,n){"use strict";n.r(e);var i=n("jquery"),o=n.n(i),r=n("./js/foundation.core.js");n.d(e,"Foundation",function(){return r.Foundation});var a=n("./js/foundation.core.utils.js");n.d(e,"CoreUtils",function(){return a});var s=n("./js/foundation.util.box.js");n.d(e,"Box",function(){return s.Box});var l=n("./js/foundation.util.imageLoader.js");n.d(e,"onImagesLoaded",function(){return l.onImagesLoaded});var c=n("./js/foundation.util.keyboard.js");n.d(e,"Keyboard",function(){return c.Keyboard});var u=n("./js/foundation.util.mediaQuery.js");n.d(e,"MediaQuery",function(){return u.MediaQuery});var d=n("./js/foundation.util.motion.js");n.d(e,"Motion",function(){return d.Motion});var h=n("./js/foundation.util.nest.js");n.d(e,"Nest",function(){return h.Nest});var f=n("./js/foundation.util.timer.js");n.d(e,"Timer",function(){return f.Timer});var p=n("./js/foundation.util.touch.js");n.d(e,"Touch",function(){return p.Touch});var m=n("./js/foundation.util.triggers.js");n.d(e,"Triggers",function(){return m.Triggers});var g=n("./js/foundation.abide.js");n.d(e,"Abide",function(){return g.Abide});var v=n("./js/foundation.accordion.js");n.d(e,"Accordion",function(){return v.Accordion});var y=n("./js/foundation.accordionMenu.js");n.d(e,"AccordionMenu",function(){return y.AccordionMenu});var b=n("./js/foundation.drilldown.js");n.d(e,"Drilldown",function(){return b.Drilldown});var E=n("./js/foundation.dropdown.js");n.d(e,"Dropdown",function(){return E.Dropdown});var _=n("./js/foundation.dropdownMenu.js");n.d(e,"DropdownMenu",function(){return _.DropdownMenu});var T=n("./js/foundation.equalizer.js");n.d(e,"Equalizer",function(){return T.Equalizer});var C=n("./js/foundation.interchange.js");n.d(e,"Interchange",function(){return C.Interchange});var D=n("./js/foundation.magellan.js");n.d(e,"Magellan",function(){return D.Magellan});var O=n("./js/foundation.offcanvas.js");n.d(e,"OffCanvas",function(){return O.OffCanvas});var I=n("./js/foundation.orbit.js");n.d(e,"Orbit",function(){return I.Orbit});var k=n("./js/foundation.responsiveMenu.js");n.d(e,"ResponsiveMenu",function(){return k.ResponsiveMenu});var w=n("./js/foundation.responsiveToggle.js");n.d(e,"ResponsiveToggle",function(){return w.ResponsiveToggle});var R=n("./js/foundation.reveal.js");n.d(e,"Reveal",function(){return R.Reveal});var x=n("./js/foundation.slider.js");n.d(e,"Slider",function(){return x.Slider});var S=n("./js/foundation.smoothScroll.js");n.d(e,"SmoothScroll",function(){return S.SmoothScroll});var K=n("./js/foundation.sticky.js");n.d(e,"Sticky",function(){return K.Sticky});var A=n("./js/foundation.tabs.js");n.d(e,"Tabs",function(){return A.Tabs});var N=n("./js/foundation.toggler.js");n.d(e,"Toggler",function(){return N.Toggler});var L=n("./js/foundation.tooltip.js");n.d(e,"Tooltip",function(){return L.Tooltip});var P=n("./js/foundation.responsiveAccordionTabs.js");n.d(e,"ResponsiveAccordionTabs",function(){return P.ResponsiveAccordionTabs}),r.Foundation.addToJquery(o.a),r.Foundation.rtl=a.rtl,r.Foundation.GetYoDigits=a.GetYoDigits,r.Foundation.transitionend=a.transitionend,r.Foundation.RegExpEscape=a.RegExpEscape,r.Foundation.onLoad=a.onLoad,r.Foundation.Box=s.Box,r.Foundation.onImagesLoaded=l.onImagesLoaded,r.Foundation.Keyboard=c.Keyboard,r.Foundation.MediaQuery=u.MediaQuery,r.Foundation.Motion=d.Motion,r.Foundation.Move=d.Move,r.Foundation.Nest=h.Nest,r.Foundation.Timer=f.Timer,p.Touch.init(o.a),m.Triggers.init(o.a,r.Foundation),u.MediaQuery._init(),r.Foundation.plugin(g.Abide,"Abide"),r.Foundation.plugin(v.Accordion,"Accordion"),r.Foundation.plugin(y.AccordionMenu,"AccordionMenu"),r.Foundation.plugin(b.Drilldown,"Drilldown"),r.Foundation.plugin(E.Dropdown,"Dropdown"),r.Foundation.plugin(_.DropdownMenu,"DropdownMenu"),r.Foundation.plugin(T.Equalizer,"Equalizer"),r.Foundation.plugin(C.Interchange,"Interchange"),r.Foundation.plugin(D.Magellan,"Magellan"),r.Foundation.plugin(O.OffCanvas,"OffCanvas"),r.Foundation.plugin(I.Orbit,"Orbit"),r.Foundation.plugin(k.ResponsiveMenu,"ResponsiveMenu"),r.Foundation.plugin(w.ResponsiveToggle,"ResponsiveToggle"),r.Foundation.plugin(R.Reveal,"Reveal"),r.Foundation.plugin(x.Slider,"Slider"),r.Foundation.plugin(S.SmoothScroll,"SmoothScroll"),r.Foundation.plugin(K.Sticky,"Sticky"),r.Foundation.plugin(A.Tabs,"Tabs"),r.Foundation.plugin(N.Toggler,"Toggler"),r.Foundation.plugin(L.Tooltip,"Tooltip"),r.Foundation.plugin(P.ResponsiveAccordionTabs,"ResponsiveAccordionTabs"),e["default"]=r.Foundation},"./js/foundation.abide.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function R(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Abide",function(){return l});var s=n("jquery"),K=n.n(s),A=n("./js/foundation.core.plugin.js"),N=n("./js/foundation.core.utils.js"),l=function(){function i(){return k(this,i),R(this,x(i).apply(this,arguments))}return S(i,A["Plugin"]),w(i,[{key:"_setup",value:function o(t,e){var n=1<arguments.length&&e!==undefined?arguments[1]:{};this.$element=t,this.options=K.a.extend(!0,{},i.defaults,this.$element.data(),n),this.isEnabled=!0,this.formnovalidate=null,this.className="Abide",this._init()}},{key:"_init",value:function e(){var n=this;this.$inputs=K.a.merge(this.$element.find("input").not('[type="submit"]'),this.$element.find("textarea, select")),this.$submits=this.$element.find('[type="submit"]');var t=this.$element.find("[data-abide-error]");this.options.a11yAttributes&&(this.$inputs.each(function(t,e){return n.addA11yAttributes(K()(e))}),t.each(function(t,e){return n.addGlobalErrorA11yAttributes(K()(e))})),this._events()}},{key:"_events",value:function t(){var e=this;this.$element.off(".abide").on("reset.zf.abide",function(){e.resetForm()}).on("submit.zf.abide",function(){return e.validateForm()}),this.$submits.off("click.zf.abide keydown.zf.abide").on("click.zf.abide keydown.zf.abide",function(t){t.key&&" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),e.formnovalidate=null!==t.target.getAttribute("formnovalidate"),e.$element.submit())}),"fieldChange"===this.options.validateOn&&this.$inputs.off("change.zf.abide").on("change.zf.abide",function(t){e.validateInput(K()(t.target))}),this.options.liveValidate&&this.$inputs.off("input.zf.abide").on("input.zf.abide",function(t){e.validateInput(K()(t.target))}),this.options.validateOnBlur&&this.$inputs.off("blur.zf.abide").on("blur.zf.abide",function(t){e.validateInput(K()(t.target))})}},{key:"_reflow",value:function n(){this._init()}},{key:"_validationIsDisabled",value:function r(){return!1===this.isEnabled||("boolean"==typeof this.formnovalidate?this.formnovalidate:!!this.$submits.length&&null!==this.$submits[0].getAttribute("formnovalidate"))}},{key:"enableValidation",value:function a(){this.isEnabled=!0}},{key:"disableValidation",value:function s(){this.isEnabled=!1}},{key:"requiredCheck",value:function l(t){if(!t.attr("required"))return!0;var e=!0;switch(t[0].type){case"checkbox":e=t[0].checked;break;case"select":case"select-one":case"select-multiple":var n=t.find("option:selected");n.length&&n.val()||(e=!1);break;default:t.val()&&t.val().length||(e=!1)}return e}},{key:"findFormError",value:function c(t){var e=t.length?t[0].id:"",n=t.siblings(this.options.formErrorSelector);return n.length||(n=t.parent().find(this.options.formErrorSelector)),e&&(n=n.add(this.$element.find('[data-form-error-for="'.concat(e,'"]')))),n}},{key:"findLabel",value:function u(t){var e=t[0].id,n=this.$element.find('label[for="'.concat(e,'"]'));return n.length?n:t.closest("label")}},{key:"findRadioLabels",value:function d(t){var o=this,e=t.map(function(t,e){var n=e.id,i=o.$element.find('label[for="'.concat(n,'"]'));return i.length||(i=K()(e).closest("label")),i[0]});return K()(e)}},{key:"findCheckboxLabels",value:function h(t){var o=this,e=t.map(function(t,e){var n=e.id,i=o.$element.find('label[for="'.concat(n,'"]'));return i.length||(i=K()(e).closest("label")),i[0]});return K()(e)}},{key:"addErrorClasses",value:function f(t){var e=this.findLabel(t),n=this.findFormError(t);e.length&&e.addClass(this.options.labelErrorClass),n.length&&n.addClass(this.options.formErrorClass),t.addClass(this.options.inputErrorClass).attr({"data-invalid":"","aria-invalid":!0})}},{key:"addA11yAttributes",value:function p(t){var e=this.findFormError(t),n=e.filter("label"),i=e.first();if(e.length){if(void 0===t.attr("aria-describedby")){var o=i.attr("id");void 0===o&&(o=Object(N.GetYoDigits)(6,"abide-error"),i.attr("id",o)),t.attr("aria-describedby",o)}if(n.filter("[for]").length<n.length){var r=t.attr("id");void 0===r&&(r=Object(N.GetYoDigits)(6,"abide-input"),t.attr("id",r)),n.each(function(t,e){var n=K()(e);void 0===n.attr("for")&&n.attr("for",r)})}e.each(function(t,e){var n=K()(e);void 0===n.attr("role")&&n.attr("role","alert")}).end()}}},{key:"addGlobalErrorA11yAttributes",value:function m(t){void 0===t.attr("aria-live")&&t.attr("aria-live",this.options.a11yErrorLevel)}},{key:"removeRadioErrorClasses",value:function g(t){var e=this.$element.find(':radio[name="'.concat(t,'"]')),n=this.findRadioLabels(e),i=this.findFormError(e);n.length&&n.removeClass(this.options.labelErrorClass),i.length&&i.removeClass(this.options.formErrorClass),e.removeClass(this.options.inputErrorClass).attr({"data-invalid":null,"aria-invalid":null})}},{key:"removeCheckboxErrorClasses",value:function v(t){var e=this.$element.find(':checkbox[name="'.concat(t,'"]')),n=this.findCheckboxLabels(e),i=this.findFormError(e);n.length&&n.removeClass(this.options.labelErrorClass),i.length&&i.removeClass(this.options.formErrorClass),e.removeClass(this.options.inputErrorClass).attr({"data-invalid":null,"aria-invalid":null})}},{key:"removeErrorClasses",value:function y(t){if("radio"==t[0].type)return this.removeRadioErrorClasses(t.attr("name"));if("checkbox"==t[0].type)return this.removeCheckboxErrorClasses(t.attr("name"));var e=this.findLabel(t),n=this.findFormError(t);e.length&&e.removeClass(this.options.labelErrorClass),n.length&&n.removeClass(this.options.formErrorClass),t.removeClass(this.options.inputErrorClass).attr({"data-invalid":null,"aria-invalid":null})}},{key:"validateInput",value:function b(t){var e=this.requiredCheck(t),n=!1,i=!0,o=t.attr("data-validator"),r=!0;if(this._validationIsDisabled())return!0;if(t.is("[data-abide-ignore]")||t.is('[type="hidden"]')||t.is("[disabled]"))return!0;switch(t[0].type){case"radio":n=this.validateRadio(t.attr("name"));break;case"checkbox":n=this.validateCheckbox(t.attr("name")),e=!0;break;case"select":case"select-one":case"select-multiple":n=e;break;default:n=this.validateText(t)}o&&(i=this.matchValidation(t,o,t.attr("required"))),t.attr("data-equalto")&&(r=this.options.validators.equalTo(t));var a=-1===[e,n,i,r].indexOf(!1),s=(a?"valid":"invalid")+".zf.abide";if(a){var l=this.$element.find('[data-equalto="'.concat(t.attr("id"),'"]'));if(l.length){var c=this;l.each(function(){K()(this).val()&&c.validateInput(K()(this))})}}return this[a?"removeErrorClasses":"addErrorClasses"](t),t.trigger(s,[t]),a}},{key:"validateForm",value:function E(){var t,i=this,e=[],n=this;if(this.initialized||(this.initialized=!0),this._validationIsDisabled())return!(this.formnovalidate=null);this.$inputs.each(function(){if("checkbox"===K()(this)[0].type){if(K()(this).attr("name")===t)return!0;t=K()(this).attr("name")}e.push(n.validateInput(K()(this)))});var o=-1===e.indexOf(!1);return this.$element.find("[data-abide-error]").each(function(t,e){var n=K()(e);i.options.a11yAttributes&&i.addGlobalErrorA11yAttributes(n),n.css("display",o?"none":"block")}),this.$element.trigger((o?"formvalid":"forminvalid")+".zf.abide",[
this.$element]),o}},{key:"validateText",value:function _(t,e){e=e||t.attr("data-pattern")||t.attr("pattern")||t.attr("type");var n=t.val(),i=!1;return n.length?i=this.options.patterns.hasOwnProperty(e)?this.options.patterns[e].test(n):e===t.attr("type")||new RegExp(e).test(n):t.prop("required")||(i=!0),i}},{key:"validateRadio",value:function T(t){var e=this.$element.find(':radio[name="'.concat(t,'"]')),n=!1,i=!1;return e.each(function(t,e){K()(e).attr("required")&&(i=!0)}),i||(n=!0),n||e.each(function(t,e){K()(e).prop("checked")&&(n=!0)}),n}},{key:"validateCheckbox",value:function C(t){var n=this,e=this.$element.find(':checkbox[name="'.concat(t,'"]')),i=!1,o=!1,r=1,a=0;return e.each(function(t,e){K()(e).attr("required")&&(o=!0)}),o||(i=!0),i||(e.each(function(t,e){K()(e).prop("checked")&&a++,void 0!==K()(e).attr("data-min-required")&&(r=parseInt(K()(e).attr("data-min-required")))}),r<=a&&(i=!0)),!0!==this.initialized&&1<r||(e.each(function(t,e){i?n.removeErrorClasses(K()(e)):n.addErrorClasses(K()(e))}),i)}},{key:"matchValidation",value:function D(e,t,n){var i=this;return n=!!n,-1===t.split(" ").map(function(t){return i.options.validators[t](e,n,e.parent())}).indexOf(!1)}},{key:"resetForm",value:function O(){var t=this.$element,e=this.options;K()(".".concat(e.labelErrorClass),t).not("small").removeClass(e.labelErrorClass),K()(".".concat(e.inputErrorClass),t).not("small").removeClass(e.inputErrorClass),K()("".concat(e.formErrorSelector,".").concat(e.formErrorClass)).removeClass(e.formErrorClass),t.find("[data-abide-error]").css("display","none"),K()(":input",t).not(":button, :submit, :reset, :hidden, :radio, :checkbox, [data-abide-ignore]").val("").attr({"data-invalid":null,"aria-invalid":null}),K()(":input:radio",t).not("[data-abide-ignore]").prop("checked",!1).attr({"data-invalid":null,"aria-invalid":null}),K()(":input:checkbox",t).not("[data-abide-ignore]").prop("checked",!1).attr({"data-invalid":null,"aria-invalid":null}),t.trigger("formreset.zf.abide",[t])}},{key:"_destroy",value:function I(){var t=this;this.$element.off(".abide").find("[data-abide-error]").css("display","none"),this.$inputs.off(".abide").each(function(){t.removeErrorClasses(K()(this))}),this.$submits.off(".abide")}}]),i}();l.defaults={validateOn:"fieldChange",labelErrorClass:"is-invalid-label",inputErrorClass:"is-invalid-input",formErrorSelector:".form-error",formErrorClass:"is-visible",a11yAttributes:!0,a11yErrorLevel:"assertive",liveValidate:!1,validateOnBlur:!1,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(?:222[1-9]|2[3-6][0-9]{2}|27[0-1][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^((?:(https?|ftps?|file|ssh|sftp):\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:\'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,website:{test:function c(t){return l.defaults.patterns.domain.test(t)||l.defaults.patterns.url.test(t)}}},validators:{equalTo:function u(t){return K()("#".concat(t.attr("data-equalto"))).val()===t.val()}}}},"./js/foundation.accordion.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function p(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Accordion",function(){return l});var s=n("jquery"),v=n.n(s),y=n("./js/foundation.core.plugin.js"),b=n("./js/foundation.core.utils.js"),E=n("./js/foundation.util.keyboard.js"),l=function(){function n(){return h(this,n),p(this,m(n).apply(this,arguments))}return g(n,y["Plugin"]),f(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=v.a.extend({},n.defaults,this.$element.data(),e),this.className="Accordion",this._init(),E.Keyboard.register("Accordion",{ENTER:"toggle",SPACE:"toggle",ARROW_DOWN:"next",ARROW_UP:"previous"})}},{key:"_init",value:function e(){var i=this;this._isInitializing=!0,this.$element.attr("role","tablist"),this.$tabs=this.$element.children("[data-accordion-item]"),this.$tabs.attr({role:"presentation"}),this.$tabs.each(function(t,e){var n=v()(e),i=n.children("[data-tab-content]"),o=i[0].id||Object(b.GetYoDigits)(6,"accordion"),r=e.id?"".concat(e.id,"-label"):"".concat(o,"-label");n.find("a:first").attr({"aria-controls":o,role:"tab",id:r,"aria-expanded":!1,"aria-selected":!1}),i.attr({role:"tabpanel","aria-labelledby":r,"aria-hidden":!0,id:o})});var t=this.$element.find(".is-active").children("[data-tab-content]");t.length&&(this._initialAnchor=t.prev("a").attr("href"),this._openSingleTab(t)),this._checkDeepLink=function(){var t=window.location.hash;if(!t.length){if(i._isInitializing)return;i._initialAnchor&&(t=i._initialAnchor)}var e=t&&v()(t),n=t&&i.$element.find('[href$="'.concat(t,'"]'));!(!e.length||!n.length)&&(e&&n&&n.length?n.parent("[data-accordion-item]").hasClass("is-active")||i._openSingleTab(e):i._closeAllTabs(),i.options.deepLinkSmudge&&Object(b.onLoad)(v()(window),function(){var t=i.$element.offset();v()("html, body").animate({scrollTop:t.top},i.options.deepLinkSmudgeDelay)}),i.$element.trigger("deeplink.zf.accordion",[n,e]))},this.options.deepLink&&this._checkDeepLink(),this._events(),this._isInitializing=!1}},{key:"_events",value:function t(){var s=this;this.$tabs.each(function(){var r=v()(this),a=r.children("[data-tab-content]");a.length&&r.children("a").off("click.zf.accordion keydown.zf.accordion").on("click.zf.accordion",function(t){t.preventDefault(),s.toggle(a)}).on("keydown.zf.accordion",function(t){E.Keyboard.handleKey(t,"Accordion",{toggle:function e(){s.toggle(a)},next:function n(){var t=r.next().find("a").focus();s.options.multiExpand||t.trigger("click.zf.accordion")},previous:function i(){var t=r.prev().find("a").focus();s.options.multiExpand||t.trigger("click.zf.accordion")},handled:function o(){t.preventDefault()}})})}),this.options.deepLink&&v()(window).on("hashchange",this._checkDeepLink)}},{key:"toggle",value:function o(t){if(t.closest("[data-accordion]").is("[disabled]"))console.info("Cannot toggle an accordion that is disabled.");else if(t.parent().hasClass("is-active")?this.up(t):this.down(t),this.options.deepLink){var e=t.prev("a").attr("href");this.options.updateHistory?history.pushState({},"",e):history.replaceState({},"",e)}}},{key:"down",value:function r(t){t.closest("[data-accordion]").is("[disabled]")?console.info("Cannot call down on an accordion that is disabled."):this.options.multiExpand?this._openTab(t):this._openSingleTab(t)}},{key:"up",value:function a(t){if(this.$element.is("[disabled]"))console.info("Cannot call up on an accordion that is disabled.");else{var e=t.parent();if(e.hasClass("is-active")){var n=e.siblings();(this.options.allowAllClosed||n.hasClass("is-active"))&&this._closeTab(t)}}}},{key:"_openSingleTab",value:function s(t){var e=this.$element.children(".is-active").children("[data-tab-content]");e.length&&this._closeTab(e.not(t)),this._openTab(t)}},{key:"_openTab",value:function l(t){var e=this,n=t.parent(),i=t.attr("aria-labelledby");t.attr("aria-hidden",!1),n.addClass("is-active"),v()("#".concat(i)).attr({"aria-expanded":!0,"aria-selected":!0}),t.slideDown(this.options.slideSpeed,function(){e.$element.trigger("down.zf.accordion",[t])})}},{key:"_closeTab",value:function c(t){var e=this,n=t.parent(),i=t.attr("aria-labelledby");t.attr("aria-hidden",!0),n.removeClass("is-active"),v()("#".concat(i)).attr({"aria-expanded":!1,"aria-selected":!1}),t.slideUp(this.options.slideSpeed,function(){e.$element.trigger("up.zf.accordion",[t])})}},{key:"_closeAllTabs",value:function u(){var t=this.$element.children(".is-active").children("[data-tab-content]");t.length&&this._closeTab(t)}},{key:"_destroy",value:function d(){this.$element.find("[data-tab-content]").stop(!0).slideUp(0).css("display",""),this.$element.find("a").off(".zf.accordion"),this.options.deepLink&&v()(window).off("hashchange",this._checkDeepLink)}}]),n}();l.defaults={slideSpeed:250,multiExpand:!1,allowAllClosed:!1,deepLink:!1,deepLinkSmudge:!1,deepLinkSmudgeDelay:300,updateHistory:!1}},"./js/foundation.accordionMenu.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"AccordionMenu",function(){return l});var s=n("jquery"),m=n.n(s),g=n("./js/foundation.util.keyboard.js"),v=n("./js/foundation.util.nest.js"),y=n("./js/foundation.core.utils.js"),b=n("./js/foundation.core.plugin.js"),l=function(){function n(){return u(this,n),h(this,f(n).apply(this,arguments))}return p(n,b["Plugin"]),d(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=m.a.extend({},n.defaults,this.$element.data(),e),this.className="AccordionMenu",this._init(),g.Keyboard.register("AccordionMenu",{ENTER:"toggle",SPACE:"toggle",ARROW_RIGHT:"open",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"close",ESCAPE:"closeAll"})}},{key:"_init",value:function e(){v.Nest.Feather(this.$element,"accordion");var r=this;this.$element.find("[data-submenu]").not(".is-active").slideUp(0),this.$element.attr({role:"tree","aria-multiselectable":this.options.multiOpen}),this.$menuLinks=this.$element.find(".is-accordion-submenu-parent"),this.$menuLinks.each(function(){var t=this.id||Object(y.GetYoDigits)(6,"acc-menu-link"),e=m()(this),n=e.children("[data-submenu]"),i=n[0].id||Object(y.GetYoDigits)(6,"acc-menu"),o=n.hasClass("is-active");r.options.parentLink&&e.children("a").clone().prependTo(n).wrap('<li data-is-parent-link class="is-submenu-parent-item is-submenu-item is-accordion-submenu-item"></li>');r.options.submenuToggle?(e.addClass("has-submenu-toggle"),e.children("a").after('<button id="'+t+'" class="submenu-toggle" aria-controls="'+i+'" aria-expanded="'+o+'" title="'+r.options.submenuToggleText+'"><span class="submenu-toggle-text">'+r.options.submenuToggleText+"</span></button>")):e.attr({"aria-controls":i,"aria-expanded":o,id:t}),n.attr({"aria-labelledby":t,"aria-hidden":!o,role:"group",id:i})}),this.$element.find("li").attr({role:"treeitem"});var t=this.$element.find(".is-active");if(t.length){r=this;t.each(function(){r.down(m()(this))})}this._events()}},{key:"_events",value:function t(){var f=this;this.$element.find("li").each(function(){var e=m()(this).children("[data-submenu]");e.length&&(f.options.submenuToggle?m()(this).children(".submenu-toggle").off("click.zf.accordionMenu").on("click.zf.accordionMenu",function(){f.toggle(e)}):m()(this).children("a").off("click.zf.accordionMenu").on("click.zf.accordionMenu",function(t){t.preventDefault(),f.toggle(e)}))}).on("keydown.zf.accordionMenu",function(e){var n,i,o=m()(this),r=o.parent("ul").children("li"),t=o.children("[data-submenu]");r.each(function(t){if(m()(this).is(o))return n=r.eq(Math.max(0,t-1)).find("a").first(),i=r.eq(Math.min(t+1,r.length-1)).find("a").first(),m()(this).children("[data-submenu]:visible").length&&(i=o.find("li:first-child").find("a").first()),m()(this).is(":first-child")?n=o.parents("li").first().find("a").first():n.parents("li").first().children("[data-submenu]:visible").length&&(n=n.parents("li").find("li:last-child").find("a").first()),void(m()(this).is(":last-child")&&(i=o.parents("li").first().next("li").find("a").first()))}),g.Keyboard.handleKey(e,"AccordionMenu",{open:function a(){t.is(":hidden")&&(f.down(t),t.find("li").first().find("a").first().focus())},close:function s(){t.length&&!t.is(":hidden")?f.up(t):o.parent("[data-submenu]").length&&(f.up(o.parent("[data-submenu]")),o.parents("li").first().find("a").first().focus())},up:function l(){return n.focus(),!0},down:function c(){return i.focus(),!0},toggle:function u(){return!f.options.submenuToggle&&(o.children("[data-submenu]").length?(f.toggle(o.children("[data-submenu]")),!0):void 0)},closeAll:function d(){f.hideAll()},handled:function h(t){t&&e.preventDefault()}})})}},{key:"hideAll",value:function o(){this.up(this.$element.find("[data-submenu]"))}},{key:"showAll",value:function r(){this.down(this.$element.find("[data-submenu]"))}},{key:"toggle",value:function a(t){t.is(":animated")||(t.is(":hidden")?this.down(t):this.up(t))}},{key:"down",value:function s(t){var e=this;if(!this.options.multiOpen){var n=t.parentsUntil(this.$element).add(t).add(t.find(".is-active")),i=this.$element.find(".is-active").not(n);this.up(i)}t.addClass("is-active").attr({"aria-hidden":!1}),this.options.submenuToggle?t.prev(".submenu-toggle").attr({"aria-expanded":!0}):t.parent(".is-accordion-submenu-parent").attr({"aria-expanded":!0}),t.slideDown(this.options.slideSpeed,function(){e.$element.trigger("down.zf.accordionMenu",[t])})}},{key:"up",value:function l(t){var e=this,n=t.find("[data-submenu]"),i=t.add(n);n.slideUp(0),i.removeClass("is-active").attr("aria-hidden",!0),this.options.submenuToggle?i.prev(".submenu-toggle").attr("aria-expanded",!1):i.parent(".is-accordion-submenu-parent").attr("aria-expanded",!1),t.slideUp(this.options.slideSpeed,function(){e.$element.trigger("up.zf.accordionMenu",[t])})}},{key:"_destroy",value:function c(){this.$element.find("[data-submenu]").slideDown(0).css("display",""),this.$element.find("a").off("click.zf.accordionMenu"),this.$element.find("[data-is-parent-link]").detach(),this.options.submenuToggle&&(this.$element.find(".has-submenu-toggle").removeClass("has-submenu-toggle"),this.$element.find(".submenu-toggle").remove()),v.Nest.Burn(this.$element,"accordion")}}]),n}();l.defaults={parentLink:!1,slideSpeed:250,submenuToggle:!1,submenuToggleText:"Toggle menu",multiOpen:!0}},"./js/foundation.core.js":function(t,e,n){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){if("undefined"!=typeof Function.prototype.name)return"undefined"==typeof t.prototype?t.constructor.name:t.prototype.constructor.name;var e=/function\s([^(]{1,})\(/.exec(t.toString());return e&&1<e.length?e[1].trim():""}function r(t){return"true"===t||"false"!==t&&(isNaN(1*t)?t:parseFloat(t))}function c(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}n.r(e),n.d(e,"Foundation",function(){return h});var i=n("jquery"),u=n.n(i),o=n("./js/foundation.core.utils.js"),d=n("./js/foundation.util.mediaQuery.js"),h={version:"6.6.1",_plugins:{},_uuids:[],plugin:function a(t,e){var n=e||s(t),i=c(n);this._plugins[i]=this[n]=t},registerPlugin:function f(t,e){var n=e?c(e):s(t.constructor).toLowerCase();t.uuid=Object(o.GetYoDigits)(6,n),t.$element.attr("data-".concat(n))||t.$element.attr("data-".concat(n),t.uuid),t.$element.data("zfPlugin")||t.$element.data("zfPlugin",t),t.$element.trigger("init.zf.".concat(n)),this._uuids.push(t.uuid)},unregisterPlugin:function p(t){var e=c(s(t.$element.data("zfPlugin").constructor));for(var n in this._uuids.splice(this._uuids.indexOf(t.uuid),1),t.$element.removeAttr("data-".concat(e)).removeData("zfPlugin").trigger("destroyed.zf.".concat(e)),t)t[n]=null},reInit:function m(t){var e=t instanceof u.a;try{if(e)t.each(function(){u()(this).data("zfPlugin")._init()});else{var n=l(t),i=this;({object:function o(t){t.forEach(function(t){t=c(t),u()("[data-"+t+"]").foundation("_init")})},string:function r(){t=c(t),u()("[data-"+t+"]").foundation("_init")},undefined:function a(){this.object(Object.keys(i._plugins))}})[n](t)}}catch(s){console.error(s)}finally{return t}},reflow:function g(n,t){void 0===t?t=Object.keys(this._plugins):"string"==typeof t&&(t=[t]);var o=this;u.a.each(t,function(t,e){var i=o._plugins[e];u()(n).find("[data-"+e+"]").addBack("[data-"+e+"]").filter(function(){return void 0===u()(this).data("zfPlugin")}).each(function(){var t=u()(this),n={reflow:!0};if(t.attr("data-options"))t.attr("data-options").split(";").forEach(function(t){var e=t.split(":").map(function(t){return t.trim()});e[0]&&(n[e[0]]=r(e[1]))});try{t.data("zfPlugin",new i(u()(this),n))}catch(e){console.error(e)}finally{return}})})},getFnName:s,addToJquery:function v(r){var a=function a(n){var t=l(n),e=r(".no-js");if(e.length&&e.removeClass("no-js"),"undefined"===t)d.MediaQuery._init(),h.reflow(this);else{if("string"!==t)throw new TypeError("We're sorry, ".concat(t," is not a valid parameter. You must use a string representing the method you wish to invoke."));var i=Array.prototype.slice.call(arguments,1),o=this.data("zfPlugin");if(void 0===o||"undefined"==typeof o[n])throw new ReferenceError("We're sorry, '"+n+"' is not an available method for "+(o?s(o):"this element")+".");1===this.length?o[n].apply(o,i):this.each(function(t,e){o[n].apply(r(e).data("zfPlugin"),i)})}return this};return r.fn.foundation=a,r}};h.util={throttle:function y(n,i){var o=null;return function(){var t=this,e=arguments;null===o&&(o=setTimeout(function(){n.apply(t,e),o=null},i))}}},window.Foundation=h,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var n=t[e];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(t){var e=Date.now(),n=Math.max(i+16,e);return setTimeout(function(){t(i=n)},n-e)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function o(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function i(){},o=function o(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(i.prototype=this.prototype),o.prototype=new i,o})},"./js/foundation.core.plugin.js":function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(t){return"undefined"!=typeof t.constructor.name?a(t.constructor.name):a(t.className)}n.r(e),n.d(e,"Plugin",function(){return c});n("jquery");var l=n("./js/foundation.core.utils.js"),c=function(){function i(t,e){o(this,i),this._setup(t,e);var n=s(this);this.uuid=Object(l.GetYoDigits)(6,n),this.$element.attr("data-".concat(n))||this.$element.attr("data-".concat(n),this.uuid),this.$element.data("zfPlugin")||this.$element.data("zfPlugin",this),this.$element.trigger("init.zf.".concat(n))}return r(i,[{key:"destroy",value:function n(){this._destroy();var t=s(this);for(var e in this.$element.removeAttr("data-".concat(t)).removeData("zfPlugin").trigger("destroyed.zf.".concat(t)),this)this[e]=null}}]),i}()},"./js/foundation.core.utils.js":function(t,e,n){"use strict";function i(){return"rtl"===u()("html").attr("dir")}function o(t,e){for(var n=0<arguments.length&&t!==undefined?arguments[0]:6,i=1<arguments.length?e:undefined,o="",r="0123456789abcdefghijklmnopqrstuvwxyz",a=r.length,s=0;s<n;s++)o+=r[Math.floor(Math.random()*a)];return i?"".concat(o,"-").concat(i):o}function r(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function a(t){var e,n={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},i=document.createElement("div");for(var o in n)"undefined"!=typeof i.style[o]&&(e=n[o]);return e||(e=setTimeout(function(){t.triggerHandler("transitionend",[t])},1),"transitionend")}function s(t,e){var n="complete"===document.readyState,i=(n?"_didLoad":"load")+".zf.util.onLoad",o=function o(){return t.triggerHandler(i)};return t&&(e&&t.one(i,e),n?setTimeout(o):u()(window).one("load",o)),i}function l(a,t){var e=1<arguments.length&&t!==undefined?arguments[1]:{},n=e.ignoreLeaveWindow,s=void 0!==n&&n,i=e.ignoreReappear,l=void 0!==i&&i;return function c(n){for(var t=arguments.length,e=new Array(1<t?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var o=a.bind.apply(a,[this,n].concat(e));if(null!==n.relatedTarget)return o();setTimeout(function r(){if(!s&&document.hasFocus&&!document.hasFocus())return o();l||u()(document).one("mouseenter",function e(t){u()(n.currentTarget).has(t.target).length||(n.relatedTarget=t.target,o())})},0)}}n.r(e),n.d(e,"rtl",function(){return i}),n.d(e,"GetYoDigits",function(){return o}),n.d(e,"RegExpEscape",function(){return r}),n.d(e,"transitionend",function(){return a}),n.d(e,"onLoad",function(){return s}),n.d(e,"ignoreMousedisappear",function(){return l});var c=n("jquery"),u=n.n(c)},"./js/foundation.drilldown.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function E(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function _(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Drilldown",function(){return l});var s=n("jquery"),D=n.n(s),O=n("./js/foundation.util.keyboard.js"),I=n("./js/foundation.util.nest.js"),k=n("./js/foundation.core.utils.js"),w=n("./js/foundation.util.box.js"),R=n("./js/foundation.core.plugin.js"),l=function(){function n(){return b(this,n),_(this,T(n).apply(this,arguments))}return C(n,R["Plugin"]),E(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=D.a.extend({},n.defaults,this.$element.data(),e),this.className="Drilldown",this._init(),O.Keyboard.register("Drilldown",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close",TAB:"down",SHIFT_TAB:"up"})}},{key:"_init",value:function t(){I.Nest.Feather(this.$element,"drilldown"),this.options.autoApplyClass&&this.$element.addClass("drilldown"),this.$element.attr({role:"tree","aria-multiselectable":!1}),this.$submenuAnchors=this.$element.find("li.is-drilldown-submenu-parent").children("a"),this.$submenus=this.$submenuAnchors.parent("li").children("[data-submenu]").attr("role","group"),this.$menuItems=this.$element.find("li").not(".js-drilldown-back").attr("role","treeitem").find("a"),this.$currentMenu=this.$element,this.$element.attr("data-mutate",this.$element.attr("data-drilldown")||Object(k.GetYoDigits)(6,"drilldown")),this._prepareMenu(),this._registerEvents(),this._keyboardEvents()}},{key:"_prepareMenu",value:function e(){var n=this;this.$submenuAnchors.each(function(){var t=D()(this),e=t.parent();n.options.parentLink&&t.clone().prependTo(e.children("[data-submenu]")).wrap('<li data-is-parent-link class="is-submenu-parent-item is-submenu-item is-drilldown-submenu-item" role="menuitem"></li>'),t.data("savedHref",t.attr("href")).removeAttr("href").attr("tabindex",0),t.children("[data-submenu]").attr({"aria-hidden":!0,tabindex:0,role:"group"}),n._events(t)}),this.$submenus.each(function(){var t=D()(this);if(!t.find(".js-drilldown-back").length)switch(n.options.backButtonPosition){case"bottom":t.append(n.options.backButton);break;case"top":t.prepend(n.options.backButton);break;default:console.error("Unsupported backButtonPosition value '"+n.options.backButtonPosition+"'")}n._back(t)}),this.$submenus.addClass("invisible"),this.options.autoHeight||this.$submenus.addClass("drilldown-submenu-cover-previous"),this.$element.parent().hasClass("is-drilldown")||(this.$wrapper=D()(this.options.wrapper).addClass("is-drilldown"),this.options.animateHeight&&this.$wrapper.addClass("animate-height"),this.$element.wrap(this.$wrapper)),this.$wrapper=this.$element.parent(),this.$wrapper.css(this._getMaxDims())}},{key:"_resize",value:function o(){this.$wrapper.css({"max-width":"none","min-height":"none"}),this.$wrapper.css(this._getMaxDims())}},{key:"_events",value:function r(n){var i=this;n.off("click.zf.drilldown").on("click.zf.drilldown",function(t){if(D()(t.target).parentsUntil("ul","li").hasClass("is-drilldown-submenu-parent")&&t.preventDefault(),i._show(n.parent("li")),i.options.closeOnClick){var e=D()("body");e.off(".zf.drilldown").on("click.zf.drilldown",function(t){t.target===i.$element[0]||D.a.contains(i.$element[0],t.target)||(t.preventDefault(),i._hideAll(),e.off(".zf.drilldown"))})}})}},{key:"_registerEvents",value:function a(){this.options.scrollTop&&(this._bindHandler=this._scrollTop.bind(this),this.$element.on("open.zf.drilldown hide.zf.drilldown close.zf.drilldown closed.zf.drilldown",this._bindHandler)),this.$element.on("mutateme.zf.trigger",this._resize.bind(this))}},{key:"_scrollTop",value:function s(){var t=this,e=""!=t.options.scrollTopElement?D()(t.options.scrollTopElement):t.$element,n=parseInt(e.offset().top+t.options.scrollTopOffset,10);D()("html, body").stop(!0).animate({scrollTop:n},t.options.animationDuration,t.options.animationEasing,function(){this===D()("html")[0]&&t.$element.trigger("scrollme.zf.drilldown")})}},{key:"_keyboardEvents",value:function l(){var h=this;this.$menuItems.add(this.$element.find(".js-drilldown-back > a, .is-submenu-parent-item > a")).on("keydown.zf.drilldown",function(e){var n,i,o=D()(this),r=o.parent("li").parent("ul").children("li").children("a");r.each(function(t){if(D()(this).is(o))return n=r.eq(Math.max(0,t-1)),void(i=r.eq(Math.min(t+1,r.length-1)))}),O.Keyboard.handleKey(e,"Drilldown",{next:function t(){if(o.is(h.$submenuAnchors))return h._show(o.parent("li")),o.parent("li").one(Object(k.transitionend)(o),function(){o.parent("li").find("ul li a").not(".js-drilldown-back a").first().focus()}),!0},previous:function a(){return h._hide(o.parent("li").parent("ul")),o.parent("li").parent("ul").one(Object(k.transitionend)(o),function(){setTimeout(function(){o.parent("li").parent("ul").parent("li").children("a").first().focus()},1)}),!0},up:function s(){return n.focus(),!o.is(h.$element.find("> li:first-child > a"))},down:function l(){return i.focus(),!o.is(h.$element.find("> li:last-child > a"))},close:function c(){o.is(h.$element.find("> li > a"))||(h._hide(o.parent().parent()),o.parent().parent().siblings("a").focus())},open:function u(){return(!h.options.parentLink||!o.attr("href"))&&(o.is(h.$menuItems)?o.is(h.$submenuAnchors)?(h._show(o.parent("li")),o.parent("li").one(Object(k.transitionend)(o),function(){o.parent("li").find("ul li a").not(".js-drilldown-back a").first().focus()}),!0):void 0:(h._hide(o.parent("li").parent("ul")),o.parent("li").parent("ul").one(Object(k.transitionend)(o),function(){setTimeout(function(){o.parent("li").parent("ul").parent("li").children("a").first().focus()},1)}),!0))},handled:function d(t){t&&e.preventDefault()}})})}},{key:"_hideAll",value:function c(){var t=this,e=this.$element.find(".is-drilldown-submenu.is-active");if(e.addClass("is-closing"),this.options.autoHeight){var n=e.parent().closest("ul").data("calcHeight");this.$wrapper.css({height:n})}this.$element.trigger("close.zf.drilldown"),e.one(Object(k.transitionend)(e),function(){e.removeClass("is-active is-closing"),t.$element.trigger("closed.zf.drilldown")})}},{key:"_back",value:function u(e){var n=this;e.off("click.zf.drilldown"),e.children(".js-drilldown-back").on("click.zf.drilldown",function(){n._hide(e);var t=e.parent("li").parent("ul").parent("li");t.length&&n._show(t)})}},{key:"_menuLinkEvents",value:function d(){var t=this;this.$menuItems.not(".is-drilldown-submenu-parent").off("click.zf.drilldown").on("click.zf.drilldown",function(){setTimeout(function(){t._hideAll()},0)})}},{key:"_setShowSubMenuClasses",value:function h(t,e){t.addClass("is-active").removeClass("invisible").attr("aria-hidden",!1),t.parent("li").attr("aria-expanded",!0),!0===e&&this.$element.trigger("open.zf.drilldown",[t])}},{key:"_setHideSubMenuClasses",value:function f(t,e){t.removeClass("is-active").addClass("invisible").attr("aria-hidden",!0),t.parent("li").attr("aria-expanded",!1),!0===e&&t.trigger("hide.zf.drilldown",[t])}},{key:"_showMenu",value:function p(n,i){var o=this;if(this.$element.find('li[aria-expanded="true"] > ul[data-submenu]').each(function(){o._setHideSubMenuClasses(D()(this))}),(this.$currentMenu=n).is("[data-drilldown]"))return!0===i&&n.find('li[role="treeitem"] > a').first().focus(),void(this.options.autoHeight&&this.$wrapper.css("height",n.data("calcHeight")));var r=n.children().first().parentsUntil("[data-drilldown]","[data-submenu]");r.each(function(t){0===t&&o.options.autoHeight&&o.$wrapper.css("height",D()(this).data("calcHeight"));var e=t==r.length-1;!0===e&&D()(this).one(Object(k.transitionend)(D()(this)),function(){
!0===i&&n.find('li[role="treeitem"] > a').first().focus()}),o._setShowSubMenuClasses(D()(this),e)})}},{key:"_show",value:function m(t){var e=t.children("[data-submenu]");t.attr("aria-expanded",!0),(this.$currentMenu=e).addClass("is-active").removeClass("invisible").attr("aria-hidden",!1),this.options.autoHeight&&this.$wrapper.css({height:e.data("calcHeight")}),this.$element.trigger("open.zf.drilldown",[t])}},{key:"_hide",value:function g(t){this.options.autoHeight&&this.$wrapper.css({height:t.parent().closest("ul").data("calcHeight")});t.parent("li").attr("aria-expanded",!1),t.attr("aria-hidden",!0),t.addClass("is-closing").one(Object(k.transitionend)(t),function(){t.removeClass("is-active is-closing"),t.blur().addClass("invisible")}),t.trigger("hide.zf.drilldown",[t])}},{key:"_getMaxDims",value:function v(){var e=0,t={},n=this;return this.$submenus.add(this.$element).each(function(){D()(this).children("li").length;var t=w.Box.GetDimensions(this).height;e=e<t?t:e,n.options.autoHeight&&D()(this).data("calcHeight",t)}),this.options.autoHeight?t.height=this.$currentMenu.data("calcHeight"):t["min-height"]="".concat(e,"px"),t["max-width"]="".concat(this.$element[0].getBoundingClientRect().width,"px"),t}},{key:"_destroy",value:function y(){this.options.scrollTop&&this.$element.off(".zf.drilldown",this._bindHandler),this._hideAll(),this.$element.off("mutateme.zf.trigger"),I.Nest.Burn(this.$element,"drilldown"),this.$element.unwrap().find(".js-drilldown-back, .is-submenu-parent-item").remove().end().find(".is-active, .is-closing, .is-drilldown-submenu").removeClass("is-active is-closing is-drilldown-submenu").end().find("[data-submenu]").removeAttr("aria-hidden tabindex role"),this.$submenuAnchors.each(function(){D()(this).off(".zf.drilldown")}),this.$element.find("[data-is-parent-link]").detach(),this.$submenus.removeClass("drilldown-submenu-cover-previous invisible"),this.$element.find("a").each(function(){var t=D()(this);t.removeAttr("tabindex"),t.data("savedHref")&&t.attr("href",t.data("savedHref")).removeData("savedHref")})}}]),n}();l.defaults={autoApplyClass:!0,backButton:'<li class="js-drilldown-back"><a tabindex="0">Back</a></li>',backButtonPosition:"top",wrapper:"<div></div>",parentLink:!1,closeOnClick:!1,autoHeight:!1,animateHeight:!1,scrollTop:!1,scrollTopElement:"",scrollTopOffset:0,animationDuration:500,animationEasing:"swing"}},"./js/foundation.dropdown.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function m(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function r(t,e,n){var i=a(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Dropdown",function(){return c});var l=n("jquery"),b=n.n(l),E=n("./js/foundation.util.keyboard.js"),_=n("./js/foundation.core.utils.js"),T=n("./js/foundation.positionable.js"),C=n("./js/foundation.util.triggers.js"),D=n("./js/foundation.util.touch.js"),c=function(){function n(){return f(this,n),m(this,v(n).apply(this,arguments))}return y(n,T["Positionable"]),p(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=b.a.extend({},n.defaults,this.$element.data(),e),this.className="Dropdown",D.Touch.init(b.a),C.Triggers.init(b.a),this._init(),E.Keyboard.register("Dropdown",{ENTER:"toggle",SPACE:"toggle",ESCAPE:"close"})}},{key:"_init",value:function e(){var t=this.$element.attr("id");this.$anchors=b()('[data-toggle="'.concat(t,'"]')).length?b()('[data-toggle="'.concat(t,'"]')):b()('[data-open="'.concat(t,'"]')),this.$anchors.attr({"aria-controls":t,"data-is-focus":!1,"data-yeti-box":t,"aria-haspopup":!0,"aria-expanded":!1}),this._setCurrentAnchor(this.$anchors.first()),this.options.parentClass?this.$parent=this.$element.parents("."+this.options.parentClass):this.$parent=null,void 0===this.$element.attr("aria-labelledby")&&(void 0===this.$currentAnchor.attr("id")&&this.$currentAnchor.attr("id",Object(_.GetYoDigits)(6,"dd-anchor")),this.$element.attr("aria-labelledby",this.$currentAnchor.attr("id"))),this.$element.attr({"aria-hidden":"true","data-yeti-box":t,"data-resize":t}),g(v(n.prototype),"_init",this).call(this),this._events()}},{key:"_getDefaultPosition",value:function o(){var t=this.$element[0].className.match(/(top|left|right|bottom)/g);return t?t[0]:"bottom"}},{key:"_getDefaultAlignment",value:function r(){var t=/float-(\S+)/.exec(this.$currentAnchor.attr("class"));return t?t[1]:g(v(n.prototype),"_getDefaultAlignment",this).call(this)}},{key:"_setPosition",value:function t(){this.$element.removeClass("has-position-".concat(this.position," has-alignment-").concat(this.alignment)),g(v(n.prototype),"_setPosition",this).call(this,this.$currentAnchor,this.$element,this.$parent),this.$element.addClass("has-position-".concat(this.position," has-alignment-").concat(this.alignment))}},{key:"_setCurrentAnchor",value:function a(t){this.$currentAnchor=b()(t)}},{key:"_events",value:function s(){var o=this,e="ontouchstart"in window||"undefined"!=typeof window.ontouchstart;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":this._setPosition.bind(this)}),this.$anchors.off("click.zf.trigger").on("click.zf.trigger",function(t){o._setCurrentAnchor(this),!1===o.options.forceFollow?t.preventDefault():e&&o.options.hover&&!1===o.$element.hasClass("is-open")&&t.preventDefault()}),this.options.hover&&(this.$anchors.off("mouseenter.zf.dropdown mouseleave.zf.dropdown").on("mouseenter.zf.dropdown",function(){o._setCurrentAnchor(this);var t=b()("body").data();"undefined"!=typeof t.whatinput&&"mouse"!==t.whatinput||(clearTimeout(o.timeout),o.timeout=setTimeout(function(){o.open(),o.$anchors.data("hover",!0)},o.options.hoverDelay))}).on("mouseleave.zf.dropdown",Object(_.ignoreMousedisappear)(function(){clearTimeout(o.timeout),o.timeout=setTimeout(function(){o.close(),o.$anchors.data("hover",!1)},o.options.hoverDelay)})),this.options.hoverPane&&this.$element.off("mouseenter.zf.dropdown mouseleave.zf.dropdown").on("mouseenter.zf.dropdown",function(){clearTimeout(o.timeout)}).on("mouseleave.zf.dropdown",Object(_.ignoreMousedisappear)(function(){clearTimeout(o.timeout),o.timeout=setTimeout(function(){o.close(),o.$anchors.data("hover",!1)},o.options.hoverDelay)}))),this.$anchors.add(this.$element).on("keydown.zf.dropdown",function(t){var e=b()(this);E.Keyboard.findFocusable(o.$element);E.Keyboard.handleKey(t,"Dropdown",{open:function n(){e.is(o.$anchors)&&!e.is("input, textarea")&&(o.open(),o.$element.attr("tabindex",-1).focus(),t.preventDefault())},close:function i(){o.close(),o.$anchors.focus()}})})}},{key:"_addBodyHandler",value:function l(){var e=b()(document.body).not(this.$element),n=this;e.off("click.zf.dropdown tap.zf.dropdown").on("click.zf.dropdown tap.zf.dropdown",function(t){n.$anchors.is(t.target)||n.$anchors.find(t.target).length||n.$element.is(t.target)||n.$element.find(t.target).length||(n.close(),e.off("click.zf.dropdown tap.zf.dropdown"))})}},{key:"open",value:function c(){if(this.$element.trigger("closeme.zf.dropdown",this.$element.attr("id")),this.$anchors.addClass("hover").attr({"aria-expanded":!0}),this.$element.addClass("is-opening"),this._setPosition(),this.$element.removeClass("is-opening").addClass("is-open").attr({"aria-hidden":!1}),this.options.autoFocus){var t=E.Keyboard.findFocusable(this.$element);t.length&&t.eq(0).focus()}this.options.closeOnClick&&this._addBodyHandler(),this.options.trapFocus&&E.Keyboard.trapFocus(this.$element),this.$element.trigger("show.zf.dropdown",[this.$element])}},{key:"close",value:function u(){if(!this.$element.hasClass("is-open"))return!1;this.$element.removeClass("is-open").attr({"aria-hidden":!0}),this.$anchors.removeClass("hover").attr("aria-expanded",!1),this.$element.trigger("hide.zf.dropdown",[this.$element]),this.options.trapFocus&&E.Keyboard.releaseFocus(this.$element)}},{key:"toggle",value:function d(){if(this.$element.hasClass("is-open")){if(this.$anchors.data("hover"))return;this.close()}else this.open()}},{key:"_destroy",value:function h(){this.$element.off(".zf.trigger").hide(),this.$anchors.off(".zf.dropdown"),b()(document.body).off("click.zf.dropdown tap.zf.dropdown")}}]),n}();c.defaults={parentClass:null,hoverDelay:250,hover:!1,hoverPane:!1,vOffset:0,hOffset:0,position:"auto",alignment:"auto",allowOverlap:!1,allowBottomOverlap:!0,trapFocus:!1,autoFocus:!1,closeOnClick:!1,forceFollow:!0}},"./js/foundation.dropdownMenu.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"DropdownMenu",function(){return l});var s=n("jquery"),g=n.n(s),v=n("./js/foundation.core.plugin.js"),y=n("./js/foundation.core.utils.js"),b=n("./js/foundation.util.keyboard.js"),E=n("./js/foundation.util.nest.js"),_=n("./js/foundation.util.box.js"),T=n("./js/foundation.util.touch.js"),l=function(){function n(){return d(this,n),f(this,p(n).apply(this,arguments))}return m(n,v["Plugin"]),h(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=g.a.extend({},n.defaults,this.$element.data(),e),this.className="DropdownMenu",T.Touch.init(g.a),this._init(),b.Keyboard.register("DropdownMenu",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close"})}},{key:"_init",value:function e(){E.Nest.Feather(this.$element,"dropdown");var t=this.$element.find("li.is-dropdown-submenu-parent");this.$element.children(".is-dropdown-submenu-parent").children(".is-dropdown-submenu").addClass("first-sub"),this.$menuItems=this.$element.find('[role="menuitem"]'),this.$tabs=this.$element.children('[role="menuitem"]'),this.$tabs.find("ul.is-dropdown-submenu").addClass(this.options.verticalClass),"auto"===this.options.alignment?this.$element.hasClass(this.options.rightClass)||Object(y.rtl)()||this.$element.parents(".top-bar-right").is("*")?(this.options.alignment="right",t.addClass("opens-left")):(this.options.alignment="left",t.addClass("opens-right")):"right"===this.options.alignment?t.addClass("opens-left"):t.addClass("opens-right"),this.changed=!1,this._events()}},{key:"_isVertical",value:function t(){return"block"===this.$tabs.css("display")||"column"===this.$element.css("flex-direction")}},{key:"_isRtl",value:function o(){return this.$element.hasClass("align-right")||Object(y.rtl)()&&!this.$element.hasClass("align-left")}},{key:"_events",value:function l(){var h=this,r="ontouchstart"in window||"undefined"!=typeof window.ontouchstart,a="is-dropdown-submenu-parent",s=function s(t){var e=g()(t.target).parentsUntil("ul",".".concat(a)),n=e.hasClass(a),i="true"===e.attr("data-is-click"),o=e.children(".is-dropdown-submenu");if(n)if(i){if(!h.options.closeOnClick||!h.options.clickOpen&&!r||h.options.forceFollow&&r)return;t.preventDefault(),h._hide(e)}else t.preventDefault(),h._show(o),e.add(e.parentsUntil(h.$element,".".concat(a))).attr("data-is-click",!0)};(this.options.clickOpen||r)&&this.$menuItems.on("click.zf.dropdownMenu touchstart.zf.dropdownMenu",s),h.options.closeOnClickInside&&this.$menuItems.on("click.zf.dropdownMenu",function(){g()(this).hasClass(a)||h._hide()}),this.options.disableHover||this.$menuItems.on("mouseenter.zf.dropdownMenu",function(){var t=g()(this);t.hasClass(a)&&(clearTimeout(t.data("_delay")),t.data("_delay",setTimeout(function(){h._show(t.children(".is-dropdown-submenu"))},h.options.hoverDelay)))}).on("mouseleave.zf.dropdownmenu",Object(y.ignoreMousedisappear)(function(){var t=g()(this);if(t.hasClass(a)&&h.options.autoclose){if("true"===t.attr("data-is-click")&&h.options.clickOpen)return!1;clearTimeout(t.data("_delay")),t.data("_delay",setTimeout(function(){h._hide(t)},h.options.closingTime))}})),this.$menuItems.on("keydown.zf.dropdownMenu",function(e){var n,i,o=g()(e.target).parentsUntil("ul",'[role="menuitem"]'),t=-1<h.$tabs.index(o),r=t?h.$tabs:o.siblings("li").add(o);r.each(function(t){if(g()(this).is(o))return n=r.eq(t-1),void(i=r.eq(t+1))});var a=function a(){i.children("a:first").focus(),e.preventDefault()},s=function s(){n.children("a:first").focus(),e.preventDefault()},l=function l(){var t=o.children("ul.is-dropdown-submenu");t.length&&(h._show(t),o.find("li > a:first").focus(),e.preventDefault())},c=function c(){var t=o.parent("ul").parent("li");t.children("a:first").focus(),h._hide(t),e.preventDefault()},u={open:l,close:function d(){h._hide(h.$element),h.$menuItems.eq(0).children("a").focus(),e.preventDefault()}};t?h._isVertical()?h._isRtl()?g.a.extend(u,{down:a,up:s,next:c,previous:l}):g.a.extend(u,{down:a,up:s,next:l,previous:c}):h._isRtl()?g.a.extend(u,{next:s,previous:a,down:l,up:c}):g.a.extend(u,{next:a,previous:s,down:l,up:c}):h._isRtl()?g.a.extend(u,{next:c,previous:l,down:a,up:s}):g.a.extend(u,{next:l,previous:c,down:a,up:s}),b.Keyboard.handleKey(e,"DropdownMenu",u)})}},{key:"_addBodyHandler",value:function r(){var e=this,t=g()(document.body);this._removeBodyHandler(),t.on("click.zf.dropdownMenu tap.zf.dropdownMenu",function(t){!!g()(t.target).closest(e.$element).length||(e._hide(),e._removeBodyHandler())})}},{key:"_removeBodyHandler",value:function a(){g()(document.body).off("click.zf.dropdownMenu tap.zf.dropdownMenu")}},{key:"_show",value:function s(n){var t=this.$tabs.index(this.$tabs.filter(function(t,e){return 0<g()(e).find(n).length})),e=n.parent("li.is-dropdown-submenu-parent").siblings("li.is-dropdown-submenu-parent");this._hide(e,t),n.css("visibility","hidden").addClass("js-dropdown-active").parent("li.is-dropdown-submenu-parent").addClass("is-active");var i=_.Box.ImNotTouchingYou(n,null,!0);if(!i){var o="left"===this.options.alignment?"-right":"-left",r=n.parent(".is-dropdown-submenu-parent");r.removeClass("opens".concat(o)).addClass("opens-".concat(this.options.alignment)),(i=_.Box.ImNotTouchingYou(n,null,!0))||r.removeClass("opens-".concat(this.options.alignment)).addClass("opens-inner"),this.changed=!0}n.css("visibility",""),this.options.closeOnClick&&this._addBodyHandler(),this.$element.trigger("show.zf.dropdownMenu",[n])}},{key:"_hide",value:function c(t,e){var n;if((n=t&&t.length?t:void 0!==e?this.$tabs.not(function(t){return t===e}):this.$element).hasClass("is-active")||0<n.find(".is-active").length){var i=n.find("li.is-active");if(i.add(n).attr({"data-is-click":!1}).removeClass("is-active"),n.find("ul.js-dropdown-active").removeClass("js-dropdown-active"),this.changed||n.find("opens-inner").length){var o="left"===this.options.alignment?"right":"left";n.find("li.is-dropdown-submenu-parent").add(n).removeClass("opens-inner opens-".concat(this.options.alignment)).addClass("opens-".concat(o)),this.changed=!1}clearTimeout(i.data("_delay")),this._removeBodyHandler(),this.$element.trigger("hide.zf.dropdownMenu",[n])}}},{key:"_destroy",value:function u(){this.$menuItems.off(".zf.dropdownMenu").removeAttr("data-is-click").removeClass("is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner"),g()(document.body).off(".zf.dropdownMenu"),E.Nest.Burn(this.$element,"dropdown")}}]),n}();l.defaults={disableHover:!1,autoclose:!0,hoverDelay:50,clickOpen:!1,closingTime:500,alignment:"auto",closeOnClick:!0,closeOnClickInside:!0,verticalClass:"vertical",rightClass:"align-right",forceFollow:!0}},"./js/foundation.equalizer.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function y(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Equalizer",function(){return l});var s=n("jquery"),_=n.n(s),T=n("./js/foundation.util.mediaQuery.js"),C=n("./js/foundation.util.imageLoader.js"),D=n("./js/foundation.core.utils.js"),O=n("./js/foundation.core.plugin.js"),l=function(){function n(){return g(this,n),y(this,b(n).apply(this,arguments))}return E(n,O["Plugin"]),v(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=_.a.extend({},n.defaults,this.$element.data(),e),this.className="Equalizer",this._init()}},{key:"_init",value:function o(){var t=this.$element.attr("data-equalizer")||"",e=this.$element.find('[data-equalizer-watch="'.concat(t,'"]'));T.MediaQuery._init(),this.$watched=e.length?e:this.$element.find("[data-equalizer-watch]"),this.$element.attr("data-resize",t||Object(D.GetYoDigits)(6,"eq")),this.$element.attr("data-mutate",t||Object(D.GetYoDigits)(6,"eq")),this.hasNested=0<this.$element.find("[data-equalizer]").length,this.isNested=0<this.$element.parentsUntil(document.body,"[data-equalizer]").length,this.isOn=!1,this._bindHandler={onResizeMeBound:this._onResizeMe.bind(this),onPostEqualizedBound:this._onPostEqualized.bind(this)};var n,i=this.$element.find("img");this.options.equalizeOn?(n=this._checkMQ(),_()(window).on("changed.zf.mediaquery",this._checkMQ.bind(this))):this._events(),(void 0!==n&&!1===n||void 0===n)&&(i.length?Object(C.onImagesLoaded)(i,this._reflow.bind(this)):this._reflow())}},{key:"_pauseEvents",value:function t(){this.isOn=!1,this.$element.off({".zf.equalizer":this._bindHandler.onPostEqualizedBound,"resizeme.zf.trigger":this._bindHandler.onResizeMeBound,"mutateme.zf.trigger":this._bindHandler.onResizeMeBound})}},{key:"_onResizeMe",value:function e(){this._reflow()}},{key:"_onPostEqualized",value:function r(t){t.target!==this.$element[0]&&this._reflow()}},{key:"_events",value:function a(){this._pauseEvents(),this.hasNested?this.$element.on("postequalized.zf.equalizer",this._bindHandler.onPostEqualizedBound):(this.$element.on("resizeme.zf.trigger",this._bindHandler.onResizeMeBound),this.$element.on("mutateme.zf.trigger",this._bindHandler.onResizeMeBound)),this.isOn=!0}},{key:"_checkMQ",value:function s(){var t=!T.MediaQuery.is(this.options.equalizeOn);return t?this.isOn&&(this._pauseEvents(),this.$watched.css("height","auto")):this.isOn||this._events(),t}},{key:"_killswitch",value:function l(){}},{key:"_reflow",value:function c(){if(!this.options.equalizeOnStack&&this._isStacked())return this.$watched.css("height","auto"),!1;this.options.equalizeByRow?this.getHeightsByRow(this.applyHeightByRow.bind(this)):this.getHeights(this.applyHeight.bind(this))}},{key:"_isStacked",value:function u(){return!this.$watched[0]||!this.$watched[1]||this.$watched[0].getBoundingClientRect().top!==this.$watched[1].getBoundingClientRect().top}},{key:"getHeights",value:function d(t){for(var e=[],n=0,i=this.$watched.length;n<i;n++)this.$watched[n].style.height="auto",e.push(this.$watched[n].offsetHeight);t(e)}},{key:"getHeightsByRow",value:function h(t){var e=this.$watched.length?this.$watched.first().offset().top:0,n=[],i=0;n[i]=[];for(var o=0,r=this.$watched.length;o<r;o++){this.$watched[o].style.height="auto";var a=_()(this.$watched[o]).offset().top;a!=e&&(n[++i]=[],e=a),n[i].push([this.$watched[o],this.$watched[o].offsetHeight])}for(var s=0,l=n.length;s<l;s++){var c=_()(n[s]).map(function(){return this[1]}).get(),u=Math.max.apply(null,c);n[s].push(u)}t(n)}},{key:"applyHeight",value:function f(t){var e=Math.max.apply(null,t);this.$element.trigger("preequalized.zf.equalizer"),this.$watched.css("height",e),this.$element.trigger("postequalized.zf.equalizer")}},{key:"applyHeightByRow",value:function p(t){this.$element.trigger("preequalized.zf.equalizer");for(var e=0,n=t.length;e<n;e++){var i=t[e].length,o=t[e][i-1];if(i<=2)_()(t[e][0][0]).css({height:"auto"});else{this.$element.trigger("preequalizedrow.zf.equalizer");for(var r=0,a=i-1;r<a;r++)_()(t[e][r][0]).css({height:o});this.$element.trigger("postequalizedrow.zf.equalizer")}}this.$element.trigger("postequalized.zf.equalizer")}},{key:"_destroy",value:function m(){this._pauseEvents(),this.$watched.css("height","auto")}}]),n}();l.defaults={equalizeOnStack:!1,equalizeByRow:!1,equalizeOn:""}},"./js/foundation.interchange.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Interchange",function(){return l});var s=n("jquery"),m=n.n(s),g=n("./js/foundation.util.mediaQuery.js"),v=n("./js/foundation.core.plugin.js"),y=n("./js/foundation.core.utils.js"),l=function(){function a(){return u(this,a),h(this,f(a).apply(this,arguments))}return p(a,v["Plugin"]),d(a,[{key:"_setup",value:function n(t,e){this.$element=t,this.options=m.a.extend({},a.defaults,this.$element.data(),e),this.rules=[],this.currentPath="",this.className="Interchange",this._init(),this._events()}},{key:"_init",value:function e(){g.MediaQuery._init();var t=this.$element[0].id||Object(y.GetYoDigits)(6,"interchange");this.$element.attr({"data-resize":t,id:t}),this._parseOptions(),this._addBreakpoints(),this._generateRules(),this._reflow()}},{key:"_events",value:function i(){var t=this;this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",function(){return t._reflow()})}},{key:"_reflow",value:function o(){var t;for(var e in this.rules)if(this.rules.hasOwnProperty(e)){var n=this.rules[e];window.matchMedia(n.query).matches&&(t=n)}t&&this.replace(t.path)}},{key:"_parseOptions",value:function r(){var t=["auto","src","background","html"];"undefined"==typeof this.options.type?this.options.type="auto":-1===t.indexOf(this.options.type)&&(console.log('Warning: invalid value "'.concat(this.options.type,'" for Interchange option "type"')),this.options.type="auto")}},{key:"_addBreakpoints",value:function s(){for(var t in g.MediaQuery.queries)if(g.MediaQuery.queries.hasOwnProperty(t)){var e=g.MediaQuery.queries[t];a.SPECIAL_QUERIES[e.name]=e.value}}},{key:"_generateRules",value:function l(){var t,e=[];for(var n in t="string"==typeof(t=this.options.rules?this.options.rules:this.$element.data("interchange"))?t.match(/\[.*?, .*?\]/g):t)if(t.hasOwnProperty(n)){var i=t[n].slice(1,-1).split(", "),o=i.slice(0,-1).join(""),r=i[i.length-1];a.SPECIAL_QUERIES[r]&&(r=a.SPECIAL_QUERIES[r]),e.push({path:o,query:r})}this.rules=e}},{key:"replace",value:function c(e){var n=this;if(this.currentPath!==e){var i="replaced.zf.interchange",t=this.options.type;"auto"===t&&(t="IMG"===this.$element[0].nodeName?"src":e.match(/\.(gif|jpe?g|png|svg|tiff)([?#].*)?/i)?"background":"html"),"src"===t?this.$element.attr("src",e).on("load",function(){n.currentPath=e}).trigger(i):"background"===t?(e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),this.$element.css({"background-image":"url("+e+")"}).trigger(i)):"html"===t&&m.a.get(e,function(t){n.$element.html(t).trigger(i),m()(t).foundation(),n.currentPath=e})}}},{key:"_destroy",value:function t(){this.$element.off("resizeme.zf.trigger")}}]),a}();l.defaults={rules:null,type:"auto"},l.SPECIAL_QUERIES={landscape:"screen and (orientation: landscape)",portrait:"screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)"}},"./js/foundation.magellan.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function d(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Magellan",function(){return u});var s=n("jquery"),p=n.n(s),m=n("./js/foundation.core.plugin.js"),g=n("./js/foundation.core.utils.js"),v=n("./js/foundation.smoothScroll.js"),y=n("./js/foundation.util.triggers.js"),u=function(){function n(){return l(this,n),d(this,h(n).apply(this,arguments))}return f(n,m["Plugin"]),c(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=p.a.extend({},n.defaults,this.$element.data(),e),this.className="Magellan",y.Triggers.init(p.a),this._init(),this.calcPoints()}},{key:"_init",value:function e(){var t=this.$element[0].id||Object(g.GetYoDigits)(6,"magellan");this.$targets=p()("[data-magellan-target]"),this.$links=this.$element.find("a"),this.$element.attr({"data-resize":t,"data-scroll":t,id:t}),this.$active=p()(),this.scrollPos=parseInt(window.pageYOffset,10),this._events()}},{key:"calcPoints",value:function o(){var n=this,t=document.body,e=document.documentElement;this.points=[],this.winHeight=Math.round(Math.max(window.innerHeight,e.clientHeight)),this.docHeight=Math.round(Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)),this.$targets.each(function(){var t=p()(this),e=Math.round(t.offset().top-n.options.threshold);t.targetPoint=e,n.points.push(e)})}},{key:"_events",value:function t(){var n=this;p()("html, body"),n.options.animationDuration,n.options.animationEasing;p()(window).one("load",function(){n.options.deepLinking&&location.hash&&n.scrollToLoc(location.hash),n.calcPoints(),n._updateActive()}),n.onLoadListener=Object(g.onLoad)(p()(window),function(){n.$element.on({"resizeme.zf.trigger":n.reflow.bind(n),"scrollme.zf.trigger":n._updateActive.bind(n)}).on("click.zf.magellan",'a[href^="#"]',function(t){t.preventDefault();var e=this.getAttribute("href");n.scrollToLoc(e)})}),this._deepLinkScroll=function(){n.options.deepLinking&&n.scrollToLoc(window.location.hash)},p()(window).on("hashchange",this._deepLinkScroll)}},{key:"scrollToLoc",value:function r(t){this._inTransition=!0;var e=this,n={animationEasing:this.options.animationEasing,animationDuration:this.options.animationDuration,threshold:this.options.threshold,offset:this.options.offset};v.SmoothScroll.scrollToLoc(t,n,function(){e._inTransition=!1})}},{key:"reflow",value:function a(){this.calcPoints(),this._updateActive()}},{key:"_updateActive",value:function u(){var e=this;if(!this._inTransition){var t,n=parseInt(window.pageYOffset,10),i=this.scrollPos>n;if((this.scrollPos=n)<this.points[0]);else if(n+this.winHeight===this.docHeight)t=this.points.length-1;else{var o=this.points.filter(function(t){return t-e.options.offset-(i?e.options.threshold:0)<=n});t=o.length?o.length-1:0}var r=this.$active,a="";void 0!==t?(this.$active=this.$links.filter('[href="#'+this.$targets.eq(t).data("magellan-target")+'"]'),this.$active.length&&(a=this.$active[0].getAttribute("href"))):this.$active=p()();var s=!(!this.$active.length&&!r.length||this.$active.is(r)),l=a!==window.location.hash;if(s&&(r.removeClass(this.options.activeClass),this.$active.addClass(this.options.activeClass)),this.options.deepLinking&&l)if(window.history.pushState){var c=a||window.location.pathname+window.location.search;this.options.updateHistory?window.history.pushState({},"",c):window.history.replaceState({},"",c)}else window.location.hash=a;s&&this.$element.trigger("update.zf.magellan",[this.$active])}}},{key:"_destroy",value:function s(){if(this.$element.off(".zf.trigger .zf.magellan").find(".".concat(this.options.activeClass)).removeClass(this.options.activeClass),this.options.deepLinking){var t=this.$active[0].getAttribute("href");window.location.hash.replace(t,"")}p()(window).off("hashchange",this._deepLinkScroll),this.onLoadListener&&p()(window).off(this.onLoadListener)}}]),n}();u.defaults={animationDuration:500,animationEasing:"linear",threshold:50,activeClass:"is-active",deepLinking:!1,updateHistory:!1,offset:0}},"./js/foundation.offcanvas.js":function(t,e,n){"use strict";function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function T(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?o(t):e}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"OffCanvas",function(){return s});var a=n("jquery"),O=n.n(a),I=n("./js/foundation.core.plugin.js"),k=n("./js/foundation.core.utils.js"),w=n("./js/foundation.util.keyboard.js"),R=n("./js/foundation.util.mediaQuery.js"),x=n("./js/foundation.util.triggers.js"),s=function(){function i(){return E(this,i),T(this,C(i).apply(this,arguments))}return D(i,I["Plugin"]),_(i,[{key:"_setup",value:function o(t,e){var n=this;this.className="OffCanvas",this.$element=t,this.options=O.a.extend({},i.defaults,this.$element.data(),e),this.contentClasses={base:[],reveal:[]},this.$lastTrigger=O()(),this.$triggers=O()(),this.position="left",this.$content=O()(),this.nested=!!this.options.nested,this.$sticky=O()(),this.isInCanvas=!1,O()(["push","overlap"]).each(function(t,e){n.contentClasses.base.push("has-transition-"+e)}),O()(["left","right","top","bottom"]).each(function(t,e){n.contentClasses.base.push("has-position-"+e),n.contentClasses.reveal.push("has-reveal-"+e)}),x.Triggers.init(O.a),R.MediaQuery._init(),this._init(),this._events(),w.Keyboard.register("OffCanvas",{ESCAPE:"close"})}},{key:"_init",value:function r(){var t=this.$element.attr("id");if(this.$element.attr("aria-hidden","true"),this.options.contentId?this.$content=O()("#"+this.options.contentId):this.$element.siblings("[data-off-canvas-content]").length?this.$content=this.$element.siblings("[data-off-canvas-content]").first():this.$content=this.$element.closest("[data-off-canvas-content]").first(),this.options.contentId?this.options.contentId&&null===this.options.nested&&console.warn("Remember to use the nested option if using the content ID option!"):this.nested=0===this.$element.siblings("[data-off-canvas-content]").length,!0===this.nested&&(this.options.transition="overlap",this.$element.removeClass("is-transition-push")),this.$element.addClass("is-transition-".concat(this.options.transition," is-closed")),this.$triggers=O()(document).find('[data-open="'+t+'"], [data-close="'+t+'"], [data-toggle="'+t+'"]').attr("aria-expanded","false").attr("aria-controls",t),this.position=this.$element.is(".position-left, .position-top, .position-right, .position-bottom")?this.$element.attr("class").match(/position\-(left|top|right|bottom)/)[1]:this.position,!0===this.options.contentOverlay){var e=document.createElement("div"),n="fixed"===O()(this.$element).css("position")?"is-overlay-fixed":"is-overlay-absolute";e.setAttribute("class","js-off-canvas-overlay "+n),this.$overlay=O()(e),"is-overlay-fixed"===n?O()(this.$overlay).insertAfter(this.$element):this.$content.append(this.$overlay)}var i=new RegExp(Object(k.RegExpEscape)(this.options.revealClass)+"([^\\s]+)","g").exec(this.$element[0].className);i&&(this.options.isRevealed=!0,this.options.revealOn=this.options.revealOn||i[1]),!0===this.options.isRevealed&&this.options.revealOn&&(this.$element.first().addClass("".concat(this.options.revealClass).concat(this.options.revealOn)),this._setMQChecker()),this.options.transitionTime&&this.$element.css("transition-duration",this.options.transitionTime),this.$sticky=this.$content.find("[data-off-canvas-sticky]"),0<this.$sticky.length&&"push"===this.options.transition&&(this.options.contentScroll=!1);var o=this.$element.attr("class").match(/\bin-canvas-for-(\w+)/);o&&2===o.length?this.options.inCanvasOn=o[1]:this.options.inCanvasOn&&this.$element.addClass("in-canvas-for-".concat(this.options.inCanvasOn)),this.options.inCanvasOn&&this._checkInCanvas(),this._removeContentClasses()}},{key:"_events",value:function e(){var t=this;(this.$element.off(".zf.trigger .zf.offCanvas").on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"keydown.zf.offCanvas":this._handleKeyboard.bind(this)}),!0===this.options.closeOnClick)&&(this.options.contentOverlay?this.$overlay:this.$content).on({"click.zf.offCanvas":this.close.bind(this)});this.options.inCanvasOn&&O()(window).on("changed.zf.mediaquery",function(){t._checkInCanvas()})}},{key:"_setMQChecker",value:function n(){var t=this;this.onLoadListener=Object(k.onLoad)(O()(window),function(){R.MediaQuery.atLeast(t.options.revealOn)&&t.reveal(!0)}),O()(window).on("changed.zf.mediaquery",function(){R.MediaQuery.atLeast(t.options.revealOn)?t.reveal(!0):t.reveal(!1)})}},{key:"_checkInCanvas",value:function t(){this.isInCanvas=R.MediaQuery.atLeast(this.options.inCanvasOn),!0===this.isInCanvas&&this.close()}},{key:"_removeContentClasses",value:function a(t){"boolean"!=typeof t?this.$content.removeClass(this.contentClasses.base.join(" ")):!1===t&&this.$content.removeClass("has-reveal-".concat(this.position))}},{key:"_addContentClasses",value:function s(t){this._removeContentClasses(t),"boolean"!=typeof t?this.$content.addClass("has-transition-".concat(this.options.transition," has-position-").concat(this.position)):!0===t&&this.$content.addClass("has-reveal-".concat(this.position))}},{key:"_fixStickyElements",value:function l(){this.$sticky.each(function(t,e){var n=O()(e);if("fixed"===n.css("position")){var i=parseInt(n.css("top"),10);n.data("offCanvasSticky",{top:i});var o=O()(document).scrollTop()+i;n.css({top:"".concat(o,"px"),width:"100%",transition:"none"})}})}},{key:"_unfixStickyElements",value:function c(){this.$sticky.each(function(t,e){var n=O()(e),i=n.data("offCanvasSticky");"object"===b(i)&&(n.css({top:"".concat(i.top,"px"),width:"",transition:""}),n.data("offCanvasSticky",""))})}},{key:"reveal",value:function u(t){t?(this.close(),this.isRevealed=!0,this.$element.attr("aria-hidden","false"),this.$element.off("open.zf.trigger toggle.zf.trigger"),this.$element.removeClass("is-closed")):(this.isRevealed=!1,this.$element.attr("aria-hidden","true"),this.$element.off("open.zf.trigger toggle.zf.trigger").on({"open.zf.trigger":this.open.bind(this),"toggle.zf.trigger":this.toggle.bind(this)}),this.$element.addClass("is-closed")),this._addContentClasses(t)}},{key:"_stopScrolling",value:function d(){return!1}},{key:"_recordScrollable",value:function h(t){var e=this;e.scrollHeight!==e.clientHeight&&(0===e.scrollTop&&(e.scrollTop=1),e.scrollTop===e.scrollHeight-e.clientHeight&&(e.scrollTop=e.scrollHeight-e.clientHeight-1)),e.allowUp=0<e.scrollTop,e.allowDown=e.scrollTop<e.scrollHeight-e.clientHeight,e.lastY=t.originalEvent.pageY}},{key:"_stopScrollPropagation",value:function f(t){var e,n=this,i=t.pageY<n.lastY,o=!i;n.lastY=t.pageY,i&&n.allowUp||o&&n.allowDown?(t.stopPropagation(),n.hasAttribute("data-off-canvas-scrollbox")&&(e=n.closest("[data-off-canvas], [data-off-canvas-scrollbox-outer]"),n.scrollTop<=1&&0<e.scrollTop?e.scrollTop--:n.scrollTop>=n.scrollHeight-n.clientHeight-1&&e.scrollTop<e.scrollHeight-e.clientHeight&&e.scrollTop++)):t.preventDefault()}},{key:"open",value:function p(t,e){var n=this;if(!(this.$element.hasClass("is-open")||this.isRevealed||this.isInCanvas)){var i=this;e&&(this.$lastTrigger=e),"top"===this.options.forceTo?window.scrollTo(0,0):"bottom"===this.options.forceTo&&window.scrollTo(0,document.body.scrollHeight),this.options.transitionTime&&"overlap"!==this.options.transition?this.$element.siblings("[data-off-canvas-content]").css("transition-duration",this.options.transitionTime):this.$element.siblings("[data-off-canvas-content]").css("transition-duration",""),this.$element.addClass("is-open").removeClass("is-closed"),this.$triggers.attr("aria-expanded","true"),this.$element.attr("aria-hidden","false"),this.$content.addClass("is-open-"+this.position),!1===this.options.contentScroll&&(O()("body").addClass("is-off-canvas-open").on("touchmove",this._stopScrolling),this.$element.on("touchstart",this._recordScrollable),this.$element.on("touchmove",this._stopScrollPropagation),this.$element.on("touchstart","[data-off-canvas-scrollbox]",this._recordScrollable),this.$element.on("touchmove","[data-off-canvas-scrollbox]",this._stopScrollPropagation)),!0===this.options.contentOverlay&&this.$overlay.addClass("is-visible"),!0===this.options.closeOnClick&&!0===this.options.contentOverlay&&this.$overlay.addClass("is-closable"),!0===this.options.autoFocus&&this.$element.one(Object(k.transitionend)(this.$element),function(){if(i.$element.hasClass("is-open")){var t=i.$element.find("[data-autofocus]");t.length?t.eq(0).focus():i.$element.find("a, button").eq(0).focus()}}),!0===this.options.trapFocus&&(this.$content.attr("tabindex","-1"),w.Keyboard.trapFocus(this.$element)),"push"===this.options.transition&&this._fixStickyElements(),this._addContentClasses(),this.$element.trigger("opened.zf.offCanvas"),this.$element.one(Object(k.transitionend)(this.$element),function(){n.$element.trigger("openedEnd.zf.offCanvas")})}}},{key:"close",value:function m(){var t=this;if(this.$element.hasClass("is-open")&&!this.isRevealed){this.$element.trigger("close.zf.offCanvas");this.$element.removeClass("is-open"),this.$element.attr("aria-hidden","true"),this.$content.removeClass("is-open-left is-open-top is-open-right is-open-bottom"),!0===this.options.contentOverlay&&this.$overlay.removeClass("is-visible"),!0===this.options.closeOnClick&&!0===this.options.contentOverlay&&this.$overlay.removeClass("is-closable"),this.$triggers.attr("aria-expanded","false"),this.$element.one(Object(k.transitionend)(this.$element),function(){t.$element.addClass("is-closed"),t._removeContentClasses(),"push"===t.options.transition&&t._unfixStickyElements(),!1===t.options.contentScroll&&(O()("body").removeClass("is-off-canvas-open").off("touchmove",t._stopScrolling),t.$element.off("touchstart",t._recordScrollable),t.$element.off("touchmove",t._stopScrollPropagation),t.$element.off("touchstart","[data-off-canvas-scrollbox]",t._recordScrollable),t.$element.off("touchmove","[data-off-canvas-scrollbox]",t._stopScrollPropagation)),!0===t.options.trapFocus&&(t.$content.removeAttr("tabindex"),w.Keyboard.releaseFocus(t.$element)),t.$element.trigger("closed.zf.offCanvas")})}}},{key:"toggle",value:function g(t,e){this.$element.hasClass("is-open")?this.close(t,e):this.open(t,e)}},{key:"_handleKeyboard",value:function v(t){var e=this;w.Keyboard.handleKey(t,"OffCanvas",{close:function n(){return e.close(),e.$lastTrigger.focus(),!0},handled:function i(){t.preventDefault()}})}},{key:"_destroy",value:function y(){this.close(),this.$element.off(".zf.trigger .zf.offCanvas"),this.$overlay.off(".zf.offCanvas"),this.onLoadListener&&O()(window).off(this.onLoadListener)}}]),i}();s.defaults={closeOnClick:!0,contentOverlay:!0,contentId:null,nested:null,contentScroll:!0,transitionTime:null,transition:"push",forceTo:null,isRevealed:!1,revealOn:null,inCanvasOn:null,autoFocus:!0,revealClass:"reveal-for-",trapFocus:!1}},"./js/foundation.orbit.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function m(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Orbit",function(){return l});var s=n("jquery"),y=n.n(s),b=n("./js/foundation.util.keyboard.js"),E=n("./js/foundation.util.motion.js"),_=n("./js/foundation.util.timer.js"),T=n("./js/foundation.util.imageLoader.js"),C=n("./js/foundation.core.utils.js"),D=n("./js/foundation.core.plugin.js"),O=n("./js/foundation.util.touch.js"),l=function(){function n(){return f(this,n),m(this,g(n).apply(this,arguments))}return v(n,D["Plugin"]),p(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=y.a.extend({},n.defaults,this.$element.data(),e),this.className="Orbit",O.Touch.init(y.a),this._init(),b.Keyboard.register("Orbit",{ltr:{ARROW_RIGHT:"next",ARROW_LEFT:"previous"},rtl:{ARROW_LEFT:"next",ARROW_RIGHT:"previous"}})}},{key:"_init",value:function o(){this._reset(),this.$wrapper=this.$element.find(".".concat(this.options.containerClass)),this.$slides=this.$element.find(".".concat(this.options.slideClass));var t=this.$element.find("img"),e=this.$slides.filter(".is-active"),n=this.$element[0].id||Object(C.GetYoDigits)(6,"orbit");this.$element.attr({"data-resize":n,id:n}),e.length||this.$slides.eq(0).addClass("is-active"),this.options.useMUI||this.$slides.addClass("no-motionui"),t.length?Object(T.onImagesLoaded)(t,this._prepareForOrbit.bind(this)):this._prepareForOrbit(),this.options.bullets&&this._loadBullets(),this._events(),this.options.autoPlay&&1<this.$slides.length&&this.geoSync(),this.options.accessible&&this.$wrapper.attr("tabindex",0)}},{key:"_loadBullets",value:function t(){this.$bullets=this.$element.find(".".concat(this.options.boxOfBullets)).find("button")}},{key:"geoSync",value:function e(){var t=this;this.timer=new _.Timer(this.$element,{duration:this.options.timerDelay,infinite:!1},function(){t.changeSlide(!0)}),this.timer.start()}},{key:"_prepareForOrbit",value:function r(){this._setWrapperHeight()}},{key:"_setWrapperHeight",value:function a(t){var e,n=0,i=0,o=this;this.$slides.each(function(){e=this.getBoundingClientRect().height,y()(this).attr("data-slide",i),/mui/g.test(y()(this)[0].className)||o.$slides.filter(".is-active")[0]===o.$slides.eq(i)[0]||y()(this).css({display:"none"}),n=n<e?e:n,i++}),i===this.$slides.length&&(this.$wrapper.css({height:n}),t&&t(n))}},{key:"_setSlideHeight",value:function s(t){this.$slides.each(function(){y()(this).css("max-height",t)})}},{key:"_events",value:function l(){var o=this;if(this.$element.off(".resizeme.zf.trigger").on({"resizeme.zf.trigger":this._prepareForOrbit.bind(this)}),1<this.$slides.length){if(this.options.swipe&&this.$slides.off("swipeleft.zf.orbit swiperight.zf.orbit").on("swipeleft.zf.orbit",function(t){t.preventDefault(),o.changeSlide(!0)}).on("swiperight.zf.orbit",function(t){t.preventDefault(),o.changeSlide(!1)}),this.options.autoPlay&&(this.$slides.on("click.zf.orbit",function(){o.$element.data("clickedOn",!o.$element.data("clickedOn")),o.timer[o.$element.data("clickedOn")?"pause":"start"]()}),this.options.pauseOnHover&&this.$element.on("mouseenter.zf.orbit",function(){o.timer.pause()}).on("mouseleave.zf.orbit",function(){o.$element.data("clickedOn")||o.timer.start()})),this.options.navButtons)this.$element.find(".".concat(this.options.nextClass,", .").concat(this.options.prevClass)).attr("tabindex",0).on("click.zf.orbit touchend.zf.orbit",function(t){t.preventDefault(),o.changeSlide(y()(this).hasClass(o.options.nextClass))});this.options.bullets&&this.$bullets.on("click.zf.orbit touchend.zf.orbit",function(){if(/is-active/g.test(this.className))return!1;var t=y()(this).data("slide"),e=t>o.$slides.filter(".is-active").data("slide"),n=o.$slides.eq(t);o.changeSlide(e,n,t)}),this.options.accessible&&this.$wrapper.add(this.$bullets).on("keydown.zf.orbit",function(t){b.Keyboard.handleKey(t,"Orbit",{next:function e(){o.changeSlide(!0)},previous:function n(){o.changeSlide(!1)},handled:function i(){y()(t.target).is(o.$bullets)&&o.$bullets.filter(".is-active").focus()}})})}}},{key:"_reset",value:function c(){"undefined"!=typeof this.$slides&&1<this.$slides.length&&(this.$element.off(".zf.orbit").find("*").off(".zf.orbit"),this.options.autoPlay&&this.timer.restart(),this.$slides.each(function(t){y()(t).removeClass("is-active is-active is-in").removeAttr("aria-live").hide()}),this.$slides.first().addClass("is-active").show(),this.$element.trigger("slidechange.zf.orbit",[this.$slides.first()]),this.options.bullets&&this._updateBullets(0))}},{key:"changeSlide",value:function u(t,e,n){if(this.$slides){var i=this.$slides.filter(".is-active").eq(0);if(/mui/g.test(i[0].className))return!1;var o,r=this.$slides.first(),a=this.$slides.last(),s=t?"Right":"Left",l=t?"Left":"Right",c=this;(o=e||(t?this.options.infiniteWrap?i.next(".".concat(this.options.slideClass)).length?i.next(".".concat(this.options.slideClass)):r:i.next(".".concat(this.options.slideClass)):this.options.infiniteWrap?i.prev(".".concat(this.options.slideClass)).length?i.prev(".".concat(this.options.slideClass)):a:i.prev(".".concat(this.options.slideClass)))).length&&(this.$element.trigger("beforeslidechange.zf.orbit",[i,o]),this.options.bullets&&(n=n||this.$slides.index(o),this._updateBullets(n)),this.options.useMUI&&!this.$element.is(":hidden")?(E.Motion.animateIn(o.addClass("is-active"),this.options["animInFrom".concat(s)],function(){o.css({display:"block"}).attr("aria-live","polite")}),E.Motion.animateOut(i.removeClass("is-active"),this.options["animOutTo".concat(l)],function(){i.removeAttr("aria-live"),c.options.autoPlay&&!c.timer.isPaused&&c.timer.restart()})):(i.removeClass("is-active is-in").removeAttr("aria-live").hide(),o.addClass("is-active is-in").attr("aria-live","polite").show(),this.options.autoPlay&&!this.timer.isPaused&&this.timer.restart()),this.$element.trigger("slidechange.zf.orbit",[o]))}}},{key:"_updateBullets",value:function d(t){var e=this.$bullets.filter(".is-active"),n=this.$bullets.not(".is-active"),i=this.$bullets.eq(t);e.removeClass("is-active").blur(),i.addClass("is-active");var o=e.children("[data-slide-active-label]").last();if(!o.length){var r=e.children("span");n.toArray().map(function(t){return y()(t).children("span").length}).every(function(t){return t<r.length})&&(o=r.last()).attr("data-slide-active-label","")}o.length&&(o.detach(),i.append(o))}},{key:"_destroy",value:function h(){this.$element.off(".zf.orbit").find("*").off(".zf.orbit").end().hide()}}]),n}();l.defaults={bullets:!0,navButtons:!0,animInFromRight:"slide-in-right",animOutToRight:"slide-out-right",animInFromLeft:"slide-in-left",animOutToLeft:"slide-out-left",autoPlay:!0,timerDelay:5e3,infiniteWrap:!0,swipe:!0,pauseOnHover:!0,accessible:!0,containerClass:"orbit-container",slideClass:"orbit-slide",boxOfBullets:"orbit-bullets",nextClass:"orbit-next",prevClass:"orbit-previous",useMUI:!0}},"./js/foundation.positionable.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function p(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){var n=e.indexOf(t);return n===e.length-1?e[0]:e[n+1]}n.r(e),n.d(e,"Positionable",function(){return c});var y=n("./js/foundation.util.box.js"),b=n("./js/foundation.core.plugin.js"),E=n("./js/foundation.core.utils.js"),_=["left","right","top","bottom"],s=["top","bottom","center"],l=["left","right","center"],T={left:s,right:s,top:l,bottom:l},c=function(){function t(){return h(this,t),p(this,m(t).apply(this,arguments))}return g(t,b["Plugin"]),f(t,[{key:"_init",value:function e(){this.triedPositions={},this.position="auto"===this.options.position?this._getDefaultPosition():this.options.position,this.alignment="auto"===this.options.alignment?this._getDefaultAlignment():this.options.alignment,this.originalPosition=this.position,this.originalAlignment=this.alignment}},{key:"_getDefaultPosition",value:function n(){return"bottom"}},{key:"_getDefaultAlignment",value:function i(){switch(this.position){case"bottom":case"top":return Object(E.rtl)()?"right":"left";case"left":case"right":return"bottom"}}},{key:"_reposition",value:function o(){this._alignmentsExhausted(this.position)?(this.position=v(this.position,_),this.alignment=T[this.position][0]):this._realign()}},{key:"_realign",value:function r(){this._addTriedPosition(this.position,this.alignment),this.alignment=v(this.alignment,T[this.position])}},{key:"_addTriedPosition",value:function a(t,e){this.triedPositions[t]=this.triedPositions[t]||[],this.triedPositions[t].push(e)}},{key:"_positionsExhausted",value:function s(){for(var t=!0,e=0;e<_.length;e++)t=t&&this._alignmentsExhausted(_[e]);return t}},{key:"_alignmentsExhausted",value:function l(t){return this.triedPositions[t]&&this.triedPositions[t].length==T[t].length}},{key:"_getVOffset",value:function c(){return this.options.vOffset}},{key:"_getHOffset",value:function u(){return this.options.hOffset}},{key:"_setPosition",value:function d(t,e,n){if("false"===t.attr("aria-expanded"))return!1;if(this.options.allowOverlap||(this.position=this.originalPosition,this.alignment=this.originalAlignment),e.offset(y.Box.GetExplicitOffsets(e,t,this.position,this.alignment,this._getVOffset(),this._getHOffset())),!this.options.allowOverlap){for(var i=1e8,o={position:this.position,alignment:this.alignment};!this._positionsExhausted();){var r=y.Box.OverlapArea(e,n,!1,!1,this.options.allowBottomOverlap);if(0===r)return;r<i&&(i=r,o={position:this.position,alignment:this.alignment}),this._reposition(),e.offset(y.Box.GetExplicitOffsets(e,t,this.position,this.alignment,this._getVOffset(),this._getHOffset()))}this.position=o.position,this.alignment=o.alignment,e.offset(y.Box.GetExplicitOffsets(e,t,this.position,this.alignment,this._getVOffset(),this._getHOffset()))}}}]),t}();c.defaults={position:"auto",alignment:"auto",allowOverlap:!1,allowBottomOverlap:!0,vOffset:0,hOffset:0}},"./js/foundation.responsiveAccordionTabs.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?m(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"ResponsiveAccordionTabs",function(){return l});var a=n("jquery"),v=n.n(a),y=n("./js/foundation.util.mediaQuery.js"),b=n("./js/foundation.core.utils.js"),E=n("./js/foundation.core.plugin.js"),s=n("./js/foundation.accordion.js"),_={tabs:{cssClass:"tabs",plugin:n("./js/foundation.tabs.js").Tabs,open:function c(t,e){return t.selectTab(e)},close:null,toggle:null},accordion:{cssClass:"accordion",plugin:s.Accordion,open:function c(t,e){return t.down(v()(e))},close:function u(t,e){return t.up(v()(e))},toggle:function T(t,e){return t.toggle(v()(e))}}},l=function(){function i(t,e){var n;return d(this,i),f(n=f(this,p(i).call(this,t,e)),n.options.reflow&&n.storezfData||m(n))}return g(i,E["Plugin"]),h(i,[{key:"_setup",value:function n(t,e){this.$element=v()(t),this.$element.data("zfPluginBase",this),this.options=v.a.extend({},i.defaults,this.$element.data(),e),this.rules=this.$element.data("responsive-accordion-tabs"),this.currentMq=null,this.currentRule=null,this.currentPlugin=null,this.className="ResponsiveAccordionTabs",this.$element.attr("id")||this.$element.attr("id",Object(b.GetYoDigits)(6,"responsiveaccordiontabs")),this._init(),this._events()}},{key:"_init",value:function a(){if(y.MediaQuery._init(),"string"==typeof this.rules){for(var t={},e=this.rules.split(" "),n=0;n<e.length;n++){var i=e[n].split("-"),o=1<i.length?i[0]:"small",r=1<i.length?i[1]:i[0];null!==_[r]&&(t[o]=_[r])}this.rules=t}this._getAllOptions(),v.a.isEmptyObject(this.rules)||this._checkMediaQueries()}},{key:"_getAllOptions",value:function l(){var t=this;for(var e in t.allOptions={},_)if(_.hasOwnProperty(e)){var n=_[e];try{var i=v()("<ul></ul>"),o=new n.plugin(i,t.options);for(var r in o.options)if(o.options.hasOwnProperty(r)&&"zfPlugin"!==r){var a=o.options[r];t.allOptions[r]=a}o.destroy()}catch(s){}}}},{key:"_events",value:function t(){this._changedZfMediaQueryHandler=this._checkMediaQueries.bind(this),v()(window).on("changed.zf.mediaquery",this._changedZfMediaQueryHandler)}},{key:"_checkMediaQueries",value:function o(){var e,n=this;v.a.each(this.rules,function(t){y.MediaQuery.atLeast(t)&&(e=t)}),e&&(this.currentPlugin instanceof this.rules[e].plugin||(v.a.each(_,function(t,e){n.$element.removeClass(e.cssClass)}),this.$element.addClass(this.rules[e].cssClass),this.currentPlugin&&(!this.currentPlugin.$element.data("zfPlugin")&&this.storezfData&&this.currentPlugin.$element.data("zfPlugin",this.storezfData),this.currentPlugin.destroy()),this._handleMarkup(this.rules[e].cssClass),this.currentRule=this.rules[e],this.currentPlugin=new this.currentRule.plugin(this.$element,this.options),this.storezfData=this.currentPlugin.$element.data("zfPlugin")))}},{key:"_handleMarkup",value:function u(t){var n=this,e="accordion",i=v()("[data-tabs-content="+this.$element.attr("id")+"]");if(i.length&&(e="tabs"),e!==t){var o=n.allOptions.linkClass?n.allOptions.linkClass:"tabs-title",r=n.allOptions.panelClass?n.allOptions.panelClass:"tabs-panel";this.$element.removeAttr("role");var a=this.$element.children("."+o+",[data-accordion-item]").removeClass(o).removeClass("accordion-item").removeAttr("data-accordion-item"),s=a.children("a").removeClass("accordion-title");if("tabs"===e?(i=i.children("."+r).removeClass(r).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby")).children("a").removeAttr("role").removeAttr("aria-controls").removeAttr("aria-selected"):i=a.children("[data-tab-content]").removeClass("accordion-content"),i.css({display:"",visibility:""}),a.css({display:"",visibility:""}),"accordion"===t)i.each(function(t,e){v()(e).appendTo(a.get(t)).addClass("accordion-content").attr("data-tab-content","").removeClass("is-active").css({height:""}),v()("[data-tabs-content="+n.$element.attr("id")+"]").after('<div id="tabs-placeholder-'+n.$element.attr("id")+'"></div>').detach(),a.addClass("accordion-item").attr("data-accordion-item",""),s.addClass("accordion-title")});else if("tabs"===t){var l=v()("[data-tabs-content="+n.$element.attr("id")+"]"),c=v()("#tabs-placeholder-"+n.$element.attr("id"));c.length?(l=v()('<div class="tabs-content"></div>').insertAfter(c).attr("data-tabs-content",n.$element.attr("id")),c.remove()):l=v()('<div class="tabs-content"></div>').insertAfter(n.$element).attr("data-tabs-content",n.$element.attr("id")),i.each(function(t,e){var n=v()(e).appendTo(l).addClass(r),i=s.get(t).hash.slice(1),o=v()(e).attr("id")||Object(b.GetYoDigits)(6,"accordion");i!==o&&(""!==i?v()(e).attr("id",i):(i=o,v()(e).attr("id",i),v()(s.get(t)).attr("href",v()(s.get(t)).attr("href").replace("#","")+"#"+i))),v()(a.get(t)).hasClass("is-active")&&n.addClass("is-active")}),a.addClass(o)}}}},{key:"open",value:function r(t){var e;if(this.currentRule&&"function"==typeof this.currentRule.open)return(e=this.currentRule).open.apply(e,[this.currentPlugin].concat(Array.prototype.slice.call(arguments)))}},{key:"close",value:function s(t){var e;if(this.currentRule&&"function"==typeof this.currentRule.close)return(e=this.currentRule).close.apply(e,[this.currentPlugin].concat(Array.prototype.slice.call(arguments)))}},{key:"toggle",value:function c(t){var e;if(this.currentRule&&"function"==typeof this.currentRule.toggle)return(e=this.currentRule).toggle.apply(e,[this.currentPlugin].concat(Array.prototype.slice.call(arguments)))}},{key:"_destroy",value:function e(){this.currentPlugin&&this.currentPlugin.destroy(),v()(window).off("changed.zf.mediaquery",this._changedZfMediaQueryHandler)}}]),i}();l.defaults={}},"./js/foundation.responsiveMenu.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"ResponsiveMenu",function(){return _});var h=n("jquery"),f=n.n(h),p=n("./js/foundation.util.mediaQuery.js"),m=n("./js/foundation.core.utils.js"),g=n("./js/foundation.core.plugin.js"),v=n("./js/foundation.dropdownMenu.js"),y=n("./js/foundation.drilldown.js"),b=n("./js/foundation.accordionMenu.js"),E={dropdown:{cssClass:"dropdown",plugin:v.DropdownMenu},drilldown:{cssClass:"drilldown",plugin:y.Drilldown},accordion:{cssClass:"accordion-menu",plugin:b.AccordionMenu}},_=function(){function t(){return r(this,t),l(this,c(t).apply(this,arguments))}return u(t,g["Plugin"]),s(t,[{key:"_setup",value:function e(t){this.$element=f()(t),this.rules=this.$element.data("responsive-menu"),this.currentMq=null,this.currentPlugin=null,this.className="ResponsiveMenu",this._init(),this._events()}},{key:"_init",value:function a(){if(p.MediaQuery._init(),"string"==typeof this.rules){for(var t={},e=this.rules.split(" "),n=0;n<e.length;n++){var i=e[n].split("-"),o=1<i.length?i[0]:"small",r=1<i.length?i[1]:i[0];null!==E[r]&&(t[o]=E[r])}this.rules=t
}f.a.isEmptyObject(this.rules)||this._checkMediaQueries(),this.$element.attr("data-mutate",this.$element.attr("data-mutate")||Object(m.GetYoDigits)(6,"responsive-menu"))}},{key:"_events",value:function n(){var t=this;f()(window).on("changed.zf.mediaquery",function(){t._checkMediaQueries()})}},{key:"_checkMediaQueries",value:function i(){var e,n=this;f.a.each(this.rules,function(t){p.MediaQuery.atLeast(t)&&(e=t)}),e&&(this.currentPlugin instanceof this.rules[e].plugin||(f.a.each(E,function(t,e){n.$element.removeClass(e.cssClass)}),this.$element.addClass(this.rules[e].cssClass),this.currentPlugin&&this.currentPlugin.destroy(),this.currentPlugin=new this.rules[e].plugin(this.$element,{})))}},{key:"_destroy",value:function o(){this.currentPlugin.destroy(),f()(window).off(".zf.ResponsiveMenu")}}]),t}();_.defaults={}},"./js/foundation.responsiveToggle.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"ResponsiveToggle",function(){return v});var h=n("jquery"),f=n.n(h),p=n("./js/foundation.util.mediaQuery.js"),m=n("./js/foundation.util.motion.js"),g=n("./js/foundation.core.plugin.js"),v=function(){function n(){return s(this,n),c(this,u(n).apply(this,arguments))}return d(n,g["Plugin"]),l(n,[{key:"_setup",value:function i(t,e){this.$element=f()(t),this.options=f.a.extend({},n.defaults,this.$element.data(),e),this.className="ResponsiveToggle",this._init(),this._events()}},{key:"_init",value:function o(){p.MediaQuery._init();var e=this.$element.data("responsive-toggle");if(e||console.error("Your tab bar needs an ID of a Menu as the value of data-tab-bar."),this.$targetMenu=f()("#".concat(e)),this.$toggler=this.$element.find("[data-toggle]").filter(function(){var t=f()(this).data("toggle");return t===e||""===t}),this.options=f.a.extend({},this.options,this.$targetMenu.data()),this.options.animate){var t=this.options.animate.split(" ");this.animationIn=t[0],this.animationOut=t[1]||null}this._update()}},{key:"_events",value:function t(){this._updateMqHandler=this._update.bind(this),f()(window).on("changed.zf.mediaquery",this._updateMqHandler),this.$toggler.on("click.zf.responsiveToggle",this.toggleMenu.bind(this))}},{key:"_update",value:function e(){p.MediaQuery.atLeast(this.options.hideFor)?(this.$element.hide(),this.$targetMenu.show()):(this.$element.show(),this.$targetMenu.hide())}},{key:"toggleMenu",value:function r(){var t=this;p.MediaQuery.atLeast(this.options.hideFor)||(this.options.animate?this.$targetMenu.is(":hidden")?m.Motion.animateIn(this.$targetMenu,this.animationIn,function(){t.$element.trigger("toggled.zf.responsiveToggle"),t.$targetMenu.find("[data-mutate]").triggerHandler("mutateme.zf.trigger")}):m.Motion.animateOut(this.$targetMenu,this.animationOut,function(){t.$element.trigger("toggled.zf.responsiveToggle")}):(this.$targetMenu.toggle(0),this.$targetMenu.find("[data-mutate]").trigger("mutateme.zf.trigger"),this.$element.trigger("toggled.zf.responsiveToggle")))}},{key:"_destroy",value:function a(){this.$element.off(".zf.responsiveToggle"),this.$toggler.off(".zf.responsiveToggle"),f()(window).off("changed.zf.mediaquery",this._updateMqHandler)}}]),n}();v.defaults={hideFor:"medium",animate:!1}},"./js/foundation.reveal.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function y(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Reveal",function(){return l});var s=n("jquery"),_=n.n(s),T=n("./js/foundation.core.plugin.js"),C=n("./js/foundation.core.utils.js"),D=n("./js/foundation.util.keyboard.js"),O=n("./js/foundation.util.mediaQuery.js"),I=n("./js/foundation.util.motion.js"),k=n("./js/foundation.util.triggers.js"),w=n("./js/foundation.util.touch.js"),l=function(){function n(){return g(this,n),y(this,b(n).apply(this,arguments))}return E(n,T["Plugin"]),v(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=_.a.extend({},n.defaults,this.$element.data(),e),this.className="Reveal",this._init(),w.Touch.init(_.a),k.Triggers.init(_.a),D.Keyboard.register("Reveal",{ESCAPE:"close"})}},{key:"_init",value:function e(){var t=this;O.MediaQuery._init(),this.id=this.$element.attr("id"),this.isActive=!1,this.cached={mq:O.MediaQuery.current},this.$anchor=_()('[data-open="'.concat(this.id,'"]')).length?_()('[data-open="'.concat(this.id,'"]')):_()('[data-toggle="'.concat(this.id,'"]')),this.$anchor.attr({"aria-controls":this.id,"aria-haspopup":!0,tabindex:0}),(this.options.fullScreen||this.$element.hasClass("full"))&&(this.options.fullScreen=!0,this.options.overlay=!1),this.options.overlay&&!this.$overlay&&(this.$overlay=this._makeOverlay(this.id)),this.$element.attr({role:"dialog","aria-hidden":!0,"data-yeti-box":this.id,"data-resize":this.id}),this.$overlay?this.$element.detach().appendTo(this.$overlay):(this.$element.detach().appendTo(_()(this.options.appendTo)),this.$element.addClass("without-overlay")),this._events(),this.options.deepLink&&window.location.hash==="#".concat(this.id)&&(this.onLoadListener=Object(C.onLoad)(_()(window),function(){return t.open()}))}},{key:"_makeOverlay",value:function o(){var t="";return this.options.additionalOverlayClasses&&(t=" "+this.options.additionalOverlayClasses),_()("<div></div>").addClass("reveal-overlay"+t).appendTo(this.options.appendTo)}},{key:"_updatePosition",value:function a(){var t,e=this.$element.outerWidth(),n=_()(window).width(),i=this.$element.outerHeight(),o=_()(window).height(),r=null;t="auto"===this.options.hOffset?parseInt((n-e)/2,10):parseInt(this.options.hOffset,10),"auto"===this.options.vOffset?r=o<i?parseInt(Math.min(100,o/10),10):parseInt((o-i)/4,10):null!==this.options.vOffset&&(r=parseInt(this.options.vOffset,10)),null!==r&&this.$element.css({top:r+"px"}),this.$overlay&&"auto"===this.options.hOffset||(this.$element.css({left:t+"px"}),this.$element.css({margin:"0px"}))}},{key:"_events",value:function r(){var n=this,i=this;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":function o(t,e){if(t.target===i.$element[0]||_()(t.target).parents("[data-closable]")[0]===e)return n.close.apply(n)},"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":function t(){i._updatePosition()}}),this.options.closeOnClick&&this.options.overlay&&this.$overlay.off(".zf.reveal").on("click.zf.dropdown tap.zf.dropdown",function(t){t.target!==i.$element[0]&&!_.a.contains(i.$element[0],t.target)&&_.a.contains(document,t.target)&&i.close()}),this.options.deepLink&&_()(window).on("hashchange.zf.reveal:".concat(this.id),this._handleState.bind(this))}},{key:"_handleState",value:function t(){window.location.hash!=="#"+this.id||this.isActive?this.close():this.open()}},{key:"_disableScroll",value:function s(t){t=t||_()(window).scrollTop(),_()(document).height()>_()(window).height()&&_()("html").css("top",-t)}},{key:"_enableScroll",value:function l(t){t=t||parseInt(_()("html").css("top")),_()(document).height()>_()(window).height()&&(_()("html").css("top",""),_()(window).scrollTop(-t))}},{key:"open",value:function c(){var t=this,e="#".concat(this.id);this.options.deepLink&&window.location.hash!==e&&(window.history.pushState?this.options.updateHistory?window.history.pushState({},"",e):window.history.replaceState({},"",e):window.location.hash=e),this.$activeAnchor=_()(document.activeElement).is(this.$anchor)?_()(document.activeElement):this.$anchor,this.isActive=!0,this.$element.css({visibility:"hidden"}).show().scrollTop(0),this.options.overlay&&this.$overlay.css({visibility:"hidden"}).show(),this._updatePosition(),this.$element.hide().css({visibility:""}),this.$overlay&&(this.$overlay.css({visibility:""}).hide(),this.$element.hasClass("fast")?this.$overlay.addClass("fast"):this.$element.hasClass("slow")&&this.$overlay.addClass("slow")),this.options.multipleOpened||this.$element.trigger("closeme.zf.reveal",this.id),0===_()(".reveal:visible").length&&this._disableScroll();var n=this;if(this.options.animationIn){var i=function i(){n.$element.attr({"aria-hidden":!1,tabindex:-1}).focus(),n._addGlobalClasses(),D.Keyboard.trapFocus(n.$element)};this.options.overlay&&I.Motion.animateIn(this.$overlay,"fade-in"),I.Motion.animateIn(this.$element,this.options.animationIn,function(){t.$element&&(t.focusableElements=D.Keyboard.findFocusable(t.$element),i())})}else this.options.overlay&&this.$overlay.show(0),this.$element.show(this.options.showDelay);this.$element.attr({"aria-hidden":!1,tabindex:-1}).focus(),D.Keyboard.trapFocus(this.$element),this._addGlobalClasses(),this._addGlobalListeners(),this.$element.trigger("open.zf.reveal")}},{key:"_addGlobalClasses",value:function u(){var t=function t(){_()("html").toggleClass("zf-has-scroll",!!(_()(document).height()>_()(window).height()))};this.$element.on("resizeme.zf.trigger.revealScrollbarListener",function(){return t()}),t(),_()("html").addClass("is-reveal-open")}},{key:"_removeGlobalClasses",value:function d(){this.$element.off("resizeme.zf.trigger.revealScrollbarListener"),_()("html").removeClass("is-reveal-open"),_()("html").removeClass("zf-has-scroll")}},{key:"_addGlobalListeners",value:function h(){var n=this;this.$element&&(this.focusableElements=D.Keyboard.findFocusable(this.$element),this.options.overlay||!this.options.closeOnClick||this.options.fullScreen||_()("body").on("click.zf.dropdown tap.zf.dropdown",function(t){t.target!==n.$element[0]&&!_.a.contains(n.$element[0],t.target)&&_.a.contains(document,t.target)&&n.close()}),this.options.closeOnEsc&&_()(window).on("keydown.zf.reveal",function(t){D.Keyboard.handleKey(t,"Reveal",{close:function e(){n.options.closeOnEsc&&n.close()}})}))}},{key:"close",value:function f(){function t(){var t=parseInt(_()("html").css("top"));0===_()(".reveal:visible").length&&e._removeGlobalClasses(),D.Keyboard.releaseFocus(e.$element),e.$element.attr("aria-hidden",!0),0===_()(".reveal:visible").length&&e._enableScroll(t),e.$element.trigger("closed.zf.reveal")}if(!this.isActive||!this.$element.is(":visible"))return!1;var e=this;if(this.options.animationOut?(this.options.overlay&&I.Motion.animateOut(this.$overlay,"fade-out"),I.Motion.animateOut(this.$element,this.options.animationOut,t)):(this.$element.hide(this.options.hideDelay),this.options.overlay?this.$overlay.hide(0,t):t()),this.options.closeOnEsc&&_()(window).off("keydown.zf.reveal"),!this.options.overlay&&this.options.closeOnClick&&_()("body").off("click.zf.dropdown tap.zf.dropdown"),this.$element.off("keydown.zf.reveal"),this.options.resetOnClose&&this.$element.html(this.$element.html()),this.isActive=!1,e.options.deepLink&&window.location.hash==="#".concat(this.id))if(window.history.replaceState){var n=window.location.pathname+window.location.search;this.options.updateHistory?window.history.pushState({},"",n):window.history.replaceState("",document.title,n)}else window.location.hash="";this.$activeAnchor.focus()}},{key:"toggle",value:function p(){this.isActive?this.close():this.open()}},{key:"_destroy",value:function m(){this.options.overlay&&(this.$element.appendTo(_()(this.options.appendTo)),this.$overlay.hide().off().remove()),this.$element.hide().off(),this.$anchor.off(".zf"),_()(window).off(".zf.reveal:".concat(this.id)),this.onLoadListener&&_()(window).off(this.onLoadListener),0===_()(".reveal:visible").length&&this._removeGlobalClasses()}}]),n}();l.defaults={animationIn:"",animationOut:"",showDelay:0,hideDelay:0,closeOnClick:!0,closeOnEsc:!0,multipleOpened:!1,vOffset:"auto",hOffset:"auto",fullScreen:!1,overlay:!0,resetOnClose:!1,deepLink:!1,updateHistory:!1,appendTo:"body",additionalOverlayClasses:""}},"./js/foundation.slider.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function y(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){return t/e}function C(t,e,n,i){return Math.abs(t.position()[e]+t[i]()/2-n)}function D(t,e){return Math.log(e)/Math.log(t)}n.r(e),n.d(e,"Slider",function(){return l});var s=n("jquery"),O=n.n(s),I=n("./js/foundation.util.keyboard.js"),k=n("./js/foundation.util.motion.js"),w=n("./js/foundation.core.utils.js"),R=n("./js/foundation.core.plugin.js"),x=n("./js/foundation.util.touch.js"),S=n("./js/foundation.util.triggers.js"),l=function(){function n(){return g(this,n),y(this,b(n).apply(this,arguments))}return _(n,R["Plugin"]),v(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=O.a.extend({},n.defaults,this.$element.data(),e),this.className="Slider",x.Touch.init(O.a),S.Triggers.init(O.a),this._init(),I.Keyboard.register("Slider",{ltr:{ARROW_RIGHT:"increase",ARROW_UP:"increase",ARROW_DOWN:"decrease",ARROW_LEFT:"decrease",SHIFT_ARROW_RIGHT:"increase_fast",SHIFT_ARROW_UP:"increase_fast",SHIFT_ARROW_DOWN:"decrease_fast",SHIFT_ARROW_LEFT:"decrease_fast",HOME:"min",END:"max"},rtl:{ARROW_LEFT:"increase",ARROW_RIGHT:"decrease",SHIFT_ARROW_LEFT:"increase_fast",SHIFT_ARROW_RIGHT:"decrease_fast"}})}},{key:"_init",value:function t(){this.inputs=this.$element.find("input"),this.handles=this.$element.find("[data-slider-handle]"),this.$handle=this.handles.eq(0),this.$input=this.inputs.length?this.inputs.eq(0):O()("#".concat(this.$handle.attr("aria-controls"))),this.$fill=this.$element.find("[data-slider-fill]").css(this.options.vertical?"height":"width",0);(this.options.disabled||this.$element.hasClass(this.options.disabledClass))&&(this.options.disabled=!0,this.$element.addClass(this.options.disabledClass)),this.inputs.length||(this.inputs=O()().add(this.$input),this.options.binding=!0),this._setInitAttr(0),this.handles[1]&&(this.options.doubleSided=!0,this.$handle2=this.handles.eq(1),this.$input2=1<this.inputs.length?this.inputs.eq(1):O()("#".concat(this.$handle2.attr("aria-controls"))),this.inputs[1]||(this.inputs=this.inputs.add(this.$input2)),!0,this._setInitAttr(1)),this.setHandles(),this._events()}},{key:"setHandles",value:function e(){var t=this;this.handles[1]?this._setHandlePos(this.$handle,this.inputs.eq(0).val(),function(){t._setHandlePos(t.$handle2,t.inputs.eq(1).val())}):this._setHandlePos(this.$handle,this.inputs.eq(0).val())}},{key:"_reflow",value:function o(){this.setHandles()}},{key:"_pctOfBar",value:function r(t){var e=T(t-this.options.start,this.options.end-this.options.start);switch(this.options.positionValueFunction){case"pow":e=this._logTransform(e);break;case"log":e=this._powTransform(e)}return e.toFixed(2)}},{key:"_value",value:function a(t){switch(this.options.positionValueFunction){case"pow":t=this._powTransform(t);break;case"log":t=this._logTransform(t)}return this.options.vertical?parseFloat(this.options.end)+t*(this.options.start-this.options.end):(this.options.end-this.options.start)*t+parseFloat(this.options.start)}},{key:"_logTransform",value:function s(t){return D(this.options.nonLinearBase,t*(this.options.nonLinearBase-1)+1)}},{key:"_powTransform",value:function l(t){return(Math.pow(this.options.nonLinearBase,t)-1)/(this.options.nonLinearBase-1)}},{key:"_setHandlePos",value:function E(t,e,n){if(!this.$element.hasClass(this.options.disabledClass)){(e=parseFloat(e))<this.options.start?e=this.options.start:e>this.options.end&&(e=this.options.end);var i=this.options.doubleSided;if(i)if(0===this.handles.index(t)){var o=parseFloat(this.$handle2.attr("aria-valuenow"));e=o<=e?o-this.options.step:e}else{var r=parseFloat(this.$handle.attr("aria-valuenow"));e=e<=r?r+this.options.step:e}var a=this,s=this.options.vertical,l=s?"height":"width",c=s?"top":"left",u=t[0].getBoundingClientRect()[l],d=this.$element[0].getBoundingClientRect()[l],h=this._pctOfBar(e),f=(100*T((d-u)*h,d)).toFixed(this.options.decimal);e=parseFloat(e.toFixed(this.options.decimal));var p={};if(this._setValues(t,e),i){var m,g=0===this.handles.index(t),v=~~(100*T(u,d));if(g)p[c]="".concat(f,"%"),m=parseFloat(this.$handle2[0].style[c])-f+v,n&&"function"==typeof n&&n();else{var y=parseFloat(this.$handle[0].style[c]);m=f-(isNaN(y)?(this.options.initialStart-this.options.start)/((this.options.end-this.options.start)/100):y)+v}p["min-".concat(l)]="".concat(m,"%")}this.$element.one("finished.zf.animate",function(){a.$element.trigger("moved.zf.slider",[t])});var b=this.$element.data("dragging")?1e3/60:this.options.moveTime;Object(k.Move)(b,t,function(){isNaN(f)?t.css(c,"".concat(100*h,"%")):t.css(c,"".concat(f,"%")),a.options.doubleSided?a.$fill.css(p):a.$fill.css(l,"".concat(100*h,"%"))}),clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.$element.trigger("changed.zf.slider",[t])},a.options.changedDelay)}}},{key:"_setInitAttr",value:function c(t){var e=0===t?this.options.initialStart:this.options.initialEnd,n=this.inputs.eq(t).attr("id")||Object(w.GetYoDigits)(6,"slider");this.inputs.eq(t).attr({id:n,max:this.options.end,min:this.options.start,step:this.options.step}),this.inputs.eq(t).val(e),this.handles.eq(t).attr({role:"slider","aria-controls":n,"aria-valuemax":this.options.end,"aria-valuemin":this.options.start,"aria-valuenow":e,"aria-orientation":this.options.vertical?"vertical":"horizontal",tabindex:0})}},{key:"_setValues",value:function u(t,e){var n=this.options.doubleSided?this.handles.index(t):0;this.inputs.eq(n).val(e),t.attr("aria-valuenow",e)}},{key:"_handleEvent",value:function m(t,e,n){var i;if(n)i=this._adjustValue(null,n),!0;else{t.preventDefault();var o=this,r=this.options.vertical,a=r?"height":"width",s=r?"top":"left",l=r?t.pageY:t.pageX,c=(this.$handle[0].getBoundingClientRect()[a],this.$element[0].getBoundingClientRect()[a]),u=r?O()(window).scrollTop():O()(window).scrollLeft(),d=this.$element.offset()[s];t.clientY===t.pageY&&(l+=u);var h,f=l-d,p=T(h=f<0?0:c<f?c:f,c);if(i=this._value(p),Object(w.rtl)()&&!this.options.vertical&&(i=this.options.end-i),i=o._adjustValue(null,i),!1,!e)e=C(this.$handle,s,h,a)<=C(this.$handle2,s,h,a)?this.$handle:this.$handle2}this._setHandlePos(e,i)}},{key:"_adjustValue",value:function d(t,e){var n,i,o,r=this.options.step,a=parseFloat(r/2);return 0===(i=0<=(n=t?parseFloat(t.attr("aria-valuenow")):e)?n%r:r+n%r)?n:n=(o=n-i)+a<=n?o+r:o}},{key:"_events",value:function h(){this._eventsForHandle(this.$handle),this.handles[1]&&this._eventsForHandle(this.$handle2)}},{key:"_eventsForHandle",value:function f(e){var n,h=this,i=function i(t){var e=h.inputs.index(O()(this));h._handleEvent(t,h.handles.eq(e),O()(this).val())};if(this.inputs.off("keyup.zf.slider").on("keyup.zf.slider",function(t){13==t.keyCode&&i.call(this,t)}),this.inputs.off("change.zf.slider").on("change.zf.slider",i),this.options.clickSelect&&this.$element.off("click.zf.slider").on("click.zf.slider",function(t){if(h.$element.data("dragging"))return!1;O()(t.target).is("[data-slider-handle]")||(h.options.doubleSided?h._handleEvent(t):h._handleEvent(t,h.$handle))}),this.options.draggable){this.handles.addTouch();var o=O()("body");e.off("mousedown.zf.slider").on("mousedown.zf.slider",function(t){e.addClass("is-dragging"),h.$fill.addClass("is-dragging"),h.$element.data("dragging",!0),n=O()(t.currentTarget),o.on("mousemove.zf.slider",function(t){t.preventDefault(),h._handleEvent(t,n)}).on("mouseup.zf.slider",function(t){h._handleEvent(t,n),e.removeClass("is-dragging"),h.$fill.removeClass("is-dragging"),h.$element.data("dragging",!1),o.off("mousemove.zf.slider mouseup.zf.slider")})}).on("selectstart.zf.slider touchmove.zf.slider",function(t){t.preventDefault()})}e.off("keydown.zf.slider").on("keydown.zf.slider",function(t){var e,n=O()(this),i=h.options.doubleSided?h.handles.index(n):0,o=parseFloat(h.inputs.eq(i).val());I.Keyboard.handleKey(t,"Slider",{decrease:function r(){e=o-h.options.step},increase:function a(){e=o+h.options.step},decrease_fast:function s(){e=o-10*h.options.step},increase_fast:function l(){e=o+10*h.options.step},min:function c(){e=h.options.start},max:function u(){e=h.options.end},handled:function d(){t.preventDefault(),h._setHandlePos(n,e)}})})}},{key:"_destroy",value:function p(){this.handles.off(".zf.slider"),this.inputs.off(".zf.slider"),this.$element.off(".zf.slider"),clearTimeout(this.timeout)}}]),n}();l.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:!1,clickSelect:!0,vertical:!1,draggable:!0,disabled:!1,doubleSided:!1,decimal:2,moveTime:200,disabledClass:"disabled",invertVertical:!1,changedDelay:500,nonLinearBase:5,positionValueFunction:"linear"}},"./js/foundation.smoothScroll.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"SmoothScroll",function(){return g});var h=n("jquery"),f=n.n(h),p=n("./js/foundation.core.utils.js"),m=n("./js/foundation.core.plugin.js"),g=function(){function s(){return r(this,s),c(this,u(s).apply(this,arguments))}return d(s,m["Plugin"]),a(s,[{key:"_setup",value:function n(t,e){this.$element=t,this.options=f.a.extend({},s.defaults,this.$element.data(),e),this.className="SmoothScroll",this._init()}},{key:"_init",value:function e(){var t=this.$element[0].id||Object(p.GetYoDigits)(6,"smooth-scroll");this.$element.attr({id:t}),this._events()}},{key:"_events",value:function t(){this._linkClickListener=this._handleLinkClick.bind(this),this.$element.on("click.zf.smoothScroll",this._linkClickListener),this.$element.on("click.zf.smoothScroll",'a[href^="#"]',this._linkClickListener)}},{key:"_handleLinkClick",value:function i(t){var e=this;if(f()(t.currentTarget).is('a[href^="#"]')){var n=t.currentTarget.getAttribute("href");this._inTransition=!0,s.scrollToLoc(n,this.options,function(){e._inTransition=!1}),t.preventDefault()}}},{key:"_destroy",value:function o(){this.$element.off("click.zf.smoothScroll",this._linkClickListener),this.$element.off("click.zf.smoothScroll",'a[href^="#"]',this._linkClickListener)}}],[{key:"scrollToLoc",value:function l(t,e,n){var i=1<arguments.length&&e!==undefined?arguments[1]:s.defaults,o=2<arguments.length?n:undefined,r=f()(t);if(!r.length)return!1;var a=Math.round(r.offset().top-i.threshold/2-i.offset);f()("html, body").stop(!0).animate({scrollTop:a},i.animationDuration,i.animationEasing,function(){"function"==typeof o&&o()})}}]),s}();g.defaults={animationDuration:500,animationEasing:"linear",threshold:50,offset:0}},"./js/foundation.sticky.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function m(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}function y(t){return parseInt(window.getComputedStyle(document.body,null).fontSize,10)*t}n.r(e),n.d(e,"Sticky",function(){return l});var s=n("jquery"),b=n.n(s),E=n("./js/foundation.core.plugin.js"),_=n("./js/foundation.core.utils.js"),T=n("./js/foundation.util.mediaQuery.js"),C=n("./js/foundation.util.triggers.js"),l=function(){function n(){return f(this,n),m(this,g(n).apply(this,arguments))}return v(n,E["Plugin"]),p(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=b.a.extend({},n.defaults,this.$element.data(),e),this.className="Sticky",C.Triggers.init(b.a),this._init()}},{key:"_init",value:function o(){T.MediaQuery._init();var t=this.$element.parent("[data-sticky-container]"),e=this.$element[0].id||Object(_.GetYoDigits)(6,"sticky"),n=this;t.length?this.$container=t:(this.wasWrapped=!0,this.$element.wrap(this.options.container),this.$container=this.$element.parent()),this.$container.addClass(this.options.containerClass),this.$element.addClass(this.options.stickyClass).attr({"data-resize":e,"data-mutate":e}),""!==this.options.anchor&&b()("#"+n.options.anchor).attr({"data-mutate":e}),this.scrollCount=this.options.checkEvery,this.isStuck=!1,this.onLoadListener=Object(_.onLoad)(b()(window),function(){n.containerHeight="none"==n.$element.css("display")?0:n.$element[0].getBoundingClientRect().height,n.$container.css("height",n.containerHeight),n.elemHeight=n.containerHeight,""!==n.options.anchor?n.$anchor=b()("#"+n.options.anchor):n._parsePoints(),n._setSizes(function(){var t=window.pageYOffset;n._calc(!1,t),n.isStuck||n._removeSticky(!(t>=n.topPoint))}),n._events(e.split("-").reverse().join("-"))})}},{key:"_parsePoints",value:function s(){for(var t=[""==this.options.topAnchor?1:this.options.topAnchor,""==this.options.btmAnchor?document.documentElement.scrollHeight:this.options.btmAnchor],e={},n=0,i=t.length;n<i&&t[n];n++){var o;if("number"==typeof t[n])o=t[n];else{var r=t[n].split(":"),a=b()("#".concat(r[0]));o=a.offset().top,r[1]&&"bottom"===r[1].toLowerCase()&&(o+=a[0].getBoundingClientRect().height)}e[n]=o}this.points=e}},{key:"_events",value:function r(t){var e=this,n=this.scrollListener="scroll.zf.".concat(t);this.isOn||(this.canStick&&(this.isOn=!0,b()(window).off(n).on(n,function(){0===e.scrollCount?(e.scrollCount=e.options.checkEvery,e._setSizes(function(){e._calc(!1,window.pageYOffset)})):(e.scrollCount--,e._calc(!1,window.pageYOffset))})),this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",function(){e._eventsHandler(t)}),this.$element.on("mutateme.zf.trigger",function(){e._eventsHandler(t)}),this.$anchor&&this.$anchor.on("mutateme.zf.trigger",function(){e._eventsHandler(t)}))}},{key:"_eventsHandler",value:function a(t){var e=this,n=this.scrollListener="scroll.zf.".concat(t);e._setSizes(function(){e._calc(!1),e.canStick?e.isOn||e._events(t):e.isOn&&e._pauseListeners(n)})}},{key:"_pauseListeners",value:function e(t){this.isOn=!1,b()(window).off(t),this.$element.trigger("pause.zf.sticky")}},{key:"_calc",value:function l(t,e){if(t&&this._setSizes(),!this.canStick)return this.isStuck&&this._removeSticky(!0),!1;e||(e=window.pageYOffset),e>=this.topPoint?e<=this.bottomPoint?this.isStuck||this._setSticky():this.isStuck&&this._removeSticky(!1):this.isStuck&&this._removeSticky(!0)}},{key:"_setSticky",value:function c(){var t=this,e=this.options.stickTo,n="top"===e?"marginTop":"marginBottom",i="top"===e?"bottom":"top",o={};o[n]="".concat(this.options[n],"em"),o[e]=0,o[i]="auto",this.isStuck=!0,this.$element.removeClass("is-anchored is-at-".concat(i)).addClass("is-stuck is-at-".concat(e)).css(o).trigger("sticky.zf.stuckto:".concat(e)),this.$element.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){t._setSizes()})}},{key:"_removeSticky",value:function u(t){var e=this.options.stickTo,n="top"===e,i={},o=(this.points?this.points[1]-this.points[0]:this.anchorHeight)-this.elemHeight,r=t?"top":"bottom";i[n?"marginTop":"marginBottom"]=0,i.bottom="auto",i.top=t?0:o,this.isStuck=!1,this.$element.removeClass("is-stuck is-at-".concat(e)).addClass("is-anchored is-at-".concat(r)).css(i).trigger("sticky.zf.unstuckfrom:".concat(r))}},{key:"_setSizes",value:function d(t){this.canStick=T.MediaQuery.is(this.options.stickyOn),this.canStick||t&&"function"==typeof t&&t();var e=this.$container[0].getBoundingClientRect().width,n=window.getComputedStyle(this.$container[0]),i=parseInt(n["padding-left"],10),o=parseInt(n["padding-right"],10);if(this.$anchor&&this.$anchor.length?this.anchorHeight=this.$anchor[0].getBoundingClientRect().height:this._parsePoints(),this.$element.css({"max-width":"".concat(e-i-o,"px")}),this.options.dynamicHeight||!this.containerHeight){var r=this.$element[0].getBoundingClientRect().height||this.containerHeight;r="none"==this.$element.css("display")?0:r,this.$container.css("height",r),this.containerHeight=r}if(this.elemHeight=this.containerHeight,!this.isStuck&&this.$element.hasClass("is-at-bottom")){var a=(this.points?this.points[1]-this.$container.offset().top:this.anchorHeight)-this.elemHeight;this.$element.css("top",a)}this._setBreakPoints(
this.containerHeight,function(){t&&"function"==typeof t&&t()})}},{key:"_setBreakPoints",value:function h(t,e){if(!this.canStick){if(!e||"function"!=typeof e)return!1;e()}var n=y(this.options.marginTop),i=y(this.options.marginBottom),o=this.points?this.points[0]:this.$anchor.offset().top,r=this.points?this.points[1]:o+this.anchorHeight,a=window.innerHeight;"top"===this.options.stickTo?(o-=n,r-=t+n):"bottom"===this.options.stickTo&&(o-=a-(t+i),r-=a-i),this.topPoint=o,this.bottomPoint=r,e&&"function"==typeof e&&e()}},{key:"_destroy",value:function t(){this._removeSticky(!0),this.$element.removeClass("".concat(this.options.stickyClass," is-anchored is-at-top")).css({height:"",top:"",bottom:"","max-width":""}).off("resizeme.zf.trigger").off("mutateme.zf.trigger"),this.$anchor&&this.$anchor.length&&this.$anchor.off("change.zf.sticky"),this.scrollListener&&b()(window).off(this.scrollListener),this.onLoadListener&&b()(window).off(this.onLoadListener),this.wasWrapped?this.$element.unwrap():this.$container.removeClass(this.options.containerClass).css({height:""})}}]),n}();l.defaults={container:"<div data-sticky-container></div>",stickTo:"top",anchor:"",topAnchor:"",btmAnchor:"",marginTop:1,marginBottom:1,stickyOn:"medium",stickyClass:"sticky",containerClass:"sticky-container",dynamicHeight:!0,checkEvery:-1}},"./js/foundation.tabs.js":function(t,e,n){"use strict";function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function g(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?o(t):e}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Tabs",function(){return s});var a=n("jquery"),b=n.n(a),E=n("./js/foundation.core.plugin.js"),_=n("./js/foundation.core.utils.js"),T=n("./js/foundation.util.keyboard.js"),C=n("./js/foundation.util.imageLoader.js"),s=function(){function n(){return p(this,n),g(this,v(n).apply(this,arguments))}return y(n,E["Plugin"]),m(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=b.a.extend({},n.defaults,this.$element.data(),e),this.className="Tabs",this._init(),T.Keyboard.register("Tabs",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"previous",ARROW_DOWN:"next",ARROW_LEFT:"previous"})}},{key:"_init",value:function e(){var r=this,a=this;if(this._isInitializing=!0,this.$element.attr({role:"tablist"}),this.$tabTitles=this.$element.find(".".concat(this.options.linkClass)),this.$tabContent=b()('[data-tabs-content="'.concat(this.$element[0].id,'"]')),this.$tabTitles.each(function(){var t=b()(this),e=t.find("a"),n=t.hasClass("".concat(a.options.linkActiveClass)),i=e.attr("data-tabs-target")||e[0].hash.slice(1),o=e[0].id?e[0].id:"".concat(i,"-label"),r=b()("#".concat(i));t.attr({role:"presentation"}),e.attr({role:"tab","aria-controls":i,"aria-selected":n,id:o,tabindex:n?"0":"-1"}),r.attr({role:"tabpanel","aria-labelledby":o}),n&&(a._initialAnchor="#".concat(i)),n||r.attr("aria-hidden","true"),n&&a.options.autoFocus&&(a.onLoadListener=Object(_.onLoad)(b()(window),function(){b()("html, body").animate({scrollTop:t.offset().top},a.options.deepLinkSmudgeDelay,function(){e.focus()})}))}),this.options.matchHeight){var t=this.$tabContent.find("img");t.length?Object(C.onImagesLoaded)(t,this._setHeight.bind(this)):this._setHeight()}this._checkDeepLink=function(){var t=window.location.hash;if(!t.length){if(r._isInitializing)return;r._initialAnchor&&(t=r._initialAnchor)}var e=0<=t.indexOf("#")?t.slice(1):t,n=e&&b()("#".concat(e)),i=t&&r.$element.find('[href$="'.concat(t,'"],[data-tabs-target="').concat(e,'"]')).first();if(!(!n.length||!i.length)){if(n&&n.length&&i&&i.length?r.selectTab(n,!0):r._collapse(),r.options.deepLinkSmudge){var o=r.$element.offset();b()("html, body").animate({scrollTop:o.top},r.options.deepLinkSmudgeDelay)}r.$element.trigger("deeplink.zf.tabs",[i,n])}},this.options.deepLink&&this._checkDeepLink(),this._events(),this._isInitializing=!1}},{key:"_events",value:function t(){this._addKeyHandler(),this._addClickHandler(),this._setHeightMqHandler=null,this.options.matchHeight&&(this._setHeightMqHandler=this._setHeight.bind(this),b()(window).on("changed.zf.mediaquery",this._setHeightMqHandler)),this.options.deepLink&&b()(window).on("hashchange",this._checkDeepLink)}},{key:"_addClickHandler",value:function o(){var e=this;this.$element.off("click.zf.tabs").on("click.zf.tabs",".".concat(this.options.linkClass),function(t){t.preventDefault(),e._handleTabChange(b()(this))})}},{key:"_addKeyHandler",value:function r(){var c=this;this.$tabTitles.off("keydown.zf.tabs").on("keydown.zf.tabs",function(t){if(9!==t.which){var e,n,i=b()(this),o=i.parent("ul").children("li");o.each(function(t){b()(this).is(i)&&(n=c.options.wrapOnKeys?(e=0===t?o.last():o.eq(t-1),t===o.length-1?o.first():o.eq(t+1)):(e=o.eq(Math.max(0,t-1)),o.eq(Math.min(t+1,o.length-1))))}),T.Keyboard.handleKey(t,"Tabs",{open:function r(){i.find('[role="tab"]').focus(),c._handleTabChange(i)},previous:function a(){e.find('[role="tab"]').focus(),c._handleTabChange(e)},next:function s(){n.find('[role="tab"]').focus(),c._handleTabChange(n)},handled:function l(){t.preventDefault()}})}})}},{key:"_handleTabChange",value:function s(t,e){if(t.hasClass("".concat(this.options.linkActiveClass)))this.options.activeCollapse&&this._collapse();else{var n=this.$element.find(".".concat(this.options.linkClass,".").concat(this.options.linkActiveClass)),i=t.find('[role="tab"]'),o=i.attr("data-tabs-target"),r=o&&o.length?"#".concat(o):i[0].hash,a=this.$tabContent.find(r);this._collapseTab(n),this._openTab(t),this.options.deepLink&&!e&&(this.options.updateHistory?history.pushState({},"",r):history.replaceState({},"",r)),this.$element.trigger("change.zf.tabs",[t,a]),a.find("[data-mutate]").trigger("mutateme.zf.trigger")}}},{key:"_openTab",value:function a(t){var e=t.find('[role="tab"]'),n=e.attr("data-tabs-target")||e[0].hash.slice(1),i=this.$tabContent.find("#".concat(n));t.addClass("".concat(this.options.linkActiveClass)),e.attr({"aria-selected":"true",tabindex:"0"}),i.addClass("".concat(this.options.panelActiveClass)).removeAttr("aria-hidden")}},{key:"_collapseTab",value:function l(t){var e=t.removeClass("".concat(this.options.linkActiveClass)).find('[role="tab"]').attr({"aria-selected":"false",tabindex:-1});b()("#".concat(e.attr("aria-controls"))).removeClass("".concat(this.options.panelActiveClass)).attr({"aria-hidden":"true"})}},{key:"_collapse",value:function c(){var t=this.$element.find(".".concat(this.options.linkClass,".").concat(this.options.linkActiveClass));t.length&&(this._collapseTab(t),this.$element.trigger("collapse.zf.tabs",[t]))}},{key:"selectTab",value:function u(t,e){var n,i;(n="object"===f(t)?t[0].id:t).indexOf("#")<0?i="#".concat(n):n=(i=n).slice(1);var o=this.$tabTitles.has('[href$="'.concat(i,'"],[data-tabs-target="').concat(n,'"]')).first();this._handleTabChange(o,e)}},{key:"_setHeight",value:function d(){var i=0,o=this;this.$tabContent.find(".".concat(this.options.panelClass)).css("height","").each(function(){var t=b()(this),e=t.hasClass("".concat(o.options.panelActiveClass));e||t.css({visibility:"hidden",display:"block"});var n=this.getBoundingClientRect().height;e||t.css({visibility:"",display:""}),i=i<n?n:i}).css("height","".concat(i,"px"))}},{key:"_destroy",value:function h(){this.$element.find(".".concat(this.options.linkClass)).off(".zf.tabs").hide().end().find(".".concat(this.options.panelClass)).hide(),this.options.matchHeight&&null!=this._setHeightMqHandler&&b()(window).off("changed.zf.mediaquery",this._setHeightMqHandler),this.options.deepLink&&b()(window).off("hashchange",this._checkDeepLink),this.onLoadListener&&b()(window).off(this.onLoadListener)}}]),n}();s.defaults={deepLink:!1,deepLinkSmudge:!1,deepLinkSmudgeDelay:300,updateHistory:!1,autoFocus:!1,wrapOnKeys:!0,matchHeight:!1,activeCollapse:!1,linkClass:"tabs-title",linkActiveClass:"is-active",panelClass:"tabs-panel",panelActiveClass:"is-active"}},"./js/foundation.toggler.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function d(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Toggler",function(){return l});var s=n("jquery"),p=n.n(s),m=n("./js/foundation.util.motion.js"),g=n("./js/foundation.core.plugin.js"),v=n("./js/foundation.core.utils.js"),y=n("./js/foundation.util.triggers.js"),l=function(){function n(){return c(this,n),d(this,h(n).apply(this,arguments))}return f(n,g["Plugin"]),u(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=p.a.extend({},n.defaults,t.data(),e),this.className="",this.className="Toggler",y.Triggers.init(p.a),this._init(),this._events()}},{key:"_init",value:function r(){var t,o=this.$element[0].id,e=p()('[data-open~="'.concat(o,'"], [data-close~="').concat(o,'"], [data-toggle~="').concat(o,'"]'));if(this.options.animate)t=this.options.animate.split(" "),this.animationIn=t[0],this.animationOut=t[1]||null,e.attr("aria-expanded",!this.$element.is(":hidden"));else{if("string"!=typeof(t=this.options.toggler)||!t.length)throw new Error("The 'toogler' option containing the target class is required, got \"".concat(t,'"'));this.className="."===t[0]?t.slice(1):t,e.attr("aria-expanded",this.$element.hasClass(this.className))}e.each(function(t,e){var n=p()(e),i=n.attr("aria-controls")||"";new RegExp("\\b".concat(Object(v.RegExpEscape)(o),"\\b")).test(i)||n.attr("aria-controls",i?"".concat(i," ").concat(o):o)})}},{key:"_events",value:function t(){this.$element.off("toggle.zf.trigger").on("toggle.zf.trigger",this.toggle.bind(this))}},{key:"toggle",value:function e(){this[this.options.animate?"_toggleAnimate":"_toggleClass"]()}},{key:"_toggleClass",value:function o(){this.$element.toggleClass(this.className);var t=this.$element.hasClass(this.className);t?this.$element.trigger("on.zf.toggler"):this.$element.trigger("off.zf.toggler"),this._updateARIA(t),this.$element.find("[data-mutate]").trigger("mutateme.zf.trigger")}},{key:"_toggleAnimate",value:function a(){var t=this;this.$element.is(":hidden")?m.Motion.animateIn(this.$element,this.animationIn,function(){t._updateARIA(!0),this.trigger("on.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")}):m.Motion.animateOut(this.$element,this.animationOut,function(){t._updateARIA(!1),this.trigger("off.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")})}},{key:"_updateARIA",value:function s(t){var e=this.$element[0].id;p()('[data-open="'.concat(e,'"], [data-close="').concat(e,'"], [data-toggle="').concat(e,'"]')).attr({"aria-expanded":!!t})}},{key:"_destroy",value:function l(){this.$element.off(".zf.toggler")}}]),n}();l.defaults={toggler:undefined,animate:!1}},"./js/foundation.tooltip.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function g(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function r(t,e,n){var i=a(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function n(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"Tooltip",function(){return c});var l=n("jquery"),E=n.n(l),_=n("./js/foundation.core.utils.js"),T=n("./js/foundation.util.mediaQuery.js"),C=n("./js/foundation.util.triggers.js"),D=n("./js/foundation.positionable.js"),c=function(){function n(){return p(this,n),g(this,y(n).apply(this,arguments))}return b(n,D["Positionable"]),m(n,[{key:"_setup",value:function i(t,e){this.$element=t,this.options=E.a.extend({},n.defaults,this.$element.data(),e),this.className="Tooltip",this.isActive=!1,this.isClick=!1,C.Triggers.init(E.a),this._init()}},{key:"_init",value:function e(){T.MediaQuery._init();var t=this.$element.attr("aria-describedby")||Object(_.GetYoDigits)(6,"tooltip");this.options.tipText=this.options.tipText||this.$element.attr("title"),this.template=this.options.template?E()(this.options.template):this._buildTemplate(t),this.options.allowHtml?this.template.appendTo(document.body).html(this.options.tipText).hide():this.template.appendTo(document.body).text(this.options.tipText).hide(),this.$element.attr({title:"","aria-describedby":t,"data-yeti-box":t,"data-toggle":t,"data-resize":t}).addClass(this.options.triggerClass),v(y(n.prototype),"_init",this).call(this),this._events()}},{key:"_getDefaultPosition",value:function o(){var t=this.$element[0].className.match(/\b(top|left|right|bottom)\b/g),e=this.$element[0].className;return this.$element[0]instanceof SVGElement&&(e=e.baseVal),t?t[0]:"top"}},{key:"_getDefaultAlignment",value:function t(){return"center"}},{key:"_getHOffset",value:function r(){return"left"===this.position||"right"===this.position?this.options.hOffset+this.options.tooltipWidth:this.options.hOffset}},{key:"_getVOffset",value:function a(){return"top"===this.position||"bottom"===this.position?this.options.vOffset+this.options.tooltipHeight:this.options.vOffset}},{key:"_buildTemplate",value:function s(t){var e="".concat(this.options.tooltipClass," ").concat(this.options.templateClasses).trim();return E()("<div></div>").addClass(e).attr({role:"tooltip","aria-hidden":!0,"data-is-active":!1,"data-is-focus":!1,id:t})}},{key:"_setPosition",value:function l(){v(y(n.prototype),"_setPosition",this).call(this,this.$element,this.template)}},{key:"show",value:function c(){if("all"!==this.options.showOn&&!T.MediaQuery.is(this.options.showOn))return!1;var t=this;this.template.css("visibility","hidden").show(),this._setPosition(),this.template.removeClass("top bottom left right").addClass(this.position),this.template.removeClass("align-top align-bottom align-left align-right align-center").addClass("align-"+this.alignment),this.$element.trigger("closeme.zf.tooltip",this.template.attr("id")),this.template.attr({"data-is-active":!0,"aria-hidden":!1}),t.isActive=!0,this.template.stop().hide().css("visibility","").fadeIn(this.options.fadeInDuration,function(){}),this.$element.trigger("show.zf.tooltip")}},{key:"hide",value:function u(){var t=this;this.template.stop().attr({"aria-hidden":!0,"data-is-active":!1}).fadeOut(this.options.fadeOutDuration,function(){t.isActive=!1,t.isClick=!1}),this.$element.trigger("hide.zf.tooltip")}},{key:"_events",value:function d(){var t=this,e="ontouchstart"in window||"undefined"!=typeof window.ontouchstart,n=(this.template,!1);e&&this.options.disableForTouch||(this.options.disableHover||this.$element.on("mouseenter.zf.tooltip",function(){t.isActive||(t.timeout=setTimeout(function(){t.show()},t.options.hoverDelay))}).on("mouseleave.zf.tooltip",Object(_.ignoreMousedisappear)(function(){clearTimeout(t.timeout),(!n||t.isClick&&!t.options.clickOpen)&&t.hide()})),e&&this.$element.on("tap.zf.tooltip touchend.zf.tooltip",function(){t.isActive?t.hide():t.show()}),this.options.clickOpen?this.$element.on("mousedown.zf.tooltip",function(){t.isClick||(t.isClick=!0,!t.options.disableHover&&t.$element.attr("tabindex")||t.isActive||t.show())}):this.$element.on("mousedown.zf.tooltip",function(){t.isClick=!0}),this.$element.on({"close.zf.trigger":this.hide.bind(this)}),this.$element.on("focus.zf.tooltip",function(){if(n=!0,t.isClick)return t.options.clickOpen||(n=!1),!1;t.show()}).on("focusout.zf.tooltip",function(){n=!1,t.isClick=!1,t.hide()}).on("resizeme.zf.trigger",function(){t.isActive&&t._setPosition()}))}},{key:"toggle",value:function h(){this.isActive?this.hide():this.show()}},{key:"_destroy",value:function f(){this.$element.attr("title",this.template.text()).off(".zf.trigger .zf.tooltip").removeClass(this.options.triggerClass).removeClass("top right left bottom").removeAttr("aria-describedby data-disable-hover data-resize data-toggle data-tooltip data-yeti-box"),this.template.remove()}}]),n}();c.defaults={hoverDelay:200,fadeInDuration:150,fadeOutDuration:150,disableHover:!1,disableForTouch:!1,templateClasses:"",tooltipClass:"tooltip",triggerClass:"has-tip",showOn:"small",template:"",tipText:"",touchCloseText:"Tap to close.",clickOpen:!0,position:"auto",alignment:"auto",allowOverlap:!1,allowBottomOverlap:!1,vOffset:0,hOffset:0,tooltipHeight:14,tooltipWidth:12,allowHtml:!1}},"./js/foundation.util.box.js":function(t,e,n){"use strict";function i(t,e,n,i,o){return 0===r(t,e,n,i,o)}function r(t,e,n,i,o){var r,a,s,l,c=d(t);if(e){var u=d(e);a=u.height+u.offset.top-(c.offset.top+c.height),r=c.offset.top-u.offset.top,s=c.offset.left-u.offset.left,l=u.width+u.offset.left-(c.offset.left+c.width)}else a=c.windowDims.height+c.windowDims.offset.top-(c.offset.top+c.height),r=c.offset.top-c.windowDims.offset.top,s=c.offset.left-c.windowDims.offset.left,l=c.windowDims.width-(c.offset.left+c.width);return a=o?0:Math.min(a,0),r=Math.min(r,0),s=Math.min(s,0),l=Math.min(l,0),n?s+l:i?r+a:Math.sqrt(r*r+a*a+s*s+l*l)}function d(t){if((t=t.length?t[0]:t)===window||t===document)throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");var e=t.getBoundingClientRect(),n=t.parentNode.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=window.pageYOffset,r=window.pageXOffset;return{width:e.width,height:e.height,offset:{top:e.top+o,left:e.left+r},parentDims:{width:n.width,height:n.height,offset:{top:n.top+o,left:n.left+r}},windowDims:{width:i.width,height:i.height,offset:{top:o,left:r}}}}function o(t,e,n,i,o,r,a){var s,l,c=d(t),u=e?d(e):null;switch(n){case"top":s=u.offset.top-(c.height+o);break;case"bottom":s=u.offset.top+u.height+o;break;case"left":l=u.offset.left-(c.width+r);break;case"right":l=u.offset.left+u.width+r}switch(n){case"top":case"bottom":switch(i){case"left":l=u.offset.left+r;break;case"right":l=u.offset.left-c.width+u.width-r;break;case"center":l=a?r:u.offset.left+u.width/2-c.width/2+r}break;case"right":case"left":switch(i){case"bottom":s=u.offset.top-o+u.height-c.height;break;case"top":s=u.offset.top+o;break;case"center":s=u.offset.top+o+u.height/2-c.height/2}}return{top:s,left:l}}n.r(e),n.d(e,"Box",function(){return a});n("./js/foundation.core.utils.js");var a={ImNotTouchingYou:i,OverlapArea:r,GetDimensions:d,GetExplicitOffsets:o}},"./js/foundation.util.imageLoader.js":function(t,e,n){"use strict";function i(t,e){function i(){0===--n&&e()}var n=t.length;0===n&&e(),t.each(function(){if(this.complete&&"undefined"!=typeof this.naturalWidth)i();else{var t=new Image,e="load.zf.images error.zf.images";r()(t).one(e,function n(){r()(this).off(e,n),i()}),t.src=r()(this).attr("src")}})}n.r(e),n.d(e,"onImagesLoaded",function(){return i});var o=n("jquery"),r=n.n(o)},"./js/foundation.util.keyboard.js":function(t,e,n){"use strict";function o(t){return!!t&&t.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!(!s()(this).is(":visible")||s()(this).attr("tabindex")<0)})}function r(t){var e=c[t.which||t.keyCode]||String.fromCharCode(t.which).toUpperCase();return e=e.replace(/\W+/,""),t.shiftKey&&(e="SHIFT_".concat(e)),t.ctrlKey&&(e="CTRL_".concat(e)),t.altKey&&(e="ALT_".concat(e)),e=e.replace(/_$/,"")}function i(t){var e={};for(var n in t)e[t[n]]=t[n];return e}n.r(e),n.d(e,"Keyboard",function(){return d});var a=n("jquery"),s=n.n(a),l=n("./js/foundation.core.utils.js"),c={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",35:"END",36:"HOME",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"},u={},d={keys:i(c),parseKey:r,handleKey:function h(t,e,n){var i,o=u[e],r=this.parseKey(t);if(!o)return console.warn("Component not defined!");if(!0!==t.zfIsKeyHandled)if((i=n[("undefined"==typeof o.ltr?o:Object(l.rtl)()?s.a.extend({},o.ltr,o.rtl):s.a.extend({},o.rtl,o.ltr))[r]])&&"function"==typeof i){var a=i.apply();t.zfIsKeyHandled=!0,(n.handled||"function"==typeof n.handled)&&n.handled(a)}else(n.unhandled||"function"==typeof n.unhandled)&&n.unhandled()},findFocusable:o,register:function f(t,e){u[t]=e},trapFocus:function p(t){var e=o(t),n=e.eq(0),i=e.eq(-1);t.on("keydown.zf.trapfocus",function(t){t.target===i[0]&&"TAB"===r(t)?(t.preventDefault(),n.focus()):t.target===n[0]&&"SHIFT_TAB"===r(t)&&(t.preventDefault(),i.focus())})},releaseFocus:function m(t){t.off("keydown.zf.trapfocus")}}},"./js/foundation.util.mediaQuery.js":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return s(t)||a(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(t,e){var n=[],i=!0,o=!1,r=undefined;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(o)throw r}}return n}function s(t){if(Array.isArray(t))return t}function l(t){var e={};return"string"!=typeof t?e:(t=t.trim().slice(1,-1))?e=t.split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),i=n[0],o=n[1];return i=decodeURIComponent(i),o=void 0===o?null:decodeURIComponent(o),t.hasOwnProperty(i)?Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o,t},{}):e}n.r(e),n.d(e,"MediaQuery",function(){return d});var c=n("jquery"),u=n.n(c);window.matchMedia||(window.matchMedia=function(){var e=window.styleMedia||window.media;if(!e){var n=document.createElement("style"),t=document.getElementsByTagName("script")[0],i=null;n.type="text/css",n.id="matchmediajs-test",t?t.parentNode.insertBefore(n,t):document.head.appendChild(n),i="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,e={matchMedium:function o(t){var e="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=e:n.textContent=e,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}());var d={queries:[],current:"",_init:function h(){if(!0!==this.isInitialized){this.isInitialized=!0;var t=this;u()("meta.foundation-mq").length||u()('<meta class="foundation-mq">').appendTo(document.head);var e,n=u()(".foundation-mq").css("font-family");for(var i in e=l(n),t.queries=[],e)e.hasOwnProperty(i)&&t.queries.push({name:i,value:"only screen and (min-width: ".concat(e[i],")")});this.current=this._getCurrentSize(),this._watcher()}},_reInit:function f(){this.isInitialized=!1,this._init()},atLeast:function p(t){var e=this.get(t);return!!e&&window.matchMedia(e).matches},only:function m(t){return t===this._getCurrentSize()},upTo:function g(t){var e=this.next(t);return!e||!this.atLeast(e)},is:function v(t){var e=r(t.trim().split(" ").filter(function(t){return!!t.length}),2),n=e[0],i=e[1],o=void 0===i?"":i;if("only"===o)return this.only(n);if(!o||"up"===o)return this.atLeast(n);if("down"===o)return this.upTo(n);throw new Error('\n      Invalid breakpoint passed to MediaQuery.is().\n      Expected a breakpoint name formatted like "<size> <modifier>", got "'.concat(t,'".\n    '))},get:function y(t){for(var e in this.queries)if(this.queries.hasOwnProperty(e)){var n=this.queries[e];if(t===n.name)return n.value}return null},next:function b(e){var n=this,t=this.queries.findIndex(function(t){return n._getQueryName(t)===e});if(-1===t)throw new Error('\n        Unknown breakpoint "'.concat(e,'" passed to MediaQuery.next().\n        Ensure it is present in your Sass "$breakpoints" setting.\n      '));var i=this.queries[t+1];return i?i.name:null},_getQueryName:function E(t){if("string"==typeof t)return t;if("object"===i(t))return t.name;throw new TypeError('\n      Invalid value passed to MediaQuery._getQueryName().\n      Expected a breakpoint name (String) or a breakpoint query (Object), got "'.concat(t,'" (').concat(i(t),")\n    "))},_getCurrentSize:function _(){for(var t,e=0;e<this.queries.length;e++){var n=this.queries[e];window.matchMedia(n.value).matches&&(t=n)}return t&&this._getQueryName(t)},_watcher:function T(){var n=this;u()(window).off("resize.zf.mediaquery").on("resize.zf.mediaquery",function(){var t=n._getCurrentSize(),e=n.current;t!==e&&(n.current=t,u()(window).trigger("changed.zf.mediaquery",[t,e]))})}}},"./js/foundation.util.motion.js":function(t,e,n){"use strict";function i(e,n,i){function o(t){s||(s=t),a=t-s,i.apply(n),a<e?r=window.requestAnimationFrame(o,n):(window.cancelAnimationFrame(r),n.trigger("finished.zf.animate",[n]).triggerHandler("finished.zf.animate",[n]))}var r,a,s=null;if(0===e)return i.apply(n),void n.trigger("finished.zf.animate",[n]).triggerHandler("finished.zf.animate",[n]);r=window.requestAnimationFrame(o)}function o(t,e,n,i){function o(){t||e.hide(),r(),i&&i.apply(e)}function r(){e[0].style.transitionDuration=0,e.removeClass("".concat(a," ").concat(s," ").concat(n))}if((e=l()(e).eq(0)).length){var a=t?u[0]:u[1],s=t?d[0]:d[1];r(),e.addClass(n).css("transition","none"),requestAnimationFrame(function(){e.addClass(a),t&&e.show()}),requestAnimationFrame(function(){e.css("transition","").addClass(s)}),e.one(Object(c.transitionend)(e),o)}}n.r(e),n.d(e,"Move",function(){return i}),n.d(e,"Motion",function(){return a});var r=n("jquery"),l=n.n(r),c=n("./js/foundation.core.utils.js"),u=["mui-enter","mui-leave"],d=["mui-enter-active","mui-leave-active"],a={animateIn:function s(t,e,n){o(!0,t,e,n)},animateOut:function h(t,e,n){o(!1,t,e,n)}}},"./js/foundation.util.nest.js":function(t,e,n){"use strict";n.r(e),n.d(e,"Nest",function(){return o});var i=n("jquery"),l=n.n(i),o={Feather:function c(t,e){var n=1<arguments.length&&e!==undefined?arguments[1]:"zf";t.attr("role","menubar");var i=t.find("li").attr({role:"menuitem"}),o="is-".concat(n,"-submenu"),r="".concat(o,"-item"),a="is-".concat(n,"-submenu-parent"),s="accordion"!==n;i.each(function(){var t=l()(this),e=t.children("ul");e.length&&(t.addClass(a),s&&(t.attr({"aria-haspopup":!0,"aria-label":t.children("a:first").text()}),"drilldown"===n&&t.attr({"aria-expanded":!1})),e.addClass("submenu ".concat(o)).attr({"data-submenu":"",role:"menubar"}),"drilldown"===n&&e.attr({"aria-hidden":!0})),t.parent("[data-submenu]").length&&t.addClass("is-submenu-item ".concat(r))})},Burn:function r(t,e){var n="is-".concat(e,"-submenu"),i="".concat(n,"-item"),o="is-".concat(e,"-submenu-parent");t.find(">li, > li > ul, .menu, .menu > li, [data-submenu] > li").removeClass("".concat(n," ").concat(i," ").concat(o," is-submenu-item submenu is-active")).removeAttr("data-submenu").css("display","")}}},"./js/foundation.util.timer.js":function(t,e,n){"use strict";function i(e,t,n){var i,o,r=this,a=t.duration,s=Object.keys(e.data())[0]||"timer",l=-1;this.isPaused=!1,this.restart=function(){l=-1,clearTimeout(o),this.start()},this.start=function(){this.isPaused=!1,clearTimeout(o),l=l<=0?a:l,e.data("paused",!1),i=Date.now(),o=setTimeout(function(){t.infinite&&r.restart(),n&&"function"==typeof n&&n()},l),e.trigger("timerstart.zf.".concat(s))},this.pause=function(){this.isPaused=!0,clearTimeout(o),e.data("paused",!0);var t=Date.now();l-=t-i,e.trigger("timerpaused.zf.".concat(s))}}n.r(e),n.d(e,"Timer",function(){return i});n("jquery")},"./js/foundation.util.touch.js":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t){if(this.removeEventListener("touchmove",s),this.removeEventListener("touchend",a),!y){var e=m.a.Event("tap",f||t);m()(this).trigger(e)}f=null,y=v=!1}function s(t){if(m.a.spotSwipe.preventDefault&&t.preventDefault(),v){var e,n=t.touches[0].pageX,i=(t.touches[0].pageY,u-n);y=!0,h=(new Date).getTime()-d,Math.abs(i)>=m.a.spotSwipe.moveThreshold&&h<=m.a.spotSwipe.timeThreshold&&(e=0<i?"left":"right"),e&&(t.preventDefault(),a.apply(this,arguments),m()(this).trigger(m.a.Event("swipe",Object.assign({},t)),e).trigger(m.a.Event("swipe".concat(e),Object.assign({},t))))}}function l(t){1==t.touches.length&&(u=t.touches[0].pageX,t.touches[0].pageY,f=t,y=!(v=!0),d=(new Date).getTime(),this.addEventListener("touchmove",s,!1),this.addEventListener("touchend",a,!1))}function c(){this.addEventListener&&this.addEventListener("touchstart",l,!1)}n.r(e),n.d(e,"Touch",function(){return g});var u,d,h,f,p=n("jquery"),m=n.n(p),g={},v=!1,y=!1,b=function(){function e(t){i(this,e),this.version="1.0.0",this.enabled="ontouchstart"in document.documentElement,this.preventDefault=!1,this.moveThreshold=75,this.timeThreshold=200,this.$=t,this._init()}return r(e,[{key:"_init",value:function t(){var e=this.$;e.event.special.swipe={setup:c},e.event.special.tap={setup:c},e.each(["left","up","down","right"],function(){e.event.special["swipe".concat(this)]={setup:function t(){e(this).on("swipe",e.noop)}}})}}]),e}();g.setupSpotSwipe=function(t){t.spotSwipe=new b(t)},g.setupTouchHandler=function(n){n.fn.addTouch=function(){this.each(function(t,e){n(e).bind("touchstart touchmove touchend touchcancel",function(t){o(t)})});var o=function o(t){var e,n=t.changedTouches[0],i={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[t.type];"MouseEvent"in window&&"function"==typeof window.MouseEvent?e=new window.MouseEvent(i,{bubbles:!0,cancelable:!0,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY}):(e=document.createEvent("MouseEvent")).initMouseEvent(i,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(e)}}},g.init=function(t){"undefined"==typeof t.spotSwipe&&(g.setupSpotSwipe(t),g.setupTouchHandler(t))}},"./js/foundation.util.triggers.js":function(t,e,n){"use strict"
;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function n(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){var i,o=Array.prototype.slice.call(arguments,3);a()(window).off(e).on(e,function(){i&&clearTimeout(i),i=setTimeout(function(){n.apply(null,o)},t||10)})}n.r(e),n.d(e,"Triggers",function(){return d});var r=n("jquery"),a=n.n(r),s=n("./js/foundation.core.utils.js"),l=n("./js/foundation.util.motion.js"),c=function(){for(var t=["WebKit","Moz","O","Ms",""],e=0;e<t.length;e++)if("".concat(t[e],"MutationObserver")in window)return window["".concat(t[e],"MutationObserver")];return!1}(),u=function u(e,n){e.data(n).split(" ").forEach(function(t){a()("#".concat(t))["close"===n?"trigger":"triggerHandler"]("".concat(n,".zf.trigger"),[e])})},d={Listeners:{Basic:{},Global:{}},Initializers:{}};d.Listeners.Basic={openListener:function h(){u(a()(this),"open")},closeListener:function f(){a()(this).data("close")?u(a()(this),"close"):a()(this).trigger("close.zf.trigger")},toggleListener:function p(){a()(this).data("toggle")?u(a()(this),"toggle"):a()(this).trigger("toggle.zf.trigger")},closeableListener:function m(t){var e=a()(this).data("closable");t.stopPropagation(),""!==e?l.Motion.animateOut(a()(this),e,function(){a()(this).trigger("closed.zf")}):a()(this).fadeOut().trigger("closed.zf")},toggleFocusListener:function g(){var t=a()(this).data("toggle-focus");a()("#".concat(t)).triggerHandler("toggle.zf.trigger",[a()(this)])}},d.Initializers.addOpenListener=function(t){t.off("click.zf.trigger",d.Listeners.Basic.openListener),t.on("click.zf.trigger","[data-open]",d.Listeners.Basic.openListener)},d.Initializers.addCloseListener=function(t){t.off("click.zf.trigger",d.Listeners.Basic.closeListener),t.on("click.zf.trigger","[data-close]",d.Listeners.Basic.closeListener)},d.Initializers.addToggleListener=function(t){t.off("click.zf.trigger",d.Listeners.Basic.toggleListener),t.on("click.zf.trigger","[data-toggle]",d.Listeners.Basic.toggleListener)},d.Initializers.addCloseableListener=function(t){t.off("close.zf.trigger",d.Listeners.Basic.closeableListener),t.on("close.zf.trigger","[data-closeable], [data-closable]",d.Listeners.Basic.closeableListener)},d.Initializers.addToggleFocusListener=function(t){t.off("focus.zf.trigger blur.zf.trigger",d.Listeners.Basic.toggleFocusListener),t.on("focus.zf.trigger blur.zf.trigger","[data-toggle-focus]",d.Listeners.Basic.toggleFocusListener)},d.Listeners.Global={resizeListener:function v(t){c||t.each(function(){a()(this).triggerHandler("resizeme.zf.trigger")}),t.attr("data-events","resize")},scrollListener:function y(t){c||t.each(function(){a()(this).triggerHandler("scrollme.zf.trigger")}),t.attr("data-events","scroll")},closeMeListener:function b(t,e){var n=t.namespace.split(".")[0];a()("[data-".concat(n,"]")).not('[data-yeti-box="'.concat(e,'"]')).each(function(){var t=a()(this);t.triggerHandler("close.zf.trigger",[t])})}},d.Initializers.addClosemeListener=function(t){var e=a()("[data-yeti-box]"),n=["dropdown","tooltip","reveal"];if(t&&("string"==typeof t?n.push(t):"object"===o(t)&&"string"==typeof t[0]?n=n.concat(t):console.error("Plugin names must be strings")),e.length){var i=n.map(function(t){return"closeme.zf.".concat(t)}).join(" ");a()(window).off(i).on(i,d.Listeners.Global.closeMeListener)}},d.Initializers.addResizeListener=function(t){var e=a()("[data-resize]");e.length&&i(t,"resize.zf.trigger",d.Listeners.Global.resizeListener,e)},d.Initializers.addScrollListener=function(t){var e=a()("[data-scroll]");e.length&&i(t,"scroll.zf.trigger",d.Listeners.Global.scrollListener,e)},d.Initializers.addMutationEventsListener=function(t){if(!c)return!1;var e=t.find("[data-resize], [data-scroll], [data-mutate]"),n=function n(t){var e=a()(t[0].target);switch(t[0].type){case"attributes":"scroll"===e.attr("data-events")&&"data-events"===t[0].attributeName&&e.triggerHandler("scrollme.zf.trigger",[e,window.pageYOffset]),"resize"===e.attr("data-events")&&"data-events"===t[0].attributeName&&e.triggerHandler("resizeme.zf.trigger",[e]),"style"===t[0].attributeName&&(e.closest("[data-mutate]").attr("data-events","mutate"),e.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[e.closest("[data-mutate]")]));break;case"childList":e.closest("[data-mutate]").attr("data-events","mutate"),e.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[e.closest("[data-mutate]")]);break;default:return!1}};if(e.length)for(var i=0;i<=e.length-1;i++){new c(n).observe(e[i],{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-events","style"]})}},d.Initializers.addSimpleListeners=function(){var t=a()(document);d.Initializers.addOpenListener(t),d.Initializers.addCloseListener(t),d.Initializers.addToggleListener(t),d.Initializers.addCloseableListener(t),d.Initializers.addToggleFocusListener(t)},d.Initializers.addGlobalListeners=function(){var t=a()(document);d.Initializers.addMutationEventsListener(t),d.Initializers.addResizeListener(),d.Initializers.addScrollListener(),d.Initializers.addClosemeListener()},d.init=function(t,e){Object(s.onLoad)(t(window),function(){!0!==t.triggersInitialized&&(d.Initializers.addSimpleListeners(),d.Initializers.addGlobalListeners(),t.triggersInitialized=!0)}),e&&(e.Triggers=d,e.IHearYou=d.Initializers.addGlobalListeners)}},0:function(t,e,n){t.exports=n("./js/entries/foundation.js")},jquery:function(t){t.exports=e}})}),function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return u.controller.visit(t,e)},clearCache:function(){return u.controller.clearCache()},setProgressBarDelay:function(t){return u.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var u=t.Turbolinks;(function(){(function(){var n,i,l,t,e,o,r,a,s,c=[].slice;u.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},u.closest=function(t,e){return n.call(t,e)},n=null!=(s=document.documentElement.closest)?s:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}},u.defer=function(t){return setTimeout(t,1)},u.throttle=function(n){var i;return i=null,function(){var t,e;return t=1<=arguments.length?c.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((e=this,function(){return i=null,n.apply(e,t)}))}},u.dispatch=function(t,e){var n,i,o,r,a,s;return s=(a=null!=e?e:{}).target,n=a.cancelable,i=a.data,(o=document.createEvent("Events")).initEvent(t,!0,!0===n),o.data=null!=i?i:{},o.cancelable&&!l&&(r=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),r.call(this)}),(null!=s?s:document).dispatchEvent(o),o},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),l=a.defaultPrevented,u.match=function(t,e){return i.call(t,e)},i=null!=(e=null!=(o=null!=(r=(t=document.documentElement).matchesSelector)?r:t.webkitMatchesSelector)?o:t.msMatchesSelector)?e:t.mozMatchesSelector,u.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){u.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};u.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=u.Location.wrap(e).requestURL,this.referrer=u.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return u.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return u.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};u.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var o=function(t,e){return function(){return t.apply(e,arguments)}};u.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=o(this.showProgressBar,this),this.progressBar=new u.ProgressBar}var n,i,e;return e=u.HttpRequest,n=e.NETWORK_FAILURE,i=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};u.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=u.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=u.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,i,o;return this.shouldHandlePopState()&&(o=null!=(n=t.state)?n.turbolinks:void 0)?(e=u.Location.wrap(window.location),i=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},t.prototype.onPageLoad=function(){return u.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},t}()}.call(this),function(){u.HeadDetails=function(){function t(t){var e,n,i,o,r;for(this.elements={},n=0,o=t.length;n<o;n++)(r=t[n]).nodeType===Node.ELEMENT_NODE&&(i=r.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:s(r),tracked:a(r),elements:[]}).elements.push(r))}var r,e,n,a,s;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,o,r,a,s;for(i in a=[],o=this.elements)s=(r=o[i]).type,n=r.elements,s!==t||e.hasElementWithKey(i)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,i,o,r,a;for(e in n=[],i=this.elements)a=(o=i[e]).type,r=o.tracked,t=o.elements,null!=a||r?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var e,n,i,o;for(i in e=void 0,o=this.elements)n=o[i].elements,r(n[0],t)&&(e=n[0]);return e},s=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},a=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},r=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){u.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,i;return n=t.querySelector("head"),e=null!=(i=t.querySelector("body"))?i:document.createElement("body"),new this(u.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new u.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(u){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.getPermanentElements()).length;n<i;n++)e=o[n],t.getPermanentElementById(e.id)&&r.push(e);return r},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var r=[].slice;u.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,i,o;return i=t,n=e,(o=function(t,e,n){n.prototype=t.prototype;var i=new n,o=t.apply(i,e);return Object(o)===o?o:i}(this,3<=arguments.length?r.call(arguments,2):[],function(){})).delegate=i,o.render(n),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,o,r,a,s,l;for(s=[],n=0,i=(r=e.attributes).length;n<i;n++)o=(a=r[n]).name,l=a.value,s.push(t.setAttribute(o,l));return s},t}()}.call(this),function(){var s,l,n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;u.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;e<n;e++)t=i[e],o.push(document.head.appendChild(t));return o},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getNewHeadScriptElements()).length;e<n;e++)t=i[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=i[e],o.push(document.head.removeChild(t));return o},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;e<n;e++)t=i[e],o.push(document.head.appendChild(t));return o},e.prototype.relocateCurrentBodyPermanentElements=function(){var t,e,n,i,o,r,a;for(a=[],t=0,e=(r=this.getCurrentBodyPermanentElements()).length;t<e;t++)i=r[t],o=s(i),n=this.newSnapshot.getPermanentElementById(i.id),l(i,o.element),l(n,i),a.push(o);return a},e.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,i,o,r,a;for(a=[],i=0,o=t.length;i<o;i++)n=(r=t[i]).element,e=r.permanentElement.cloneNode(!0),a.push(l(n,e));return a},e.prototype.activateNewBodyScriptElements=function(){var t,e,n,i,o,r;for(r=[],e=0,i=(o=this.getNewBodyScriptElements()).length;e<i;e++)n=o[e],t=this.createScriptElement(n),r.push(l(n,t));return r},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e}(u.Renderer),s=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},l=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;u.ErrorRenderer=function(t){function e(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,o,r;for(r=[],e=0,n=(i=this.getScriptElements()).length;e<n;e++)o=i[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(u.Renderer)}.call(this),function(){u.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return u.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,o;return o=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=o?this.renderSnapshot(o,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return u.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),u.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return u.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};u.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=u.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){u.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var i;return t.prototype.has=function(t){return i(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=i(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,i,o;for(o=[],t=0,n=(i=this.keys.splice(this.size)).length;t<n;t++)e=i[t],o.push(delete this.snapshots[e]);return o},i=function(t){return u.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};u.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=u.uuid(),this.location=u.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new u.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,
this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=u.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return u.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};u.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new u.History(this),this.view=new u.View(this),this.scrollManager=new u.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return u.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new u.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=u.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return u.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=u.Location.wrap(window.location),this.restorationIdentifier=u.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=u.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=u.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=u.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t,e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,u.defer((n=this,function(){return n.cache.put(t,e.clone())}))):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return u.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return u.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return u.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return u.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return u.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return u.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),u.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var i,o,r,a,s;return a=(o=null!=n?n:{}).restorationIdentifier,r=o.restorationData,i=o.historyChanged,(s=new u.Visit(this,t,e)).restorationIdentifier=null!=a?a:u.uuid(),s.restorationData=u.copyObject(r),s.historyChanged=i,s.referrer=this.location,s},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?u.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new u.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=u.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;u.start=function(){return e()?(null==u.controller&&(u.controller=t()),u.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=u),n()},t=function(){var t;return(t=new u.Controller).adapter=new u.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===u})()&&u.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd&&define(u)}.call(this),function(){"use strict";document.addEventListener("turbolinks:click",function(t){"#"===t.target.getAttribute("href").charAt(0)&&(Turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(t.data.url,Turbolinks.uuid()),t.preventDefault())})}.call(this),function(){"undefined"!=typeof window.CKEDITOR_BASEPATH&&null!==window.CKEDITOR_BASEPATH||(window.CKEDITOR_BASEPATH="/assets/ckeditor/")}.call(this),function(){var t,e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,E,_,T,C,D,O,I,k,w,R,x,S,K,A;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var o=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,r={timestamp:"IA8F",version:"4.11.1",revision:"c264cac",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:o},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n++){var i=e[n].src.match(o);if(i){t=i[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.timestamp&&"/"!=t.charAt(t.length-1)&&!/[&?]t=/.test(t)&&(t+=(0<=t.indexOf("?")?"&":"?")+"t="+this.timestamp),t},domReady:function(){function n(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),t())}catch(i){}}function t(){for(var t;t=i.shift();)t()}var i=[];return function(t){function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}n()}if(i.push(t),"complete"===document.readyState&&setTimeout(n,1),1==i.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n),t=!1;try{t=!window.frameElement}catch(r){}document.documentElement.doScroll&&t&&e()}}}()},e=window.CKEDITOR_GETURL;if(e){var n=r.getUrl;r.getUrl=function(t){return e.call(r,t)||n.call(r,t)}}return r}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,n=CKEDITOR.event.prototype;for(e in n)null==t[e]&&(t[e]=n[e])},CKEDITOR.event.prototype=function(){function u(t){var e=p(this);return e[t]||(e[t]=new n(t))}var c,d,h,f,p=function(t){return(t=t.getPrivate&&t.getPrivate()||t._||(t._={})).events||(t.events={})},n=function(t){this.name=t,this.listeners=[]};return n.prototype={getListenerIndex:function(t){for(var e=0,n=this.listeners;e<n.length;e++)if(n[e].fn==t)return e;return-1}},{define:function(t,e){var n=u.call(this,t);CKEDITOR.tools.extend(n,e,!0)},on:function(o,r,a,s,t){function e(t,e,n,i){return!(t={name:o,sender:this,editor:t,data:e,listenerData:s,stop:n,cancel:i,removeListener:l})!==r.call(a,t)&&t.data}function l(){i.removeListener(o,r)}var n=u.call(this,o);if(n.getListenerIndex(r)<0){n=n.listeners,a||(a=this),isNaN(t)&&(t=10);var i=this;e.fn=r,e.priority=t;for(var c=n.length-1;0<=c;c--)if(n[c].priority<=t)return n.splice(c+1,0,e),{removeListener:l};n.unshift(e)}return{removeListener:l}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:(c=0,d=function(){c=1},h=0,f=function(){h=1},function(t,e,n){var i=p(this)[t];t=c;var o=h;if(c=h=0,i&&(a=i.listeners).length)for(var r,a=a.slice(0),s=0;s<a.length;s++){if(i.errorProof)try{r=a[s].call(this,n,e,d,f)}catch(l){}else r=a[s].call(this,n,e,d,f);if(!1===r?h=1:void 0!==r&&(e=r),c||h)break}return e=!h&&(void 0===e||e),c=t,h=o,e}),fireOnce:function(t,e,n){return e=this.fire(t,e,n),delete p(this)[t],e},removeListener:function(t,e){var n=p(this)[t];if(n){var i=n.getListenerIndex(e);0<=i&&n.listeners.splice(i,1)}},removeAllListeners:function(){var t,e=p(this);for(t in e)delete e[t]},hasListeners:function(t){return(t=p(this)[t])&&0<t.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/edge[ \/](\d+.?\d*)/),n=-1<t.indexOf("trident/");(n={ie:n=!(!e&&!n),edge:!!e,webkit:!n&&-1<t.indexOf(" applewebkit/"),air:-1<t.indexOf(" adobeair/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:-1<t.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<t.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=e?parseFloat(e[1]):n.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=i<7||n.quirks),n.gecko&&(e=t.match(/rv:([\d\.]+)/))&&(i=1e4*(e=e[1].split("."))[0]+100*(e[1]||0)+1*(e[2]||0)),n.air&&(i=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&i<7||n.gecko&&i<4e4||n.webkit&&i<534),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&i<11,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},CKEDITOR.domReady(function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*e))}),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:t,additionalData:e})},CKEDITOR.error=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:t,additionalData:e})},CKEDITOR.on("log",function(t){if(window.console&&window.console.log){var e=console[t.data.type]?t.data.type:"log",n=t.data.errorCode;(t=t.data.additionalData)?console[e]("[CKEDITOR] Error code: "+n+".",t):console[e]("[CKEDITOR] Error code: "+n+"."),console[e]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+n)}},null,null,999),CKEDITOR.dom={},function(){function o(t,e,n){this._minInterval=t,this._context=n,this._lastOutput=this._scheduledTimer=0,this._output=CKEDITOR.tools.bind(e,n||{});var i=this;this.input=function(){function t(){i._lastOutput=(new Date).getTime(),i._scheduledTimer=0,i._call()}if(!i._scheduledTimer||!1!==i._reschedule()){var e=(new Date).getTime()-i._lastOutput;e<i._minInterval?i._scheduledTimer=setTimeout(t,i._minInterval-e):t()}}}function t(t,e,n){o.call(this,t,e,n),this._args=[];var i=this;this.input=CKEDITOR.tools.override(this.input,function(t){return function(){i._args=Array.prototype.slice.call(arguments),t.call(this)}})}var n,e,i,r,a,s,l,c,u,d=[],h=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",f=/&/g,p=/>/g,m=/</g,g=/"/g,v=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,y={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"\xa0",shy:"\xad"},b=function(t,e){return"#"==e[0]?String.fromCharCode(parseInt(e.slice(1),10)):y[e]};CKEDITOR.on("reset",function(){d=[]}),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},getIndex:function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return n;return-1},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var n=0;n<t.length;n++)e[n]=CKEDITOR.tools.clone(t[n]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;for(n in e=new t.constructor,t)e[n]=CKEDITOR.tools.clone(t[n]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,n,i=arguments.length;"boolean"==typeof(e=arguments[i-1])?i--:"boolean"==typeof(e=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var o=1;o<i;o++){var r,a=arguments[o];for(r in a)!0!==e&&null!=t[r]||(!n||r in n)&&(t[r]=a[r])}return t},prototypedCopy:function(t){var e=function(){};return e.prototype=t,new e},copy:function(t){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,e,n){return n?h+t+":"+e+";"+t+":"+e:((n={})[t]=e,n[h+t]=e,n)},cssStyleToDomStyle:(c=document.createElement("div").style,u="undefined"!=typeof c.cssFloat?"cssFloat":"undefined"!=typeof c.styleFloat?"styleFloat":"float",function(t){return"float"==t?u:t.replace(/-./g,function(t){return t.substr(1).toUpperCase()})}),buildStyleHtml:function(t){t=[].concat(t);for(var e,n=[],i=0;i<t.length;i++)(e=t[i])&&(/@import|[{}]/.test(e)?n.push("<style>"+e+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+e+'">'));return n.join("")},htmlEncode:function(t){return null==t?"":String(t).replace(f,"&amp;").replace(p,"&gt;").replace(m,"&lt;")},htmlDecode:function(t){return t.replace(v,b)},htmlEncodeAttr:function(t){return CKEDITOR.tools.htmlEncode(t).replace(g,"&quot;")},htmlDecodeAttr:function(t){return CKEDITOR.tools.htmlDecode(t)},transformPlainTextToHtml:function(t,e){var n=e==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(t.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=e==CKEDITOR.ENTER_P?"p":"div";if(!n){var r=/\n{2}/g;if(r.test(i)){var a="<"+o+">",s="</"+o+">";i=a+i.replace(r,function(){return s+a})+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+o+">)"),function(t){return CKEDITOR.tools.repeat(t,2)})),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,function(t,e){return e+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:(l=0,function(){return++l}),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var t="e",e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t},override:function(t,e){var n=e(t);return n.prototype=t.prototype,n},setTimeout:function(t,e,n,i,o){return o||(o=window),n||(n=o),o.setTimeout(function(){i?t.apply(n,[].concat(i)):t.apply(n)},e||0)},throttle:function(t,e,n){return new this.buffers.throttle(t,e,n)},trim:(s=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,function(t){return t.replace(s,"")}),ltrim:(a=/^[ \t\n\r]+/g,function(t){return t.replace(a,"")}),rtrim:(r=/[ \t\n\r]+$/g,function(t){return t.replace(r,"")}),indexOf:function(t,e){if("function"==typeof e){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return n}else{if(t.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},search:function(t,e){var n=CKEDITOR.tools.indexOf(t,e);return 0<=n?t[n]:null},bind:function(t,e){return function(){return t.apply(e,arguments)}},createClass:function(t){var e=t.$,n=t.base,i=t.privates||t._,o=t.proto;if(t=t.statics,!e&&(e=function(){n&&this.base.apply(this,arguments)}),i){var r=e;e=function(){var t,e=this._||(this._={});for(t in i){var n=i[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}r.apply(this,arguments)}}return n&&(e.prototype=this.prototypedCopy(n.prototype),(e.prototype.constructor=e).base=n,e.baseProto=n.prototype,e.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),o&&this.extend(e.prototype,o,!0),t&&this.extend(e,t,!0),e},addFunction:function(t,e){return d.push(function(){return t.apply(e||this,arguments)})-1},removeFunction:function(t){d[t]=null},callFunction:function(t){var e=d[t];return e&&e.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:(i=/^-?\d+\.?\d*px$/,function(t){return e=CKEDITOR.tools.trim(t+"")+"px",i.test(e)?e:t||""}),convertToPx:function(t){if(n||(n=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(n)),/%$/.test(t))return t;var e=parseFloat(t)<0;return e&&(t=t.replace("-","")),n.setStyle("width",t),t=n.$.clientWidth,e?-t:t},repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,n=arguments.length;e<n;e++){var i=arguments[e];try{t=i();break}catch(g){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(n){return function(){var t=arguments,e=this;window.setTimeout(function(){n.apply(e,t)},0)}},normalizeCssText:function(t,e){var n,i=[],o=CKEDITOR.tools.parseCssText(t,!0,e);for(n in o)i.push(n+":"+o[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(t,e,n,i){for(t=[e,n,i],e=0;e<3;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);return"#"+t.join("")})},normalizeHex:function(t){return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(t,e,n,i){return 3==(t=e.toLowerCase()).length&&(t=[(t=t.split(""))[0],t[0],t[1],t[1],t[2],t[2]].join("")),"#"+t+i})},parseCssText:function(t,i,e){var o={};return e&&(t=new CKEDITOR.dom.element("span").setAttribute("style",t).getAttribute("style")||""),t&&(t=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t))),t&&";"!=t&&t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){i&&("font-family"==(e=e.toLowerCase())&&(n=n.replace(/\s*,\s*/g,",")),n=CKEDITOR.tools.trim(n)),o[e]=n}),o},writeCssText:function(t,e){var n,i=[];for(n in t)i.push(n+":"+t[n]);return e&&i.sort(),i.join("; ")},objectCompare:function(t,e,n){var i;if(!t&&!e)return!0;if(!t||!e)return!1;for(i in t)if(t[i]!=e[i])return!1;if(!n)for(i in e)if(t[i]!=e[i])return!1;return!0},objectKeys:function(t){var e,n=[];for(e in t)n.push(e);return n},convertArrayToObject:function(t,e){var n={};1==arguments.length&&(e=!0);for(var i=0,o=t.length;i<o;++i)n[t[i]]=e;return n},fixDomain:function(){for(var t;;)try{t=window.parent.document.domain;break}catch(d){if(!(t=t?t.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=t}return!!t},eventsBuffer:function(t,e,n){return new this.buffers.event(t,e,n)},enableHtml5Elements:function(t,e){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=i.length;o--;)n=t.createElement(i[o]),e&&t.appendChild(n)},checkIfAnyArrayItemMatches:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var n in t)if(n.match(e))return!0;return!1},keystrokeToString:function(t,e){var n=this.keystrokeToArray(t,e);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(t,e){var n=16711680&e,i=65535&e,o=CKEDITOR.env.mac,r=[],a=[];return n&CKEDITOR.CTRL&&(r.push(o?"\u2318":t[17]),a.push(o?t[224]:t[17])),n&CKEDITOR.ALT&&(r.push(o?"\u2325":t[18]),a.push(t[18])),n&CKEDITOR.SHIFT&&(r.push(o?"\u21e7":t[16]),a.push(t[16])),i&&(t[i]?(r.push(t[i]),a.push(t[i])):(r.push(String.fromCharCode(i)),a.push(String.fromCharCode(i)))),{display:r,aria:a}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(t){t=t.toLowerCase();for(var e,n=document.cookie.split(";"),i=0;i<n.length;i++)if(e=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase())===t)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"},getCsrfToken:function(){if(!(t=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=t.length){var t=[],e="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(40),window.crypto.getRandomValues(t);else for(var n=0;n<40;n++)t.push(Math.floor(256*Math.random()));for(n=0;n<t.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%36);e=e+(.5<Math.random()?i.toUpperCase():i)}t=e,CKEDITOR.tools.setCookie("ckCsrfToken",t)}return t},escapeCss:function(t){return t?window.CSS&&CSS.escape?CSS.escape(t):isNaN(parseInt(t.charAt(0),10))?t:"\\3"+t.charAt(0)+" "+t.substring(1,t.length):""},getMouseButton:function(t){var e=(t=t.data)&&t.$;return!(!t||!e)&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?4===e.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===e.button?CKEDITOR.MOUSE_BUTTON_LEFT:CKEDITOR.MOUSE_BUTTON_RIGHT:e.button)},convertHexStringToBytes:function(t){var e,n=[],i=t.length/2;for(e=0;e<i;e++)n.push(parseInt(t.substr(2*e,2),16));return n},convertBytesToBase64:function(t){var e,n="",i=t.length;for(e=0;e<i;e+=3){var o,r=t.slice(e,e+3),a=r.length,s=[];if(a<3)for(o=a;o<3;o++)r[o]=0;for(s[0]=(252&r[0])>>2,s[1]=(3&r[0])<<4|r[1]>>4,s[2]=(15&r[1])<<2|(192&r[2])>>6,s[3]=63&r[2],o=0;o<4;o++)n=o<=a?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[o]):n+"="}return n},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,
_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,function(t){e=e.replace(t,"")})),(e=CKEDITOR.tools.trim(e))&&(t.unprocessed=e),t},margin:function(t){function e(t){n.top=i[t[0]],n.right=i[t[1]],n.bottom=i[t[2]],n.left=i[t[3]]}var n={},i=t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(i.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}return n},border:function(t){var e={},n=t.split(/\s+/g);return(t=CKEDITOR.tools.style.parse._findColor(t)).length&&(e.color=t[0]),CKEDITOR.tools.array.forEach(n,function(t){e.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,t)?!e.width&&CKEDITOR.tools.style.parse._widthRegExp.test(t)&&(e.width=t):e.style=t}),e},_findColor:function(t){var e=[],n=CKEDITOR.tools.array;return(e=(e=e.concat(t.match(this._rgbaRegExp)||[])).concat(t.match(this._hslaRegExp)||[])).concat(n.filter(t.split(/\s+/),function(t){return!!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||t.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(n,i,o){var r=[];return this.forEach(n,function(t,e){i.call(o,t,e,n)&&r.push(t)}),r},forEach:function(t,e,n){var i,o=t.length;for(i=0;i<o;i++)e.call(n,t[i],i,t)},map:function(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(e.call(n,t[o],o,t));return i},reduce:function(t,e,n,i){for(var o=0;o<t.length;o++)n=e.call(i,n,t[o],o,t);return n},every:function(t,e,n){return!t.length||(e=this.filter(t,e,n),t.length===e.length)}},object:{findKey:function(t,e){if("object"!=typeof t)return null;for(var n in t)if(t[n]===e)return n;return null},merge:function(t,e){var n=CKEDITOR.tools,i=n.clone(t),o=n.clone(e);return n.array.forEach(n.objectKeys(o),function(t){i[t]="object"==typeof o[t]&&"object"==typeof i[t]?n.object.merge(i[t],o[t]):o[t]}),i}},getAbsoluteRectPosition:function(t,e){function n(t){if(t){var e=t.getClientRect();i.top+=e.top,i.left+=e.left,"x"in i&&"y"in i&&(i.x+=e.x,i.y+=e.y),n(t.getWindow().getFrame())}}var i=CKEDITOR.tools.copy(e);n(t.getFrame());var o=CKEDITOR.document.getWindow().getScrollPosition();return i.top+=o.y,i.left+=o.x,"x"in i&&"y"in i&&(i.y+=o.y,i.x+=o.x),i.right=i.left+i.width,i.bottom=i.top+i.height,i}},o.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},t.prototype=CKEDITOR.tools.prototypedCopy(o.prototype),t.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},t.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=o,CKEDITOR.tools.buffers.throttle=t,CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=(t=CKEDITOR.tools.extend,e=function(t,e){for(var n=CKEDITOR.tools.clone(t),i=1;i<arguments.length;i++)for(var o in e=arguments[i])delete n[o];return n},i={},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},r={command:1,link:1,meta:1,noscript:1,script:1,style:1},a={},l={center:1,dir:1,noframes:1},t(n={},{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},s={"#":1},{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),t(i,o,n,l),t(e={a:e(n,{a:1,button:1}),abbr:n,address:i,area:a,article:i,aside:i,audio:t({source:1,track:1},i),b:n,base:a,bdi:n,bdo:n,blockquote:i,body:i,br:a,button:e(n,{a:1,button:1}),canvas:n,caption:i,cite:n,code:n,col:a,colgroup:{col:1},command:a,datalist:t({option:1},n),dd:i,del:n,details:t({summary:1},i),dfn:n,div:i,dl:{dt:1,dd:1},dt:i,em:n,embed:a,fieldset:t({legend:1},i),figcaption:i,figure:t({figcaption:1},i),footer:i,form:i,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:t({title:1,base:1},r),header:i,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:a,html:t({head:1,body:1},i,r),i:n,iframe:s,img:a,input:a,ins:n,kbd:n,keygen:a,label:n,legend:n,li:i,link:a,main:i,map:i,mark:n,menu:t({li:1},i),meta:a,meter:e(n,{meter:1}),nav:i,noscript:t({link:1,meta:1,style:1},n),object:t({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:a,pre:n,progress:e(n,{progress:1}),q:n,rp:n,rt:n,ruby:t({rp:1,rt:1},n),s:n,samp:n,script:s,section:i,select:{optgroup:1,option:1},small:n,source:a,span:n,strong:n,style:s,sub:n,summary:t({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:i,textarea:s,tfoot:{tr:1},th:i,thead:{tr:1},time:e(n,{time:1}),title:s,tr:{th:1,td:1},track:a,u:n,ul:{li:1},"var":n,video:t({source:1,track:1},i),wbr:a,acronym:n,applet:t({param:1},i),basefont:a,big:n,center:i,dialog:a,dir:{li:1},font:n,isindex:a,noframes:i,strike:n,tt:n},{$block:t({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:t({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),e),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype=(c=function(e,n){return function(t){"undefined"!=typeof CKEDITOR&&e.fire(n,new CKEDITOR.dom.event(t))}},{getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(t){var e=this.getCustomData("_cke_nativeListeners");return e||(e={},this.setCustomData("_cke_nativeListeners",e)),e[t]||(e=e[t]=c(this,t),this.$.addEventListener?this.$.addEventListener(t,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,e)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),n=e&&e[t];n&&(this.$.removeEventListener?this.$.removeEventListener(t,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,n),delete e[t])}},removeAllListeners:function(){var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}),u=CKEDITOR.dom.domObject.prototype,d={},CKEDITOR.on("reset",function(){d={}}),u.equals=function(t){try{return t&&t.$===this.$}catch(e){return!1}},u.setCustomData=function(t,e){var n=this.getUniqueId();return(d[n]||(d[n]={}))[t]=e,this},u.getCustomData=function(t){var e=this.$["data-cke-expando"];return(e=e&&d[e])&&t in e?e[t]:null},u.removeCustomData=function(t){var e,n,i;return(e=(e=this.$["data-cke-expando"])&&d[e])&&(n=e[t],i=t in e,delete e[t]),i?n:null},u.clearCustomData=function(){this.removeAllListeners();var t=this.$["data-cke-expando"];t&&delete d[t]},u.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(u),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(n,i){function o(t){if(t["data-cke-expando"]&&(t["data-cke-expando"]=!1),(t.nodeType==CKEDITOR.NODE_ELEMENT||t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(i||t.nodeType!=CKEDITOR.NODE_ELEMENT||t.removeAttribute("id",!1),n)){t=t.childNodes;for(var e=0;e<t.length;e++)o(t[e])}}function r(t){if(t.type==CKEDITOR.NODE_ELEMENT||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=t.getName();":"==e[0]&&t.renameNode(e.substring(1))}if(n)for(e=0;e<t.getChildCount();e++)r(t.getChild(e))}}var t=this.$.cloneNode(n);return o(t),t=new CKEDITOR.dom.node(t),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&r(t),t},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],n=this.getDocument().$.documentElement,i=this.$;i&&i!=n;){var o=i.parentNode;o&&e.unshift(this.getIndex.call({$:i},t)),i=o}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function i(t,e){var n=e?t.nextSibling:t.previousSibling;return n&&n.nodeType==CKEDITOR.NODE_TEXT?o(n)?i(n,e):n:null}function o(t){return!t.nodeValue||t.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var e,n=this.$,r=-1;if(!this.$.parentNode||t&&n.nodeType==CKEDITOR.NODE_TEXT&&o(n)&&!i(n)&&!i(n,!0))return-1;for(;t&&n!=this.$&&n.nodeType==CKEDITOR.NODE_TEXT&&(e||o(n))||(r++,e=n.nodeType==CKEDITOR.NODE_TEXT),n=n.previousSibling;);return r},getNextSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getNext()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getNext()}return!t||n&&!1===n(t)?null:e&&e!=t.type?t.getNextSourceNode(!1,e,n):t},getPreviousSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getPrevious()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getPrevious()}return!t||n&&!1===n(t)?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,n):t},getPrevious:function(t){for(var e,n=this.$;(e=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getNext:function(t){for(var e,n=this.$;(e=(n=n.nextSibling)&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){for(var e=this,n=[];n[t?"push":"unshift"](e),e=e.getParent(););return n},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do{if(e.contains(t))return e}while(e=e.getParent());return null},getPosition:function(t){var e=this.$,n=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(n);if(e==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return e.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress(),t=t.getAddress();n=Math.min(e.length,t.length);for(var i=0;i<n;i++)if(e[i]!=t[i])return e[i]<t[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,i,o=this.$;for(t||(o=o.parentNode),n="function"==typeof e?(i=!0,e):(i=!1,function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});o;){if(n(i?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(r){o=null}}return null},hasAscendant:function(t,e){var n=this.$;for(e||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==t)return!0;n=n.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,n=e.parentNode;if(n){if(t)for(;t=e.firstChild;)n.insertBefore(e.removeChild(t),e);n.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(n-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(t){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),CKEDITOR.env.edge&&e&&e.is("textarea","input")&&(t=!0),!t&&e&&"undefined"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))return!1;if(e.hasAttribute("contenteditable"))return"false"==e.getAttribute("contenteditable");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:{x:(t=t.document).documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(n)}return e||n.$.sheet},createElement:function(t,e){var n=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&n.setAttributes(e.attributes),e.styles&&n.setStyles(e.styles)),n},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var n=this.$.documentElement,i=0;n&&i<t.length;i++){var o=t[i];if(e)for(var r=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==e||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++r==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(t,e){return CKEDITOR.env.ie&&document.documentMode<=8||!e||(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return t<0||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(t){return new CKEDITOR.dom.node(t)})}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var n=new CKEDITOR.dom.element("div",e);return n.setHtml(t),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,n,i){var o=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),r=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[o]=e,r[n]=1,e.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,n){var i,o=e.getCustomData("list_marker_names"),r=e.getCustomData("list_marker_id");for(i in o)e.removeCustomData(i);e.removeCustomData("list_marker_names"),n&&(e.removeCustomData("list_marker_id"),delete t[r])},function(){function n(t,e){return-1<(" "+t+" ").replace(c," ").indexOf(" "+e+" ")}function o(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function i(t,e){var n=CKEDITOR.tools.escapeCss(t.$.id);return"#"+n+" "+e.split(/,\s*/).join(", #"+n+" ")}function r(t){for(var e=0,n=0,i=u[t].length;n<i;n++)e+=parseFloat(this.getComputedStyle(u[t][n])||0,10)||0;return e}var t,a,e,s,l=void 0!==(l=document.createElement("_").classList)&&null!==String(l.add).match(/\[Native code\]/gi),c=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:l?function(t){return this.$.classList.add(t),this}:function(t){var e=this.$.className;return e&&(n(e,t)||(e+=" "+t)),this.$.className=e||t,this},removeClass:l?function(t){var e=this.$;return e.classList.remove(t),e.className||e.removeAttribute("class"),this}:function(t){var e=this.getAttribute("class");return e&&n(e,t)&&((e=e.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",e):this.removeAttribute("class")),this},hasClass:function(t){return n(this.$.className,t)},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text+=t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t,e){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(t);var i,o=n.extractContents(!1,e||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(t){return!!(16&this.$.compareDocumentPosition(t.$))}:function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)},focus:function(){function e(){try{this.$.focus()}catch(i){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(t){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),t?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),e):e},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(t){try{var e=this.$;if(this.getParent())return e.innerHTML=t;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(e),e.innerHTML=t,n.removeChild(e),t}catch(i){for(this.$.innerHTML="",(e=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=t,e=e.getChildren();e.count();)this.append(e.getItem(0));return t}}:function(t){return this.$.innerHTML=t},setText:(s=document.createElement("p"),s.innerHTML="x",s=s.textContent,function(t){this.$[s?"textContent":"innerText"]=t}),getAttribute:(e=function(t){return this.$.getAttribute(t,2)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(t=this.$.getAttribute(t,2))&&0===this.$.tabIndex&&(t=null),t;case"checked":return((t=this.$.attributes.getNamedItem(t)).specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:e),getAttributes:function(t){var e,n={},i=this.$.attributes;for(t=CKEDITOR.tools.isArray(t)?t:[],e=0;e<i.length;e++)-1===CKEDITOR.tools.indexOf(t,i[e].name)&&(n[i[e].name]=i[e].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""}:function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var t=this.$.tabIndex;return 0!==t||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?t:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(t){var e=this.getName();if("object"==typeof t)return!!t[e];for(var n=0;n<arguments.length;n++)if(arguments[n]==e)return!0;return!1},isEditable:function(t){var e=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===t||!(!(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span)||!t["#"]))},isIdentical:function(t){var e=this.clone(0,1);if(t=t.clone(0,1),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(e),e=n.getHtml(),n.setHtml(t),t=n.getHtml())}return e==t},isVisible:function(){var t,e,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(!(t=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(n=new CKEDITOR.dom.element(e).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,n=t.count();e<n;e++){var i=t.getItem(e);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var n=t[e];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<e&&(2<e||!n[t[0].nodeName]||2==e&&!n[t[1].nodeName])},hasAttribute:function(){function e(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(t=this.getAttribute("type"))||"radio"==t?"on"!=this.$.value:!!this.$.value}return!!e&&e.specified}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(t){return!!this.$.attributes.getNamedItem(t)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var n,i=this.$;if(i!=(t=t.$))if(e)for(;n=i.lastChild;)t.insertBefore(i.removeChild(n),t.firstChild);else for(;n=i.firstChild;)t.appendChild(i.removeChild(n))},mergeSiblings:function(){function e(t,e,n){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var i=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(i.push(e),!(e=n?e.getNext():e.getPrevious())||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var o=n?t.getLast():t.getFirst();i.length;)i.shift().move(t,!n);e.moveChildren(t,!n),e.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:(a=function(t,e){return this.$.setAttribute(t,e),this},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,e){return"class"==t?this.$.className=e:"style"==t?this.$.style.cssText=e:"tabindex"==t?this.$.tabIndex=e:"checked"==t?this.$.checked=e:"contenteditable"==t?a.call(this,"contentEditable",e):a.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,e){if("src"==t&&e.match(/^http:\/\//))try{a.apply(this,arguments)}catch(n){}else a.apply(this,arguments);return this}:a),setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:(t=function(t){this.$.removeAttribute(t)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:t),removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t=t||this.getAttributes())t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){if((i=this.$.style
).removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)i.removeProperty?i.removeProperty(t):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var e,n=["top","left","right","bottom"];"border"==t&&(e=["color","style","width"]);for(var i=[],o=0;o<n.length;o++)if(e)for(var r=0;r<e.length;r++)i.push([t,n[o],e[r]].join("-"));else i.push([t,n[o]].join("-"));for(t=0;t<i.length;t++)this.removeStyle(i[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(t=Math.round(100*t),this.setStyle("filter",100<=t?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t=this.getElementsByTag("*"),e=0,n=t.count();e<n;e++)t.getItem(e).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,n=0,i=this.getDocument(),o=i.getBody(),r="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(e+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(e+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)e-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();l=(a=(c=l).$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||o.$.clientTop||0,c=s.clientLeft||o.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=i.getDocumentElement().contains(this),i=i.getBody().contains(this),u=r&&i||!r&&u),u&&(n=CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(e=o.$.scrollLeft||s.scrollLeft,o.$.scrollTop||s.scrollTop):(e=(n=r?o.$:s).scrollLeft,n.scrollTop),e=a.left+e-c,n=a.top+n-l)}return t&&(a=this.getWindow(),l=t.getWindow(),!a.equals(l)&&a.$.frameElement&&(e+=(t=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(t)).x,n+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||r||(e+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:e,y:n}},scrollIntoView:function(t){var e=this.getParent();if(e)do{if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var n=e.getWindow();try{var i=n.$.frameElement;i&&(e=new CKEDITOR.dom.element(i))}catch(o){}}}while(e=e.getParent())},scrollIntoParent:function(n,t,e){function i(t,e){/body|html/.test(n.getName())?n.getWindow().$.scrollBy(t,e):(n.$.scrollLeft+=t,n.$.scrollTop+=e)}function o(t,e){var n={x:0,y:0};if(!t.is(u?"body":"html")){var i=t.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=t.getWindow()).equals(e)||(i=o(CKEDITOR.dom.element.get(i.$.frameElement),e),n.x+=i.x,n.y+=i.y),n}function r(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}var a,s,l,c;!n&&(n=this.getWindow());var u="BackCompat"==(l=n.getDocument()).$.compatMode;n instanceof CKEDITOR.dom.window&&(n=u?l.getBody():l.getDocumentElement()),CKEDITOR.env.webkit&&(l=this.getEditor(!1))&&(l._.previousScrollTop=null),s=o(this,l=n.getWindow());var d=o(n,l),h=this.$.offsetHeight;a=this.$.offsetWidth;var f=n.$.clientHeight,p=n.$.clientWidth;l=s.x-r(this,"left")-d.x||0,c=s.y-r(this,"top")-d.y||0,a=s.x+a+r(this,"right")-(d.x+p)||0,s=s.y+h+r(this,"bottom")-(d.y+f)||0,(c<0||0<s)&&i(0,!0===t?c:!1===t?s:c<0?c:s),e&&(l<0||0<a)&&i(l<0?l:a,0)},setState:function(t,e,n){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document}catch(i){t.src=t.src}return t&&new CKEDITOR.dom.document(t.contentWindow.document)},copyAttributes:function(t,e){var n=this.$.attributes;e=e||{};for(var i=0;i<n.length;i++){var o,r=n[i],a=r.nodeName.toLowerCase();a in e||("checked"==a&&(o=this.getAttribute(a))?t.setAttribute(a,o):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(o=this.getAttribute(a))&&(o=r.nodeValue),t.setAttribute(a,o)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument();t=new CKEDITOR.dom.element(t,e),this.copyAttributes(t),this.moveChildren(t),this.getParent(!0)&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(){function n(t,e){var n=t.childNodes;if(0<=e&&e<n.length)return n[e]}return function(t){var e=this.$;if(t.slice)for(t=t.slice();0<t.length&&e;)e=n(e,t.shift());else e=n(e,t);return e?new CKEDITOR.dom.node(e):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()})},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(!1===e?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(t){var e,n,i,o=CKEDITOR.instances;for(e in t=t||void 0===t,o)if((n=o[e]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!t&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(t){var e=o(this);return t=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(i(this,t))),e(),t},findOne:function(t){var e=o(this);return t=this.$.querySelector(i(this,t)),e(),t?new CKEDITOR.dom.element(t):null},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.getChildren();for(var o=0;o<n.count();o++)(i=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}}});var u={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,n){"number"==typeof e&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=r.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(n-=r.call(this,t)),n}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){(t=t.$).parentNode.insertBefore(this.$,t.nextSibling)},getHtml:function(){var t=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(t),t.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function i(t,e){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var r,a=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,u=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var d=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(t,e){return!(e&&d.equals(t)||h&&t.equals(h)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}if(t&&!this._.guardRTL){var f=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),p=o.type==CKEDITOR.NODE_ELEMENT?a?o.getChild(a-1):null:o.getPrevious();this._.guardRTL=function(t,e){return!(e&&f.equals(t)||p&&t.equals(p)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}var m=t?this._.guardRTL:this._.guardLTR;for(r=l?function(t,e){return!1!==m(t,e)&&l(t,e)}:m,this.current?i=this.current[u](!1,c,r):(t?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===r(i,!0)?null:i.getPreviousSourceNode(!0,c,r)):(i=o).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(a))||(i=!1===r(o,!0)?null:o.getNextSourceNode(!0,c,r))),i&&!1===r(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(e&&this.evaluator)return!1}else if(!e)return i;i=i[u](!1,c,r)}return this.end(),this.current=null}function t(t){for(var e,n=null;e=i.call(this,t);)n=e;return n}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return i.call(this)},previous:function(){return i.call(this,1)},checkForward:function(){return!1!==i.call(this,0,1)},checkBackward:function(){return!1!==i.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var e={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},n={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in n||!e[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(i,o){function r(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(t){var e,n;return e=t&&t.type!=CKEDITOR.NODE_ELEMENT&&(n=t.getParent())&&r(n),e=i?e:e||r(t),!!(o^e)}},CKEDITOR.dom.walker.whitespaces=function(n){return function(t){var e;return t&&t.type==CKEDITOR.NODE_TEXT&&(e=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(n^e)}},CKEDITOR.dom.walker.invisible=function(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(t){return t=n(t)?1:(t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),t.$.offsetWidth<=i),!!(e^t)}},CKEDITOR.dom.walker.nodeType=function(e,n){return function(t){return!!(n^t.type==e)}},CKEDITOR.dom.walker.bogus=function(n){function i(t){return!r(t)&&!a(t)}return function(t){var e=CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText());return e&&(e=t.getParent(),t=t.getNext(i),e=e.isBlockBoundary()&&(!t||t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())),!!(n^e)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,r=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(t){return a(t)||r(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=r(t)||a(t)||s(t),!!(e^t)}};var c=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(i){return function(t){for(var e=0,n=t.getChildCount();e<n;++e)if(!c(t.getChild(e)))return!!i;return!i}};var u=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(t){var e,n={};for(e in t)CKEDITOR.dtd[e]["#"]&&(n[e]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=!c(t)&&!!(t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(d)&&u(t))),!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){for(var t=this;t=t.getPreviousSourceNode(),l(t););return!(!t||!(CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText())))&&t}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},function(){function n(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset}function i(n,t,e,i,r){function o(t,e,n,i){var o=n?t.getPrevious():t.getNext();return i&&l||(u||i?e.append(t.clone(!0,r),n):(t.remove(),c&&e.append(t,n))),o}function a(){var t,e,n,i=Math.min(D.length,O.length);for(t=0;t<i;t++)if(e=D[t],n=O[t],!e.equals(n))return t;return t-1}function s(){var t=I-1,e=f&&p&&!v.equals(y);t<k-1||t<w-1||e?(e?n.moveToPosition(y,CKEDITOR.POSITION_BEFORE_START):w==t+1&&h?n.moveToPosition(O[t],CKEDITOR.POSITION_BEFORE_END):n.moveToPosition(O[t+1],CKEDITOR.POSITION_BEFORE_START),i&&(t=D[t+1])&&t.type==CKEDITOR.NODE_ELEMENT&&((e=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',n.document)).insertAfter(t),t.mergeSiblings(!1),n.moveToBookmark({startNode:e}))):n.collapse(!0)}n.optimizeBookmark();var l=0===t,c=1==t,u=2==t;t=u||c;var d,h,f,p,m,g,v=n.startContainer,y=n.endContainer,b=n.startOffset,E=n.endOffset;if(u&&y.type==CKEDITOR.NODE_TEXT&&(v.equals(y)||v.type===CKEDITOR.NODE_ELEMENT&&v.getFirst().equals(y)))e.append(n.document.createText(y.substring(b,E)));else{y.type==CKEDITOR.NODE_TEXT?u?g=!0:y=y.split(E):0<y.getChildCount()?E>=y.getChildCount()?(y=y.getChild(E-1),h=!0):y=y.getChild(E):p=h=!0,v.type==CKEDITOR.NODE_TEXT?u?m=!0:v.split(b):0<v.getChildCount()?0===b?(v=v.getChild(b),d=!0):v=v.getChild(b-1):f=d=!0;for(var _,T,C,D=v.getParents(),O=y.getParents(),I=a(),k=D.length-1,w=O.length-1,R=e,x=-1,S=I;S<=k;S++){for(C=(T=D[S]).getNext(),S!=k||T.equals(O[S])&&k<w?t&&(_=R.append(T.clone(0,r))):d?o(T,R,!1,f):m&&R.append(n.document.createText(T.substring(b)));C;){if(C.equals(O[S])){x=S;break}C=o(C,R)}R=_}for(R=e,S=I;S<=w;S++)if(C=(e=O[S]).getPrevious(),e.equals(D[S]))t&&(R=R.getChild(0));else{if(S!=w||e.equals(D[S])&&w<k?t&&(_=R.append(e.clone(0,r))):h?o(e,R,!1,p):g&&R.append(n.document.createText(e.substring(0,E))),x<S)for(;C;)C=o(C,R,!0);R=_}u||s()}}function o(){var e=!1,n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!0),o=CKEDITOR.dom.walker.bogus();return function(t){return!(!i(t)&&!n(t))||(o(t)&&!e?e=!0:!(t.type==CKEDITOR.NODE_TEXT&&(t.hasAscendant("pre")||CKEDITOR.tools.trim(t.getText()).length)||t.type==CKEDITOR.NODE_ELEMENT&&!t.is(a)))}}function r(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(t){return!(!i(t)&&!n(t))||(!e&&s(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$removeEmpty))}}function t(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"](function(t){return!e&&u(t)&&(e=t),c(t)&&!(s(t)&&t.equals(e))})}}var a={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},s=CKEDITOR.dom.walker.bogus(),l=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,c=CKEDITOR.dom.walker.editable(),u=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(t){var e=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,2,e,!1,void 0===t||t),e},deleteContents:function(t){this.collapsed||i(this,0,null,t)},extractContents:function(t,e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,1,n,t,void 0===e||e),n},createBookmark:function(t){var e,n,i,o,r=this.collapsed;return(e=this.document.createElement("span")).data("cke-bookmark",1),e.setStyle("display","none"),e.setHtml("&nbsp;"),t&&(i="cke_bm_"+CKEDITOR.tools.getNextNumber(),e.setAttribute("id",i+(r?"C":"S"))),r||((n=e.clone()).setHtml("&nbsp;"),t&&n.setAttribute("id",i+"E"),(o=this.clone()).collapse(),o.insertNode(n)),(o=this.clone()).collapse(!0),o.insertNode(e),n?(this.setStartAfter(e),this.setEndBefore(n)):this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),{startNode:t?i+(r?"C":"S"):e,endNode:t?i+"E":n,serializable:t,collapsed:r}},createBookmark2:function(){function o(t){var e,n=t.container,i=t.offset,o=i;if((e=(e=n).type!=CKEDITOR.NODE_ELEMENT||0===o||o==e.getChildCount()?0:e.getChild(o-1).type==CKEDITOR.NODE_TEXT&&e.getChild(o).type==CKEDITOR.NODE_TEXT)&&(i=(n=n.getChild(i-1)).getLength()),n.type==CKEDITOR.NODE_ELEMENT&&0<i){t:{for(e=n;i--;)if(0<=(o=e.getChild(i).getIndex(!0))){i=o;break t}i=-1}i+=1}if(n.type==CKEDITOR.NODE_TEXT){for(e=n,o=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)o+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=o,n.getText()?i+=e:(o=n.getPrevious(a),e?(i=e,n=o?o.getNext():n.getParent().getFirst()):(n=n.getParent(),i=o?o.getIndex(!0)+1:0))}t.container=n,t.offset=i}function r(t,e){var n=e.getCustomData("cke-fillingChar");if(n){var i=t.container;n.equals(i)&&(t.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,t.offset<=0&&(t.offset=i.getIndex(),t.container=i.getParent()))}}var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(t){var e=this.collapsed,n={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return t&&(o(n),r(n,this.root),e||(o(i),r(i,this.root))),{start:n.container.getAddress(t),end:e?null:i.container.getAddress(t),startOffset:n.offset,endOffset:i.offset,normalized:t,collapsed:e,is2:!0}}}(),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),n=t.startOffset,i=t.end&&this.document.getByAddress(t.end,t.normalized);t=t.endOffset,this.setStart(e,n),i?this.setEnd(i,t):this.collapse(!0)}else e=(n=t.serializable)?this.document.getById(t.startNode):t.startNode,t=n?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,n=this.endContainer,i=this.startOffset,o=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if(i<(t=e.getChildCount()))e=e.getChild(i);else if(t<1)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=(e=new CKEDITOR.dom.node(e)).getNextSourceNode()||e}if(n.type==CKEDITOR.NODE_ELEMENT)if(o<(t=n.getChildCount()))n=n.getChild(o).getPreviousSourceNode(!0);else if(t<1)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return e.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(e=n),{startNode:e,endNode:n}},getCommonAncestor:function(t,e){var n=this.startContainer,i=this.endContainer;n=n.equals(i)?t&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i);return e&&!n.is?n.getParent():n},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!t||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var r=n.split(i);i=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(r,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,e||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i=i?(i>=n.getLength()||n.split(i),n.getIndex()+1):n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(t,e){function n(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}var o=new RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var i=1;case CKEDITOR.ENLARGE_ELEMENT:var r=function(t,e){var n,i;for((n=new CKEDITOR.dom.range(p)).setStart(t,e),n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(h=i!=t?i.getText():i.substring(e),o.test(h))return!1}return!0};if(this.collapsed)break;var a,s,l,c,u,d,h,f=this.getCommonAncestor(),p=this.root,m=!1;d=this.startContainer;var g=this.startOffset;for(d.type==CKEDITOR.NODE_TEXT?(g&&(m=!!(d=!CKEDITOR.tools.trim(d.substring(0,g)).length&&d)),d&&((c=d.getPrevious())||(l=d.getParent()))):(g&&(c=d.getChild(g-1)||d.getLast()),c||(l=d)),l=n(l);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),i?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,u?a=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(d=!1,c.type==CKEDITOR.NODE_COMMENT)c=c.getPrevious();else{if(c.type==CKEDITOR.NODE_TEXT)h=c.getText(),o.test(h)&&(c=null),d=/[\s\ufeff]$/.test(h);else if((c.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else{g=c.$.getElementsByTagName("*");for(var v,y=0;v=g[y++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}}c&&(d=!!h.length)}else c=null;if(d&&(m?u?a=l:l&&this.setStartBefore(l):m=!0),c){if(d=c.getPrevious(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}for(d=this.endContainer,g=this.endOffset,l=c=null,u=m=!1,d.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(d.substring(g)).length?m=!0:(m=!d.getLength(),g==d.getLength()?(c=d.getNext())||(l=d.getParent()):r(d,g)&&(l=d.getParent())):(c=d.getChild(g))||(l=d);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),i?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,u?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(d=!1,c.type==CKEDITOR.NODE_TEXT)h=c.getText(),r(c,0)||(c=null),d=/^[\s\ufeff]/.test(h);else if(c.type==CKEDITOR.NODE_ELEMENT){if((0<c.$.offsetWidth||e&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else for(g=c.$.getElementsByTagName("*"),y=0;v=g[y++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}c&&(d=!!h.length)}else c=null}else d=1;if(d&&m&&(u?s=l:this.setEndAfter(l)),c){if(d=c.getNext(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}a&&s&&(f=a.contains(s)?s:a,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),p=this.root,l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var b,E,_=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),T=null,C=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(T){if(T.equals(t))return void(T=null)}else T=t;else if(T)return;var e=_(t);return e||(b=t),e};i=function(t){var e=C(t);return!e&&t.is&&t.is("br")&&(E=t),e};if(l.guard=C,l=l.lastBackward(),b=b||p,this.setStartAt(b,!b.is("br")&&(!l&&this.checkStartOfBlock()||l&&b.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var D=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(t){return!D(t)&&!O(t)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?i:C,b=T=E=null,l=l.lastForward(),b=b||p,this.setEndAt(b,!l&&this.checkEndOfBlock()||l&&b.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),E&&this.setEndAfter(E)}},shrink:function(n,t,e){var i="boolean"==typeof e?e:!e||"boolean"!=typeof e.shrinkOnBlockBoundary||e.shrinkOnBlockBoundary,o=e&&e.skipBogus;if(!this.collapsed){n=n||CKEDITOR.SHRINK_TEXT;var r=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,u=e=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?r.setStartAfter(a):(r.setStartBefore(a),e=0):r.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?r.setEndAfter(s):(r.setEndAfter(s),u=0):r.setEndBefore(s));r=new CKEDITOR.dom.walker(r);var d,h=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.bogus();return r.evaluator=function(t){return t.type==(n==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},r.guard=function(t,e){return!!(o&&f(t)||h(t))||!(n==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||e&&t.equals(d)||!1===i&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(e||t.type!=CKEDITOR.NODE_ELEMENT||(d=t),!0)},e&&(a=r[n==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(r.reset(),(r=r[n==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!e&&!u)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,n=e.getChild(this.startOffset);n?t.insertBefore(n):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=e,this.endContainer||(this._setEndContainer(t),this.endOffset=e),n(this)},setEnd:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=e,this.startContainer||(this._setStartContainer(t),this.startOffset=e),n(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}n(this)},setEndAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}n(this)},fixBlock:function(t,e){var n=this.createBookmark(),i=this.document.createElement(e);this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var o=i.getBogus();return o&&o.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(t,e){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,r=i.block,a=null;return n.blockLimit.equals(i.blockLimit)?("br"!=t&&(o||(o=this.fixBlock(!0,t),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),r||(r=this.fixBlock(!1,t))),n=o&&this.checkStartOfBlock(),i=r&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(r)&&(i?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_AFTER_END),r=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(r=this.splitElement(o,e||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:r,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:a}):null},splitElement:function(t,e){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,e||!1),i=t.clone(!1,e||!1);return n.appendTo(i),i.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function r(e){return function(t){return!(n(t)||i(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.isEmptyInlineRemoveable()||e.is("table")&&t.is("caption"))}}var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var e,n=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(r(o));)e=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=e;this.moveToBookmark(n)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,e){var n=e==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](t,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=r(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,e=this.startOffset;return CKEDITOR.env.ie&&e&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,e)),l.test(t)&&this.trim(0,1)),this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(e=this.clone()).collapse(!0),e.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(e)).evaluator=o(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,e=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(e)),l.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(e=this.clone()).collapse(!1),e.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),(t=new CKEDITOR.dom.walker(e)).evaluator=o(),t.checkForward()},getPreviousNode:function(t,e,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.previous()},getNextNode:function(t,e,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.next()},checkReadOnly:function(){function n(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if(
"false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}return function(){var t=this.startContainer,e=this.endContainer;return!(n(t,e)&&n(e,t))}}(),moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&l.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var i=t,o=n,r=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(r=i[e?"getLast":"getFirst"](u)),o||r||(r=i[e?"getPrevious":"getNext"](u)),t=r}return!!n},moveToClosestEditablePosition:function(t,e){var n,i,o,r=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return t?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(t,a[e?0:1]):n=this.clone(),t&&!t.is(CKEDITOR.dtd.$block)?r=1:(i=n[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(r=1,(o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,a[e?1:0])),r&&this.moveToRange(n),!!r},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){if((t=this.clone()).optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return n(t)&&e(t)};var i=t.next();return t.reset(),i&&i.equals(t.previous())?i:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:t(),getPreviousEditableNode:t(1),_getTableElement:function(t){t=t||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var e=this.startContainer,n=this.endContainer,i=e.getAscendant("table",!0),o=n.getAscendant("table",!0);return CKEDITOR.env.safari&&i&&n.equals(this.root)?e.getAscendant(t,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(t,!0):i&&o&&(i.equals(o)||i.contains(o)||o.contains(i))?e.getAscendant(t,!0):null},scrollIntoView:function(){var t,e,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(e=o.startContainer.getText(),t=o.startContainer.split(o.startOffset),i.insertAfter(o.startContainer)):o.insertNode(i),i.scrollIntoView(),n&&(o.startContainer.setText(e),t.remove()),i.remove()},getClientRects:function(){function i(t,n){var i,e,o,a=CKEDITOR.tools.array.map(t,function(t){return t}),r=new CKEDITOR.dom.range(n.root);if(n.startContainer instanceof CKEDITOR.dom.element&&(e=0===n.startOffset&&n.startContainer.hasAttribute("data-widget")),n.endContainer instanceof CKEDITOR.dom.element&&(o=(o=n.endOffset===(n.endContainer.getChildCount?n.endContainer.getChildCount():n.endContainer.length))&&n.endContainer.hasAttribute("data-widget")),e&&r.setStart(n.startContainer.getParent(),n.startContainer.getIndex()),o&&r.setEnd(n.endContainer.getParent(),n.endContainer.getIndex()+1),(e||o)&&(n=r),r=n.cloneContents(),r=CKEDITOR.dom.document.prototype.find.call(r,"[data-cke-widget-id]").toArray(),r=CKEDITOR.tools.array.map(r,function(t){var e=n.root.editor;return t=t.getAttribute("data-cke-widget-id"),e.widgets.instances[t].element}))return r=CKEDITOR.tools.array.map(r,function(t){var e;return e=t.getParent().hasClass("cke_widget_wrapper")?t.getParent():t,(i=this.root.getDocument().$.createRange()).setStart(e.getParent().$,e.getIndex()),i.setEnd(e.getParent().$,e.getIndex()+1),(e=i.getClientRects()).widgetRect=t.getClientRect(),e},n),CKEDITOR.tools.array.forEach(r,function(o){function t(i){CKEDITOR.tools.array.forEach(a,function(t,e){var n=CKEDITOR.tools.objectCompare(o[i],t);n||(n=CKEDITOR.tools.objectCompare(o.widgetRect,t)),n&&(Array.prototype.splice.call(a,e,o.length-i,o.widgetRect),r=!0)}),r||(i<a.length-1?t(i+1):a.push(o.widgetRect))}var r;t(0)}),a}function o(t,e,n){var i;return e.collapsed?n.startContainer instanceof CKEDITOR.dom.element?(t=n.checkStartOfBlock(),i=new CKEDITOR.dom.text("\u200b"),t?n.startContainer.append(i,!0):0===n.startOffset?i.insertBefore(n.startContainer.getFirst()):(n=n.startContainer.getChildren().getItem(n.startOffset-1),i.insertAfter(n)),e.setStart(i.$,0),e.setEnd(i.$,0),t=e.getClientRects(),i.remove()):n.startContainer instanceof CKEDITOR.dom.text&&(""===n.startContainer.getText()?(n.startContainer.setText("\u200b"),t=e.getClientRects(),n.startContainer.setText("")):t=[a(n.createBookmark())]):t=[a(n.createBookmark())],t}function r(t,e,n){return t=CKEDITOR.tools.extend({},t),e&&(t=CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(),t)),!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),t}function a(t){var e,n=t.startNode;return t=t.endNode,n.setText("\u200b"),n.removeStyle("display"),t?(t.setText("\u200b"),t.removeStyle("display"),e=[n.getClientRect(),t.getClientRect()],t.remove()):e=[n.getClientRect(),n.getClientRect()],n.remove(),{right:Math.max(e[0].right,e[1].right),bottom:Math.max(e[0].bottom,e[1].bottom),left:Math.min(e[0].left,e[1].left),top:Math.min(e[0].top,e[1].top),width:Math.abs(e[0].left-e[1].left),height:Math.max(e[0].bottom,e[1].bottom)-Math.min(e[0].top,e[1].top)}}return void 0!==this.document.getSelection?function(e){var t,n=this.root.getDocument().$.createRange();return n.setStart(this.startContainer.$,this.startOffset),n.setEnd(this.endContainer.$,this.endOffset),(t=i(t=n.getClientRects(),this)).length||(t=o(t,n,this)),CKEDITOR.tools.array.map(t,function(t){return r(t,e,this)},this)}:function(t){return[r(a(this.createBookmark()),t,this)]}}(),_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t},_find:function(t,e){var n,i,o,r,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(i=a.find(t),n=0;n<i.count();n++)a=i.getItem(n),(e||!a.isReadOnly())&&(o=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),r=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),o&&r&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(t){return CKEDITOR.tools.array.reduce(t,function(t,e){var n=t[t.length-1],i=!1;if((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(e.root),r=(i=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(e.startContainer,e.startOffset),o=i.next();r(o)||e.endContainer.equals(o);)o=i.next();i=!o}return i?n.setEnd(e.endContainer,e.endOffset):t.push(e),t},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function t(t){arguments.length<1||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function r(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function f(t,e,n,i){t:{null==i&&(i=r(n));for(var o;o=i.shift();)if(o.getDtd().p){i={element:o,remaining:i};break t}i=null}return i?(o=CKEDITOR.filter.instances[i.element.data("cke-filter")])&&!o.check(e)?f(t,e,n,i.remaining):((e=new CKEDITOR.dom.range(i.element)).selectNodeContents(i.element),(e=e.createIterator()).enlargeBr=t.enlargeBr,e.enforceRealBlocks=t.enforceRealBlocks,e.activeFilter=e.filter=o,t._.nestedEditable={element:i.element,container:n,remaining:i.remaining,iterator:e},1):0}function p(t,e,n){return!!e&&((t=t.clone()).collapse(!n),t.checkBoundaryOfElement(e,n?CKEDITOR.START:CKEDITOR.END))}var m=/^[\r\n\t ]+$/,g=CKEDITOR.dom.walker.bookmark(!1,!0),e=CKEDITOR.dom.walker.whitespaces(!0),v=function(t){return g(t)&&e(t)},y={dd:1,dt:1,li:1};t.prototype={getNextParagraph:function(t){var e,n,i,o,r;if(t=t||"p",this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,e;if(this.activeFilter=this.filter,f(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var a=this.range.clone();n=a.startPath();var s=a.endPath(),l=!a.collapsed&&p(a,n.block),c=!a.collapsed&&p(a,s.block,1);a.shrink(CKEDITOR.SHRINK_ELEMENT,!0),l&&a.setStartAt(n.block,CKEDITOR.POSITION_BEFORE_END),c&&a.setEndAt(s.block,CKEDITOR.POSITION_AFTER_START),n=a.endContainer.hasAscendant("pre",!0)||a.startContainer.hasAscendant("pre",!0),a.enlarge(this.forceBrBreak&&!n||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),a.collapsed||(n=new CKEDITOR.dom.walker(a.clone()),s=CKEDITOR.dom.walker.bookmark(!0,!0),n.evaluator=s,this._.nextNode=n.next(),(n=new CKEDITOR.dom.walker(a.clone())).evaluator=s,n=n.previous(),this._.lastNode=n.getNextSourceNode(!0,null,a.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((s=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),s.checkEndOfBlock()&&(s=new CKEDITOR.dom.elementPath(s.endContainer,s.root),this._.lastNode=(s.block||s.blockLimit).getNextSourceNode(!0))),this._.lastNode&&a.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=a.document.createText(""),this._.lastNode.insertAfter(n)),a=null),this._.started=1,n=a}for(s=this._.nextNode,a=this._.lastNode,this._.nextNode=null;s;){l=0,c=s.hasAscendant("pre");var u=s.type!=CKEDITOR.NODE_ELEMENT,d=0;if(u)s.type==CKEDITOR.NODE_TEXT&&m.test(s.getText())&&(u=0);else{var h=s.getName();if(CKEDITOR.dtd.$block[h]&&"false"==s.getAttribute("contenteditable")){f(this,t,e=s);break}if(s.isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){if("br"==h)u=1;else if(!n&&!s.getChildCount()&&"hr"!=h){i=(e=s).equals(a);break}n&&(n.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),"br"!=h&&(this._.nextNode=s)),l=1}else{if(s.getFirst()){n||(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),s=s.getFirst();continue}u=1}}if(u&&!n&&(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),i=(!l||u)&&s.equals(a),n&&!l)for(;!s.getNext(v)&&!i;){if((h=s.getParent()).isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){l=1,u=0,i||h.equals(a),n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);break}u=1,i=(s=h).equals(a),d=1}if(u&&n.setEndAt(s,CKEDITOR.POSITION_AFTER_END),(i=!(s=this._getNextSourceNode(s,d,a)))||l&&n)break}if(!e){if(!n)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;s=(e=new CKEDITOR.dom.elementPath(n.startContainer,n.root)).blockLimit,l={div:1,th:1,td:1},!(e=e.block)&&s&&!this.enforceRealBlocks&&l[s.getName()]&&n.checkStartOfBlock()&&n.checkEndOfBlock()&&!s.equals(n.root)?e=s:!e||this.enforceRealBlocks&&e.is(y)?(e=this.range.document.createElement(t),n.extractContents().appendTo(e),e.trim(),n.insertNode(e),o=r=!0):"li"!=e.getName()?n.checkStartOfBlock()&&n.checkEndOfBlock()||(e=e.clone(!1),n.extractContents().appendTo(e),e.trim(),o=!(r=n.splitBlock()).wasStartOfBlock,r=!r.wasEndOfBlock,n.insertNode(e)):i||(this._.nextNode=e.equals(a)?null:this._getNextSourceNode(n.getBoundaryNodes().endNode,1,a))}return o&&(o=e.getPrevious())&&o.type==CKEDITOR.NODE_ELEMENT&&("br"==o.getName()?o.remove():o.getLast()&&"br"==o.getLast().$.nodeName.toLowerCase()&&o.getLast().remove()),r&&(o=e.getLast())&&o.type==CKEDITOR.NODE_ELEMENT&&"br"==o.getName()&&(!CKEDITOR.env.needsBrFiller||o.getPrevious(g)||o.getNext(g))&&o.remove(),this._.nextNode||(this._.nextNode=i||e.equals(a)||!a?null:this._getNextSourceNode(e,1,a)),e},_getNextSourceNode:function(t,e,n){function i(t){return!(t.equals(n)||t.equals(o))}var o=this.range.root;for(t=t.getNextSourceNode(e,null,i);!g(t);)t=t.getNextSourceNode(e,null,i);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new t(this)}}(),CKEDITOR.command=function(e,n){var i;this.uiItems=[],this.exec=function(t){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),!1===this.fire("exec")||!1!==n.exec.call(this,e,t))},this.refresh=function(t,e){return!(this.readOnly||!t.readOnly)||(this.context&&!e.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),!1===this.fire("refresh",{editor:t,path:e})||n.refresh&&!1!==n.refresh.apply(this,arguments)))},this.checkAllowed=function(t){return t||"boolean"!=typeof i?i=e.activeFilter.checkFeature(this):i},CKEDITOR.tools.extend(this,n,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!n.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return!(this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=t,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function r(t,e,n,i,o){var r,a,s;for(r in t=[],e){a="boolean"==typeof(a=e[r])?{}:"function"==typeof a?{match:a}:S(a),"$"!=r.charAt(0)&&(a.elements=r),n&&(a.featureName=n.toLowerCase());var l=a;l.elements=y(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||!0===l.elements;var c=/\s*,\s*/,u=void 0;for(u in L){l[u]=y(l[u],c)||null;var d=l,h=P[u],f=y(l[P[u]],c),p=l[u],m=[],g=!0,v=void 0;for(v in f?g=!1:f={},p)"!"==v.charAt(0)&&(v=v.slice(1),m.push(v),g=!(f[v]=!0));for(;v=m.pop();)p[v]=p["!"+v],delete p["!"+v];d[h]=!g&&f||null}l.match=l.match||null,i.push(a),t.push(a)}for(e=o.elements,o=o.generic,n=0,i=t.length;n<i;++n){for(c in a=!0===(r=S(t[n])).classes||!0===r.styles||!0===r.attributes,l=r,u=h=c=void 0,L)l[c]=D(l[c]);for(u in d=!0,P){for(p in f=[],p=void 0,h=l[c=P[u]])-1<p.indexOf("*")?f.push(new RegExp("^"+p.replace(/\*/g,".*")+"$")):f.push(p);(h=f).length&&(l[c]=h,d=!1)}if(l.nothingRequired=d,l.noProperties=!(l.attributes||l.classes||l.styles),!0===r.elements||null===r.elements)o[a?"unshift":"push"](r);else for(s in l=r.elements,delete r.elements,l)e[s]?e[s][a?"unshift":"push"](r):e[s]=[r]}}function b(t,e,n,i){if((!t.match||t.match(e))&&(i||c(t,e))&&(t.propertiesOnly||(n.valid=!0),n.allAttributes||(n.allAttributes=s(t.attributes,e.attributes,n.validAttributes)),n.allStyles||(n.allStyles=s(t.styles,e.styles,n.validStyles)),!n.allClasses)){if(t=t.classes,e=e.classes,i=n.validClasses,t)if(!0===t)t=!0;else{for(var o,r=0,a=e.length;r<a;++r)i[o=e[r]]||(i[o]=t(o));t=!1}else t=!1;n.allClasses=t}}function s(t,e,n){if(!t)return!1;if(!0===t)return!0;for(var i in e)n[i]||(n[i]=t(i));return!1}function E(t,e,n){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(n.hadInvalidAttribute=a(t.attributes,e.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=a(t.styles,e.styles)||n.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var i=!1,o=!0===t,r=e.length;r--;)(o||t(e[r]))&&(e.splice(r,1),i=!0);t=i}else t=!1;n.hadInvalidClass=t||n.hadInvalidClass}}function a(t,e){if(!t)return!1;var n,i=!1,o=!0===t;for(n in e)(o||t(n))&&(delete e[n],i=!0);return i}function l(t,e,n){return!(t.disabled||t.customConfig&&!n||!e)&&(t._.cachedChecks={},!0)}function y(t,e){if(!t)return!1;if(!0===t)return t;if("string"==typeof t)return"*"==(t=K(t))||CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return!!t.length&&CKEDITOR.tools.convertArrayToObject(t);var n,i={},o=0;for(n in t)i[n]=t[n],o++;return!!o&&i}function c(t,e){if(t.nothingRequired)return!0;var n,i,o,r;if(o=t.requiredClasses)for(r=e.classes,n=0;n<o.length;++n)if("string"==typeof(i=o[n])){if(-1==CKEDITOR.tools.indexOf(r,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(r,i))return!1;return u(e.styles,t.requiredStyles)&&u(e.attributes,t.requiredAttributes)}function u(t,e){if(!e)return!0;for(var n,i=0;i<e.length;++i)if("string"==typeof(n=e[i])){if(!(n in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,n))return!1;return!0}function d(t){if(!t)return{};t=t.split(/\s*,\s*/).sort();for(var e={};t.length;)e[t.shift()]="cke-test";return e}function h(t){var e,n,i,o,r={},a=1;for(t=K(t);e=t.match(F);)(n=e[2])?(i=f(n,"styles"),o=f(n,"attrs"),n=f(n,"classes")):i=o=n=null,r["$"+a++]={elements:e[1],classes:n,styles:i,attributes:o},t=t.slice(e[0].length);return r}function f(t,e){var n=t.match(i[e]);return n?K(n[1]):null}function _(t){var e=t.styleBackup=t.attributes.style,n=t.classBackup=t.attributes["class"];t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=n?n.split(/\s+/):[])}function p(t,e,n,i){var o,r=0;if(i.toHtml&&(e.name=e.name.replace(M,"$1")),i.doCallbacks&&t.elementCallbacks){t:{for(var a,s=0,l=(o=t.elementCallbacks).length;s<l;++s)if(a=o[s](e)){o=a;break t}o=void 0}if(o)return o}if(i.doTransform&&(o=t._.transformations[e.name])){for(_(e),s=0;s<o.length;++s)O(t,e,o[s]);T(e)}if(i.doFilter){t:{s=e.name,t=(l=t._).allowedRules.elements[s],o=l.allowedRules.generic,s=l.disallowedRules.elements[s],l=l.disallowedRules.generic,a=i.skipRequired;var c,u,d={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(t||o){if(_(e),s)for(c=0,u=s.length;c<u;++c)if(!1===E(s[c],e,d)){t=null;break t}if(l)for(c=0,u=l.length;c<u;++c)E(l[c],e,d);if(t)for(c=0,u=t.length;c<u;++c)b(t[c],e,d,a);if(o)for(c=0,u=o.length;c<u;++c)b(o[c],e,d,a);t=d}else t=null}if(!t||!t.valid)return n.push(e),1;u=t.validAttributes;var h=t.validStyles;o=t.validClasses;s=e.attributes;var f=e.styles;l=e.classes;a=e.classBackup;var p,m,g=e.styleBackup,v=[],y=(d=[],/^data-cke-/);if(c=!1,delete s.style,delete s["class"],delete e.classBackup,delete e.styleBackup,!t.allAttributes)for(p in s)u[p]||y.test(p)&&(p==(m=p.replace(/^data-cke-saved-/,""))||u[m])||(delete s[p],c=!0);if(!t.allStyles||t.hadInvalidStyle){for(p in f)t.allStyles||h[p]?v.push(p+":"+f[p]):c=!0;v.length&&(s.style=v.sort().join("; "))}else g&&(s.style=g);if(!t.allClasses||t.hadInvalidClass){for(p=0;p<l.length;++p)(t.allClasses||o[l[p]])&&d.push(l[p]);d.length&&(s["class"]=d.sort().join(" ")),a&&d.length<a.split(/\s+/).length&&(c=!0)}else a&&(s["class"]=a);if(c&&(r=1),!i.skipFinalValidation&&!C(e))return n.push(e),1}return i.toHtml&&(e.name=e.name.replace($,"cke:$1")),r}function t(t){var e,n=[];for(e in t)-1<e.indexOf("*")&&n.push(e.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}function T(t){var e,n=t.attributes;delete n.style,delete n["class"],(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(n.style=e),t.classes.length&&(n["class"]=t.classes.sort().join(" "))}function C(t){switch(t.name){case"a":if(!(t.children.length||t.attributes.name||t.attributes.id))return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function D(e){if(!e)return!1;if(!0===e)return!0;var n=t(e);return function(t){return t in e||n&&t.match(n)}}function m(){return new CKEDITOR.htmlParser.element("br")}function g(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||x.$block[t.name])}function v(t,e,n){var i=t.name;if(x.$empty[i]||!t.children.length)"hr"==i&&"br"==e?t.replaceWith(m()):(t.parent&&n.push({check:"it",el:t.parent}),t.remove());else if(x.$block[i]||"tr"==i)if("br"==e)t.previous&&!g(t.previous)&&(e=m()).insertBefore(t),t.next&&!g(t.next)&&(e=m()).insertAfter(t),t.replaceWithChildren();else{var o;i=t.children;t:{o=x[e];for(var r,a=0,s=i.length;a<s;++a)if((r=i[a]).type==CKEDITOR.NODE_ELEMENT&&!o[r.name]){o=!1;break t}o=!0}if(o)t.name=e,t.attributes={},n.push({check:"parent-down",el:t});else{var l,c;for(a=(o=t.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=i.length;0<s;)r=i[--s],a&&(r.type==CKEDITOR.NODE_TEXT||r.type==CKEDITOR.NODE_ELEMENT&&x.$inline[r.name])?(l||((l=new CKEDITOR.htmlParser.element(e)).insertAfter(t),n.push({check:"parent-down",el:l})),l.add(r,0)):(l=null,c=x[o.name]||x.span,r.insertAfter(t),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r.type!=CKEDITOR.NODE_ELEMENT||c[r.name]||n.push({check:"el-up",el:r}));t.remove()}}else i in{style:1,script:1}?t.remove():(t.parent&&n.push({check:"it",el:t.parent}),t.replaceWithChildren())}function O(t,e,n){var i,o;for(i=0;i<n.length;++i)if(!((o=n[i]).check&&!t.check(o.check,!1)||o.left&&!o.left(e))){o.right(e,N);break}}function n(t,e){var n,i,o,r,a=e.getDefinition(),s=a.attributes,l=a.styles;if(t.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),o=t.classes.join("|");r=a.pop();)if(-1==o.indexOf(r))return!1}else if(t.attributes[n]!=s[n])return!1;for(i in l)if(t.styles[i]!=l[i])return!1;return!0}function I(t,n){var e,i;return"string"==typeof t?e=t:i=t instanceof CKEDITOR.style?t:(e=t[0],t[1]),[{element:e,left:i,right:function(t,e){e.transform(t,n)}}]}function k(e){return function(t){return n(t,e)}}function w(n){return function(t,e){e[n](t)}}var o,R,x=CKEDITOR.dtd,S=CKEDITOR.tools.copy,K=CKEDITOR.tools.trim,A=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t,e){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};var n=(CKEDITOR.filter.instances[this.id]=this).editor=t instanceof CKEDITOR.editor?t:null;if(n&&!e){this.customConfig=!0;var i=n.config.allowedContent;!0===i?this.disabled=!0:(i||(this.customConfig=!1),this.allow(i,"config",1),this.allow(n.config.extraAllowedContent,"extra",1),this.allow(A[n.enterMode]+" "+A[n.shiftEnterMode],"default",1),this.disallow(n.config.disallowedContent))}else this.customConfig=!1,this.allow(e||t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,e,n){if(!l(this,t,n))return!1;var i,o;if("string"==typeof t)t=h(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),e,n);i=t.getDefinition(),t={},n=i.attributes,t[i.element]=i={styles:i.styles,requiredStyles:i.styles&&CKEDITOR.tools.objectKeys(i.styles)},n&&(n=S(n),i.classes=n["class"]?n["class"].split(/\s+/):null,i.requiredClasses=i.classes,delete n["class"],i.attributes=n,i.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n))}else if(CKEDITOR.tools.isArray(t)){for(i=0;i<t.length;++i)o=this.allow(t[i],e,n);return o}return r(this,t,e,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,a,e,n){if(this.disabled)return!1;var s,i,o,l=this,c=[],u=this.editor&&this.editor.config.protectedSource,d=!1,h={doFilter:!e,doTransform:!0,doCallbacks:!0,toHtml:a};for(t.forEach(function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!a||"span"!=t.name||!~CKEDITOR.tools.objectKeys(t.attributes).join("|").indexOf("data-cke-"))if(1&(s=p(l,t,c,h)))d=!0;else if(2&s)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var e;t:{var n,i,o,r=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));if(e=[],u)for(i=0;i<u.length;++i)if((o=r.match(u[i]))&&o[0].length==r.length){e=!0;break t}1==(r=CKEDITOR.htmlParser.fragment.fromHtml(r)).children.length&&(n=r.children[0]).type==CKEDITOR.NODE_ELEMENT&&p(l,n,e,h),e=!e.length}e||c.push(t)}},null,!0),c.length&&(d=!0),t=[],n=A[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];e=c.pop();)e.type==CKEDITOR.NODE_ELEMENT?v(e,n,t):e.remove();for(;i=t.pop();)if((e=i.el).parent)switch(o=x[e.parent.name]||x.span,i.check){case"it":x.$removeEmpty[e.name]&&!e.children.length?v(e,n,t):C(e)||v(e,n,t);break;case"el-up":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||v(e,n,t);break;case"parent-down":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||v(e.parent,n,t)}return d},checkFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!l(this,t,!0)&&("string"==typeof t&&(t=h(t)),r(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(t){if(!this.disabled&&t){var e,n,i,o=[];for(e=0;e<t.length&&!i;++e)("string"==typeof(n=t[e])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(e=0;e<t.length;++e)o.push(I(t[e],i));this.addTransformations(o)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),!t.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(t.requiredContent))},addTransformations:function(t){var e,n;if(!this.disabled&&t){var i,o=this._.transformations;for(i=0;i<t.length;++i){e=t[i];var r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0;for(n=[],a=0;a<e.length;++a)u="string"==typeof(s=e[a])?(l=(s=s.split(/\s*:\s*/))[0],c=null,s[1]):(l=s.check,c=s.left,s.right),r||(r=(r=s).element?r.element:l?l.match(/^([a-z0-9]+)/i)[0]:r.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=k(c)),n.push({check:l==r?null:l,left:c,right:"string"==typeof u?w(u):u});o[e=r]||(o[e]=[]),o[e].push(n)}}},check:function(t,e,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var i=t.length;i--;)if(this.check(t[i],e,n))return!0;return!1}var o,r;if("string"==typeof t){if((r=t+"<"+(!1===e?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[r];var a=(o=h(t).$1).styles;i=o.classes;o.name=o.elements,o.classes=i=i?i.split(/\s*,\s*/):[],o.styles=d(a),o.attributes=d(o.attributes),o.children=[],i.length&&(o.attributes["class"]=i.join(" ")),a&&(o.attributes.style=CKEDITOR.tools.writeCssText(o.styles))}else a=(o=t.getDefinition()).styles,i=o.attributes||{},a&&!CKEDITOR.tools.isEmpty(a)?(a=S(a),i.style=CKEDITOR.tools.writeCssText(a,!0)):a={},o={name:o.element,attributes:i,classes:i["class"]?i["class"].split(/\s+/):[],styles:a,children:[]};a=CKEDITOR.tools.clone(o);var s,l=[];if(!1!==e&&(s=this._.transformations[o.name])){for(i=0;i<s.length;++i)O(this,o,s[i]);T(o)}return p(this,a,l,{doFilter:!0,doTransform:!1!==e,skipRequired:!n,skipFinalValidation:!n}),0<l.length?n=!1:((e=o.attributes["class"])&&(o.attributes["class"]=o.attributes["class"].split(" ").sort().join(" ")),n=CKEDITOR.tools.objectCompare(o.attributes,a.attributes,!0),e&&(o.attributes["class"]=e)),"string"==typeof t&&(this._.cachedChecks[r]=n),n},getAllowedEnterMode:(o=["p","div","br"],R={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR},function(t,e){var n,i=o.slice();if(this.check(A[t]))return t;for(e||(i=i.reverse());n=i.pop();)if(this.check(n))return R[n];return CKEDITOR.ENTER_BR}),clone:function(){var t=new CKEDITOR.filter,e=CKEDITOR.tools.clone;return t.allowedContent=e(this.allowedContent),t._.allowedRules=e(this._.allowedRules),t.disallowedContent=e(this.disallowedContent),t._.disallowedRules=e(this._.disallowedRules),t._.transformations=e(this._.transformations),t.disabled=this.disabled,t.editor=this.editor,t},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var N,L={styles:1,attributes:1,classes:1},P={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},F=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,i={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},M=/^cke:(object|embed|param)$/,$=/^(object|embed|param)$/;N=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,n){if(!((n=n||e)in t.styles)){var i=t.attributes[e];i&&(/^\d+$/.test(i)&&(i+="px"),t.styles[n]=i)}delete t.attributes[e]},lengthToAttribute:function(t,e,n){if(!((n=n||e)in t.attributes)){var i=t.styles[e],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?t.attributes[n]=o[1]:"cke-test"==i&&(t.attributes[n]="cke-test")}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;"left"!=e&&"right"!=e||(t.styles["float"]=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles["float"];"left"!=e&&"right"!=e||(t.attributes.align=e)}delete t.styles["float"]},splitBorderShorthand:function(t){if(t.styles.border){var e=CKEDITOR.tools.style.parse.border(t.styles.border);e.color&&(t.styles["border-color"]=e.color),e.style&&(t.styles["border-style"]=e.style),e.width&&(t.styles["border-width"]=e.width),delete t.styles.border}},listTypeToStyle:function(t){if(t.attributes.type)switch(t.attributes.type){case"a":t.styles["list-style-type"]="lower-alpha";break;case"A":t.styles["list-style-type"]="upper-alpha";break;case"i":t.styles["list-style-type"]="lower-roman";break;case"I":t.styles["list-style-type"]="upper-roman";break;case"1":t.styles["list-style-type"]="decimal";break;default:t.styles["list-style-type"]=t.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:n,transform:function(t,e){if("string"==typeof e)t.name=e;else{var n,i,o,r,a=e.getDefinition(),s=a.styles,l=a.attributes;for(n in t.name=a.element,l)if("class"==n)for(a=t.classes.join("|"),o=l[n].split(/\s+/);r=o.pop();)-1==a.indexOf(r)&&t.classes.push(r);else t.attributes[n]=l[n];for(i in s)t.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance
)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;t||!n?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,e.call(this)},n,this)}},add:function(t,e){if(!(n=t.getCustomData("focusmanager"))||n!=this){n&&n.remove(t);var n="focus",i="blur";e&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(n,o.focus,this),t.on(i,o.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",o)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}},CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},f=function(t){var e=(t=t.data).getKeystroke(),n=this.keystrokes[e],i=this._.editor;return(h=!1===i.fire("key",{keyCode:e,domEvent:t}))||(n&&(h=!1!==i.execCommand(n,{from:"keystrokeHandler"})),h||(h=!!this.blockedKeystrokes[e])),h&&t.preventDefault(!0),!h},p=function(t){h&&(h=!1,t.data.preventDefault(!0))},CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",f,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",p,this)}},CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,n){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var i=this;e=function(){i[t].dir=i.rtl[t]?"rtl":"ltr",n(t,i[t])},this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var n=this.languages,i=(o=(e=e||navigator.userLanguage||navigator.language||t).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(t){return t},i||t}},CKEDITOR.scriptLoader=(m={},g={},{load:function(t,i,e,n){var o="string"==typeof t;o&&(t=[t]),e||(e=CKEDITOR);var r=t.length,a=[],s=[],l=function(t){i&&(o?i.call(e,t):i.call(e,a,s))};if(0===r)l(!0);else{var c=function(t,e){(e?a:s).push(t),--r<=0&&(n&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),l(e))},u=function(t,e){m[t]=1;var n=g[t];delete g[t];for(var i=0;i<n.length;i++)n[i](t,e)},d=function(t){if(m[t])c(t,!0);else{var e=g[t]||(g[t]=[]);if(e.push(c),!(1<e.length)){var n=new CKEDITOR.dom.element("script");n.setAttributes({type:"text/javascript",src:t}),i&&(CKEDITOR.env.ie&&(CKEDITOR.env.version<=8||CKEDITOR.env.ie9Compat)?n.$.onreadystatechange=function(){"loaded"!=n.$.readyState&&"complete"!=n.$.readyState||(n.$.onreadystatechange=null,u(t,!0))}:(n.$.onload=function(){setTimeout(function(){u(t,!0)},0)},n.$.onerror=function(){u(t,!1)})),n.appendTo(CKEDITOR.document.getHead())}}};n&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var h=0;h<r;h++)d(t[h])}},queue:function(){function i(){var t;(t=o[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}var o=[];return function(t,e){var n=this;o.push({scriptUrl:t,callback:function(){e&&e.apply(this,arguments),o.shift(),i.call(n)}}),1==o.length&&i.call(this)}}()}),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.');var n=this.registered[t]=e||{};return n.name=t,n.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,n){t=t.split(",");for(var i=0;i<t.length;i++){var o=t[i];n||(e=e.replace(/[^\/]+$/,function(t){return n=t,""})),this.externals[o]={dir:e,file:n||this.fileName+".js"}}},load:function(t,a,s){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var l=this.loaded,e=this.registered,n=[],c={},u={},i=0;i<t.length;i++){var o=t[i];if(o)if(l[o]||e[o])u[o]=this.get(o);else{var r=this.getFilePath(o);n.push(r),r in c||(c[r]=[]),c[r].push(o)}}CKEDITOR.scriptLoader.load(n,function(t,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+c[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var n=0;n<t.length;n++)for(var i=c[t[n]],o=0;o<i.length;o++){var r=i[o];u[r]=this.get(r),l[r]=1}a.call(s,u)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var d={};return function(t,s,l){var c={},u=function(t){e.call(this,t,function(t){CKEDITOR.tools.extend(c,t);var e,n=[];for(e in t){var i=t[e],o=i&&i.requires;if(!d[e]){if(i.icons)for(var r=i.icons.split(","),a=r.length;a--;)CKEDITOR.skin.addIcon(r[a],i.path+"icons/"+(CKEDITOR.env.hidpi&&i.hidpi?"hidpi/":"")+r[a]+".png");d[e]=1}if(o)for(o.split&&(o=o.split(",")),i=0;i<o.length;i++)c[o[i]]||n.push(o[i])}if(n.length)u.call(this,n);else{for(e in c)(i=c[e]).onLoad&&!i.onLoad._called&&(!1===i.onLoad()&&delete c[e],i.onLoad._called=1);s&&s.call(l||window,c)}},this)};u.call(this,t)}}),CKEDITOR.plugins.setLang=function(t,e,n){var i=this.get(t);t=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,e)&&i.push(e),t[e]=n},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,n){n.name=t.toLowerCase();var i=this.items[t]={type:e,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],n=e&&this._.handlers[e.type],i=e&&e.command&&this.editor.getCommand(e.command);n=n&&n.create.apply(this,e.args);return this.instances[t]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=e.type),n},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,e,n){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!n)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&n==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!o(e,n))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');this.element=e,this.elementMode=n,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||i(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",r),this.on("selectionChange",function(t){s(this,t.data.path)}),this.on("activeFilterChange",function(){s(this,this.elementPath(),!0)}),this.on("mode",r),this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var t=this.createRange();t.selectNodeContents(this.editable()),t.shrink(CKEDITOR.SHRINK_ELEMENT,!0),t.collapse(),this.getSelection().selectRanges([t])}this.focus()}}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?c(this,t):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function i(){do{var t="editor"+ ++p}while(CKEDITOR.instances[t]);return t}function o(t,e){return e==CKEDITOR.ELEMENT_MODE_INLINE?t.is(CKEDITOR.dtd.$editable)||t.is("textarea"):e==CKEDITOR.ELEMENT_MODE_REPLACE?!t.is(CKEDITOR.dtd.$nonBodyContent):1}function r(){var t,e=this.commands;for(t in e)a(this,e[t])}function a(t,e){e[e.startDisabled?"disable":t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function s(t,e,n){if(e){var i,o,r=t.commands;for(o in r)i=r[o],(n||i.contextSensitive)&&i.refresh(t,e)}}function l(t){if(!(e=t.config.customConfig))return!1;var e=CKEDITOR.getUrl(e),n=m[e]||(m[e]={});return n.fn?(n.fn.call(t,t.config),CKEDITOR.getUrl(t.config.customConfig)!=e&&l(t)||t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(e,function(){n.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},l(t)}),!0}function c(e,n){e.on("customConfigLoaded",function(){if(n){if(n.on)for(var t in n.on)e.on(t,n.on[t]);CKEDITOR.tools.extend(e.config,n,!0),delete e.config.on}t=e.config,e.readOnly=!!t.readOnly||(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=t.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:t.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:t.shiftEnterMode,t.skin&&(CKEDITOR.skinName=t.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),u(e)}),n&&null!=n.customConfig&&(e.config.customConfig=n.customConfig),l(e)||e.fireOnce("customConfigLoaded")}function u(t){CKEDITOR.skin.loadPart("editor",function(){e(t)})}function e(i){CKEDITOR.lang.load(i.config.language,i.config.defaultLanguage,function(t,e){var n=i.config.title;i.langCode=t,i.lang=CKEDITOR.tools.prototypedCopy(e),i.title="string"==typeof n||!1===n?n:[i.lang.editor,i.name].join(", "),i.config.contentsLangDirection||(i.config.contentsLangDirection=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.element.getDirection(1):i.lang.dir),i.fire("langLoaded"),d(i)})}function d(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),n(e)})}function n(u){function t(t){return t?(CKEDITOR.tools.isArray(t)&&(t=t.join(",")),t.replace(/\s/g,"")):""}var d=u.config,e=t(d.plugins),n=t(d.extraPlugins),i=t(d.removePlugins);if(n){var o=new RegExp("(?:^|,)(?:"+n.replace(/,/g,"|")+")(?=,|$)","g");e=(e=e.replace(o,""))+","+n}if(i){var h=new RegExp("(?:^|,)(?:"+i.replace(/,/g,"|")+")(?=,|$)","g");e=e.replace(h,"")}CKEDITOR.env.air&&(e+=",adobeair"),CKEDITOR.plugins.load(e.split(","),function(t){var o=[],r=[],e=[];for(var n in u.plugins=CKEDITOR.tools.extend({},u.plugins,t),t){var i,a=t[n],s=a.lang,l=null,c=a.requires;if(CKEDITOR.tools.isArray(c)&&(c=c.join(",")),c&&(i=c.match(h)))for(;c=i.pop();)CKEDITOR.error("editor-plugin-required",{plugin:c.replace(",",""),requiredBy:n});s&&!u.lang[n]&&(s.split&&(s=s.split(",")),l=0<=CKEDITOR.tools.indexOf(s,u.langCode)?u.langCode:(l=u.langCode.replace(/-.*/,""))!=u.langCode&&0<=CKEDITOR.tools.indexOf(s,l)?l:0<=CKEDITOR.tools.indexOf(s,"en")?"en":s[0],a.langEntries&&a.langEntries[l]?(u.lang[n]=a.langEntries[l],l=null):e.push(CKEDITOR.getUrl(a.path+"lang/"+l+".js"))),r.push(l),o.push(a)}CKEDITOR.scriptLoader.load(e,function(){for(var t=["beforeInit","init","afterInit"],e=0;e<t.length;e++)for(var n=0;n<o.length;n++){var i=o[n];0===e&&r[n]&&i.lang&&i.langEntries&&(u.lang[i.name]=i.langEntries[r[n]]),i[t[e]]&&i[t[e]](u)}for(u.fireOnce("pluginsLoaded"),d.keystrokes&&u.setKeystroke(u.config.keystrokes),n=0;n<u.config.blockedKeystrokes.length;n++)u.keystrokeHandler.blockedKeystrokes[u.config.blockedKeystrokes[n]]=1;u.status="loaded",u.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,u)})})}function h(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData();return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}function f(t,e){function n(t){var e=t.startContainer,n=t.endContainer;return!(!e.is||!(e.is("tr")||e.is("td")&&e.equals(n)&&t.endOffset===e.getChildCount()))}function i(t){var e=t.startContainer;return e.is("tr")?t.cloneContents():e.clone(!0)}for(var o,r,a,s=new CKEDITOR.dom.documentFragment,l=0;l<t.length;l++){var c=t[l],u=c.startContainer.getAscendant("tr",!0);n(c)?(o||((o=u.getAscendant("table").clone()).append(u.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),r&&r.equals(u)||(a=(r=u).clone(),o.append(a)),a.append(i(c))):s.append(c.cloneContents())}return o?s:e.getHtmlFromRange(t[0])}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var p=0,m={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(this[i])return CKEDITOR.warn("editor-plugin-conflict",{plugin:t,replacedWith:i}),!0}return!1}},addCommand:function(t,e){e.name=t.toLowerCase();var n=e instanceof CKEDITOR.command?e:new CKEDITOR.command(this,e);return this.mode&&a(this,n),this.commands[t]=n},_attachToForm:function(){function e(t){n.updateElement(),n._.required&&!i.getValue()&&!1===n.fire("required")&&t.data.preventDefault()}function t(t){return!!(t&&t.call&&t.apply)}var n=this,i=n.element,o=new CKEDITOR.dom.element(i.$.form);i.is("textarea")&&o&&(o.on("submit",e),t(o.$.submit)&&(o.$.submit=CKEDITOR.tools.override(o.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),n.on("destroy",function(){o.removeListener("submit",e)}))},destroy:function(t){var e=CKEDITOR.filter.instances,n=this;this.fire("beforeDestroy"),!t&&h.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(e),function(t){t=e[t],n===t.editor&&t.destroy()}),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(!(t=this.getSelection()))return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var n=this.getCommand(t),i={name:t,commandData:e||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(t){return this.commands[t]},getData:function(t){!t&&this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},!t&&this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,n){var i=!0,o=e;e&&"object"==typeof e&&(n=e.internal,o=e.callback,i=!e.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",function(t){!n&&i&&this.fire("saveSnapshot"),o&&o.call(t.editor)}),t={dataValue:t},!n&&this.fire("setData",t),this._.data=t.dataValue,!n&&this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e,n){this.fire("insertHtml",{dataValue:t,mode:e,range:n})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},getSelectedHtml:function(t){var e=this.editable(),n=(n=this.getSelection())&&n.getRanges();return e&&n&&0!==n.length?(e=f(n,e),t?e.getHtml():e):null},extractSelectedHtml:function(t,e){var n,i=this.editable(),o=this.getSelection().getRanges(),r=new CKEDITOR.dom.documentFragment;if(!i||0===o.length)return null;for(n=0;n<o.length;n++)r.append(i.extractHtmlFromRange(o[n],e));return e||this.getSelection().selectRanges([o[0]]),t?r.getHtml():r},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return h.call(this)},setKeystroke:function(t){for(var e,n,i=this.keystrokeHandler.keystrokes,o=CKEDITOR.tools.isArray(t)?t:[[].slice.call(arguments,0)],r=o.length;r--;)e=o[r],n=0,CKEDITOR.tools.isArray(e)&&(n=e[1],e=e[0]),n?i[e]=n:delete i[e]},getCommandKeystroke:function(t,e){var n="string"==typeof t?this.getCommand(t):t,i=[];if(n){var o=CKEDITOR.tools.object.findKey(this.commands,n),r=this.keystrokeHandler.keystrokes;if(n.fakeKeystroke)i.push(n.fakeKeystroke);else for(var a in r)r[a]===o&&i.push(a)}return e?i:i[0]||null},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t||(t=this.filter),this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,this.activeEnterMode==t&&this.activeShiftEnterMode==e||(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))},showNotification:function(t){alert(t)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},v=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,y={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(t){for(var e,n,i,o=0;e=this._.htmlPartsRegex.exec(t);)if(o<(n=e.index)&&(o=t.substring(o,n),i?i.push(o):this.onText(o)),o=this._.htmlPartsRegex.lastIndex,!(n=e[1])||(n=n.toLowerCase(),i&&CKEDITOR.dtd.$cdata[n]&&(this.onCDATA(i.join("")),i=null),i))if(i)i.push(e[0]);else if(n=e[3]){if(n=n.toLowerCase(),!/="/.test(n)){var r,a={},s=e[4];if(e=!!e[5],s)for(;r=v.exec(s);){var l=r[1].toLowerCase();r=r[2]||r[3]||r[4]||"",a[l]=!r&&y[l]?l:CKEDITOR.tools.htmlDecodeAttr(r)}this.onTagOpen(n,a,e),!i&&CKEDITOR.dtd.$cdata[n]&&(i=[])}}else(n=e[2])&&this.onComment(n);else this.onTagClose(n);t.length>o&&this.onText(t.substring(o,t.length))}},CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){e?this._.output.push(" />"):this._.output.push(">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("<!--",t,"-->")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,n=CKEDITOR.tools.indexOf(e,this),i=t.previous=this.previous,o=t.next=this.next;i&&(i.next=t),o&&(o.previous=t),(e[n]=t).parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t),i=t.next;e.splice(n+1,0,this),this.next=t.next,(this.previous=t).next=this,i&&(i.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t);e.splice(n,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),(t.previous=this).parent=t.parent},getAscendant:function(e){for(var t="function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}},CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var n=this.value;return(n=t.onComment(e,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){if(!(this.value=t.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(t){t.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function y(t){return!t.attributes["data-cke-survive"]&&("a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name])}var b=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),E={ol:1,ul:1},_=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),i={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(t,e,a){function o(t){var e;if(0<f.length)for(var n=0;n<f.length;n++){var i=f[n],o=i.name,r=CKEDITOR.dtd[o],a=m.name&&CKEDITOR.dtd[m.name];a&&!a[o]||t&&r&&!r[t]&&CKEDITOR.dtd[t]?o==m.name&&(l(m,m.parent,1),n--):(e||(s(),e=1),(i=i.clone()).parent=m,m=i,f.splice(n,1),n--)}}function s(){for(;p.length;)l(p.shift(),m)}function r(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,n=t.children.length,i=t.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(i.value))?i.value=e:t.children.length=n-1)}}function l(t,e,n){e=e||m||h;var i=m;void 0===t.previous&&(c(e,t)&&(m=e,d.onTagOpen(a,{}),t.returnPoint=e=m),r(t),y(t)&&!t.children.length||e.add(t),"pre"==t.name&&(v=!1),"textarea"==t.name&&(g=!1)),t.returnPoint?(m=t.returnPoint,delete t.returnPoint):m=n?e:i}function c(t,e){var n,i;if((t==h||"body"==t.name)&&a&&(!t.name||CKEDITOR.dtd[t.name][a]))return(n=e.attributes&&(i=e.attributes["data-cke-real-element-type"])?i:e.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}function u(t,e){return(t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent)&&(t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e)}var d=new CKEDITOR.htmlParser,h=e instanceof CKEDITOR.htmlParser.element?e:"string"==typeof e?new CKEDITOR.htmlParser.element(e):new CKEDITOR.htmlParser.fragment,f=[],p=[],m=h,g="textarea"==h.name,v="pre"==h.name;for(d.onTagOpen=function(t,e,n,i){if((e=new CKEDITOR.htmlParser.element(t,e)).isUnknown&&n&&(e.isEmpty=!0),e.isOptionalClose=i,y(e))f.push(e);else{if("pre"==t)v=!0;else{if("br"==t&&v)return void m.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==t&&(g=!0)}if("br"==t)p.push(e);else{for(;i=(n=m.name)?CKEDITOR.dtd[n]||(m._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):_,!(e.isUnknown||m.isUnknown||i[t]);)if(m.isOptionalClose)d.onTagClose(n);else if(t in E&&n in E)(n=(n=m.children)[n.length-1])&&"li"==n.name||l(n=new CKEDITOR.htmlParser.element("li"),m),!e.returnPoint&&(e.returnPoint=m),m=n;else if(t in CKEDITOR.dtd.$listItem&&!u(t,n))d.onTagOpen("li"==t?"ul":"dl",{},0,1);else if(n in b&&!u(t,n))!e.returnPoint&&(e.returnPoint=m),m=m.parent;else{if(n in CKEDITOR.dtd.$inline&&f.unshift(m),!m.parent){e.isOrphan=1;break}l(m,m.parent,1)}o(t),s(),e.parent=m,e.isEmpty?l(e):m=e}}},d.onTagClose=function(t){for(var e=f.length-1;0<=e;e--)if(t==f[e].name)return void f.splice(e,1);for(var n=[],i=[],o=m;o!=h&&o.name!=t;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=h){for(e=0;e<n.length;e++){var r=n[e];l(r,r.parent)}(m=o)._.isBlockLike&&s(),l(o,o.parent),o==m&&(m=m.parent),f=f.concat(i)}"body"==t&&(a=!1)},d.onText=function(t){if(m._.hasInlineStarted&&!p.length||v||g||0!==(t=CKEDITOR.tools.ltrim(t)).length){var e=m.name,n=e?CKEDITOR.dtd[e]||(m._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):_;!g&&!n["#"]&&e in b?(d.onTagOpen(i[e]||""),d.onText(t)):(s(),o(),v||g||(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),c(m,t)&&this.onTagOpen(a,{},0,1),m.add(t))}},d.onCDATA=function(t){m.add(new CKEDITOR.htmlParser.cdata(t))},d.onComment=function(t){s(),o(),m.add(new CKEDITOR.htmlParser.comment(t))},d.parse(t),s();m!=h;)l(m,m.parent,1);return r(h),h},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var n=0<e?this.children[e-1]:null;if(n){if(t._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(t);n.next=t}t.previous=n,(t.parent=this).children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,n){if(this.childrenFilteredBy!=t.id)for(n=this.getFilterContext(n),e&&!this.parent&&t.onRoot(n,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)!1===this.children[e].filter(t,n)&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,n){var i=this.getFilterContext();for(n&&!this.parent&&e&&e.onRoot(i,this),e&&this.filterChildren(e,!1,i),e=0,i=(n=this.children).length;e<i;e++)n[e].writeHtml(t)},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.children;for(var o=0;o<n.length;o++)(i=n[o]).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}},getFilterContext:function(t){return t||{}}}}(),function(){function a(){this.rules=[]}function i(t,e,n,i){var o,r;for(o in e)(r=t[o])||(r=t[o]=new a),r.add(e[o],n,i)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new a,this.attributeNameRules=new a,this.elementsRules={},this.attributesRules={},this.textRules=new a,this.commentRules=new a,this.rootRules=new a,t&&this.addRules(t,10)},proto:{addRules:function(t,e){var n;"number"==typeof e?n=e:e&&"priority"in e&&(n=e.priority),"number"!=typeof n&&(n=10),"object"!=typeof e&&(e={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,n,e),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,n,e),t.elements&&i(this.elementsRules,t.elements,n,e),t.attributes&&i(this.attributesRules,t.attributes,n,e),t.text&&this.textRules.add(t.text,n,e),t.comment&&this.commentRules.add(t.comment,n,e),t.root&&this.rootRules.add(t.root,n,e)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,n){return this.textRules.exec(t,e,n)},onComment:function(t,e,n){return this.commentRules.exec(t,e,n)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var n,i=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],o=0;o<3;o++)if(n=i[o]){if(!1===(n=n.exec(t,e,this)))return null;if(n&&n!=e)return this.onNode(t,n);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var n=e.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value)):null},onAttribute:function(t,e,n,i){return(n=this.attributesRules[n])?n.exec(t,i,e,this):i}}}),(CKEDITOR.htmlParser.filterRulesGroup=a).prototype={add:function(t,e,n){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:n})},addMany:function(t,e,n){for(var i=[this.findIndex(e),0],o=0,r=t.length;o<r;o++)i.push({value:t[o],priority:e,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(t){for(var e=this.rules,n=e.length-1;0<=n&&t<e[n].priority;)n--;return n+1},exec:function(t,e){var n,i,o,r,a=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(r=0;r<c;r++)if(a&&(n=e.type,i=e.name),o=l[r],!(t.nonEditable&&!o.options.applyToAll||t.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||a&&o&&(o.name!=i||o.type!=n))return o;null!=o&&(s[0]=e=o)}return e},execOnName:function(t,e){for(var n,i=0,o=this.rules,r=o.length;e&&i<r;i++)n=o[i],t.nonEditable&&!n.options.applyToAll||t.nestedEditable&&n.options.excludeNestedEditable||(e=e.replace(n.value[0],n.value[1]));return e}}}(),function(){function n(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("\xa0"):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function n(r,a){return function(t){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e,n,i=[],o=u(t);if(o)for(l(o,1)&&i.push(o);o;)f(o)&&(e=d(o))&&l(e)&&((n=d(e))&&!f(n)?i.push(e):(s(c).insertAfter(e),e.remove())),o=o.previous;for(o=0;o<i.length;o++)i[o].remove();(i=!r||!1!==("function"==typeof a?a(t):a))&&(i=!(!c&&!CKEDITOR.env.needsBrFiller&&t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(!(!c&&!CKEDITOR.env.needsBrFiller&&(7<document.documentMode||t.name in CKEDITOR.dtd.tr||t.name in CKEDITOR.dtd.$listItem))&&(!(i=u(t))||"form"==t.name&&"input"==i.name))),i&&t.add(s(r))}}}function l(t,e){return!(c&&!CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_ELEMENT||"br"!=t.name||t.attributes["data-cke-eol"])||!!(t.type==CKEDITOR.NODE_TEXT&&(n=t.value.match(b))&&(n.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,n.index)).insertBefore(t),t.value=n[0]),!CKEDITOR.env.needsBrFiller&&c&&(!e||t.parent.name in a)||!c&&((n=t.previous)&&"br"==n.name||!n||f(n))));var n}var i,o,r={elements:{}},c="html"==e,a=CKEDITOR.tools.extend({},T);for(i in a)"#"in _[i]||delete a[i];for(i in a)r.elements[i]=n(c,t.config.fillEmptyBlocks);return r.root=n(c,!1),r.elements.br=(o=c,function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=t.attributes;if("data-cke-bogus"in e||"data-cke-eol"in e)delete e["data-cke-bogus"];else{for(e=t.next;e&&h(e);)e=e.next;var n=d(t);!e&&f(t.parent)?p(t.parent,s(o)):f(e)&&n&&!f(n)&&s(o).insertBefore(e
)}}}),r}function r(t,e){return t!=CKEDITOR.ENTER_BR&&!1!==e&&(t==CKEDITOR.ENTER_DIV?"div":"p")}function u(t){for(t=t.children[t.children.length-1];t&&h(t);)t=t.previous;return t}function d(t){for(t=t.previous;t&&h(t);)t=t.previous;return t}function h(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function f(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in T||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function p(t,e){var n=t.children[t.children.length-1];t.children.push(e),e.parent=t,n&&((n.next=e).previous=n)}function t(t){"false"!=(t=t.attributes).contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function e(t){switch((t=t.attributes)["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function a(t){return t.replace(k,function(t,e,n){return"<"+e+n.replace(w,function(t,e){return R.test(e)&&-1==n.indexOf("data-cke-saved-"+e)?" data-cke-saved-"+t+" data-cke-"+CKEDITOR.rnd+"-"+t:t})+">"})}function s(t,e){return t.replace(e,function(t,e,n){return 0===t.indexOf("<textarea")&&(t=e+g(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"})}function l(t){return t.replace(K,function(t,e){return decodeURIComponent(e)})}function c(t){return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(t){return"<!--"+E+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"-->"})}function i(t){return CKEDITOR.tools.array.reduce(t.split(""),function(t,e){var n=e.toLowerCase(),i=e.toUpperCase(),o=m(n);return n!==i&&(o+="|"+m(i)),t+"("+o+")"},"")}function m(t){var e,n=(e=t.charCodeAt(0)).toString(16);for(var i in e={htmlCode:"&#"+e+";?",hex:"&#x0*"+n+";?",entity:{"<":"&lt;",">":"&gt;",":":"&colon;"}[t]})e[i]&&(t+="|"+e[i]);return t}function g(t){return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)})}function v(t,e){var n=e._.dataStore;return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)}).replace(/\{cke_protected_(\d+)\}/g,function(t,e){return n&&n[e]||""})}function y(t,o){var i=[],e=o.config.protectedSource,n=o._.dataStore||(o._.dataStore={id:1}),r=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;e=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(e);t=t.replace(/\x3c!--[\s\S]*?--\x3e/g,function(t){return"<!--{cke_tempcomment}"+(i.push(t)-1)+"-->"});for(var a=0;a<e.length;a++)t=t.replace(e[a],function(t){return t=t.replace(r,function(t,e,n){return i[n]}),/cke_temp(comment)?/.test(t)?t:"<!--{cke_temp}"+(i.push(t)-1)+"-->"});return(t=(t=t.replace(r,function(t,e,n){return"<!--"+E+(e?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"-->"})).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(t){return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(t,e){return n[n.id]=decodeURIComponent(e),"{cke_protected_"+n.id+++"}"})})).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(t,e,n,i){return"<"+e+n+">"+v(g(i),o)+"</"+e+">"})}CKEDITOR.htmlDataProcessor=function(o){var t,e,i=this;this.editor=o,this.dataFilter=t=new CKEDITOR.htmlParser.filter,this.htmlFilter=e=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,t.addRules(C),t.addRules(D,{applyToAll:!0}),t.addRules(n(o,"data"),{applyToAll:!0}),e.addRules(O),e.addRules(I,{applyToAll:!0}),e.addRules(n(o,"html"),{applyToAll:!0}),o.on("toHtml",function(t){var e,n,i=(i=(i=(i=(i=s(i=a(i=s(i=y(i=(i=(t=t.data).dataValue).replace(A,""),o),S)),x)).replace(N,"$1cke:$2")).replace(P,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");e=t.context||o.editable().getName(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==e&&(e="div",i="<pre>"+i+"</pre>",n=1),(e=o.document.createElement(e)).setHtml("a"+i),i=(i=e.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),n&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=g(i=l(i=i.replace(L,"$1$2"))),e=!1!==t.fixForBody&&r(t.enterMode,o.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,t.context,e),e&&(!(n=i).children.length&&CKEDITOR.dtd[n.name][e]&&(e=new CKEDITOR.htmlParser.element(e),n.add(e))),t.dataValue=i},null,null,5),o.on("toHtml",function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&o.fire("dataFiltered")},null,null,6),o.on("toHtml",function(t){t.data.dataValue.filterChildren(i.dataFilter,!0)},null,null,10),o.on("toHtml",function(t){var e=(t=t.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(n),e=n.getHtml(!0),t.dataValue=c(e)},null,null,15),o.on("toDataFormat",function(t){var e=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(e=e.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(e,t.data.context,r(t.data.enterMode,o.config.autoParagraph))},null,null,5),o.on("toDataFormat",function(t){t.data.dataValue.filterChildren(i.htmlFilter,!0)},null,null,10),o.on("toDataFormat",function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)},null,null,11),o.on("toDataFormat",function(t){var e=t.data.dataValue,n=i.writer;n.reset(),e.writeChildrenHtml(n),e=v(e=g(e=n.getHtml(!0)),o),t.data.dataValue=e},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,n,i){var o,r,a,s,l=this.editor;return e&&"object"==typeof e?(o=e.context,n=e.fixForBody,i=e.dontFilter,r=e.filter,a=e.enterMode,s=e.protectedWhitespaces):o=e,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:t,context:o,fixForBody:n,dontFilter:i,filter:r||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(t,e){var n,i,o;return e&&(n=e.context,i=e.filter,o=e.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue}};var b=/(?:&nbsp;|\xa0)$/,E="{cke_protected}",_=CKEDITOR.dtd,o="caption colgroup col thead tfoot tbody".split(" "),T=CKEDITOR.tools.extend({},_.$blockLimit,_.$block),C={elements:{input:t,textarea:t}},D={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(t){if(t.attributes&&t.attributes.src){var e=t.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==e.indexOf("javascript")&&0!==e.indexOf("data")||(t.attributes["data-cke-pa-src"]=t.attributes.src,delete t.attributes.src)}}}},O={elements:{embed:function(t){if((n=t.parent)&&"object"==n.name){var e=n.attributes.width,n=n.attributes.height;e&&(t.attributes.width=e),n&&(t.attributes.height=n)}},a:function(t){var e=t.attributes;if(!(t.children.length||e.name||e.id||t.attributes["data-cke-saved-name"]))return!1}}},I={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in e&&delete e[n[i]]}return t},table:function(t){t.children.slice(0).sort(function(t,e){var n,i;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(n=CKEDITOR.tools.indexOf(o,t.name),i=CKEDITOR.tools.indexOf(o,e.name)),-1<n&&-1<i&&n!=i||(n=t.parent?t.getIndex():-1,i=e.parent?e.getIndex():-1),i<n?1:-1})},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes["class"]&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes["class"]},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];!e&&p(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:e,textarea:e},attributes:{"class":function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(I.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,function(t){return t.toLowerCase()})});var k=/<(a|area|img|input|source)\b([^>]*)>/gi,w=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,R=/^(href|src|name)$/i,x=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,S=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,K=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,A=new RegExp("("+i("<cke:encoded>")+"(.*?)"+i("</cke:encoded>")+")|("+i("<")+i("/")+"?"+i("cke:encoded>")+")","gi"),N=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,L=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,P=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var n=t||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(t){var i={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){"font-family"==e&&(n=n.replace(/["']/g,"")),i[e.toLowerCase()]=n}),{rules:i,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,e=[];for(t in i)i[t]&&e.push(t,":",i[t],";");return e.join("")}}},function(){function i(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}var s=function(t,e){return(t=t[0])<(e=e[0])?-1:e<t?1:0},t=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:t.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var n,i,o,r,a=this;for(e=a.getFilterContext(e),a.parent||t.onRoot(e,a);;){if(n=a.name,!(i=t.onElementName(e,n)))return this.remove(),!1;if(a.name=i,!(a=t.onElement(e,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(o in n=a.attributes){for(i=n[o];;){if(!(r=t.onAttributeName(e,o))){delete n[o];break}if(r==o)break;delete n[o],o=r}r&&(!1===(i=t.onAttribute(e,a,r,i))?delete n[r]:n[r]=i)}return a.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:t.filterChildren,writeHtml:function(t,e){e&&this.filter(e);var n,i,o=this.name,r=[],a=this.attributes;for(n in t.openTag(o,a),a)r.push([n,a[n]]);for(t.sortAttributes&&r.sort(s),n=0,i=r.length;n<i;n++)a=r[n],t.attribute(a[0],a[1]);t.openTagClose(o,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(o)},writeChildrenHtml:t.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:t.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=i(t));for(var e=0,n=this.children.length;e<n;++e)if(t(this.children[e]))return this.children[e];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){for(var e=0,n=(t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children).length;e<n;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),n=this.clone(),i=0;i<e.length;++i)e[i].parent=n;return(n.children=e)[0]&&(e[0].previous=null),0<t&&(this.children[t-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(t,e){void 0===e&&(e=!1);var n,i=[];for(n=0;n<this.children.length;n++){var o=this.children[n];"function"==typeof t&&t(o)?i.push(o):"string"==typeof t&&o.name===t&&i.push(o),e&&o.find&&(i=i.concat(o.find(t,e)))}return i},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes["class"]||"";this.attributes["class"]=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes["class"];e&&((e=CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes["class"]=e:delete this.attributes["class"])},hasClass:function(t){var e=this.attributes["class"];return!!e&&new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e)},getFilterContext:function(t){var e=[];if(t||(t={nonEditable:!1,nestedEditable:!1}),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length){t=CKEDITOR.tools.copy(t);for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1]}return t}},!0)}(),b=/{([^}]+)}/g,CKEDITOR.template=function(t){this.source=String(t)},CKEDITOR.template.prototype.output=function(n,t){var e=this.source.replace(b,function(t,e){return void 0!==n[e]?n[e]:t});return t?t.push(e):e},delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){(CKEDITOR.instances[t.name]=t).on("focus",function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))}),t.on("blur",function(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},E={},CKEDITOR.addTemplate=function(t,e){var n=E[t];return n||(n={name:t,source:e},CKEDITOR.fire("template",n),E[t]=new CKEDITOR.template(n.source))},CKEDITOR.getTemplate=function(t){return E[t]},_=[],CKEDITOR.addCss=function(t){_.push(t)},CKEDITOR.getCss=function(){return _.join("\n")},CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(t,e){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE),i=t.is("textarea")?t:null;return i?(n.setData(i.getValue(),null,!0),(t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document)).insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):n.setData(t.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(t),n.container=t,n.ui.contentsElement=t,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){i&&(n.container.clearCustomData(),n.container.remove(),i.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var t,e,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,r=i.count();o<r;o++)"true"==(t=i.getItem(o)).getAttribute("contenteditable")&&(!(e={element:t,config:{}})!==CKEDITOR.fire("inline",e)&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()}),CKEDITOR.replaceClass="ckeditor",function(){function i(t,e,n,i){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var o=new CKEDITOR.editor(e,t,i);return i==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),o._.required=t.hasAttribute("required"),t.removeAttribute("required")),n&&o.setData(n,null,!0),o.on("loaded",function(){a(o),i==CKEDITOR.ELEMENT_MODE_REPLACE&&o.config.autoUpdateElement&&t.$.form&&o._attachToForm(),o.setMode(o.config.startupMode,function(){o.resetDirty(),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)})}),o.on("destroy",r),o}function r(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}function a(t){var e=t.name,n=t.element,i=t.elementMode,o=t.fire("uiSpace",{space:"top",html:""}).html,r=t.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');e=CKEDITOR.dom.element.createFromHtml(a.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.title,topHtml:o?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:r?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+r+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),e.insertAfter(n)):n.append(e),t.container=e,t.ui.contentsElement=t.ui.space("contents"),o&&t.ui.space("top").unselectable(),r&&t.ui.space("bottom").unselectable(),n=t.config.width,i=t.config.height,n&&e.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",function(){t.focus()}),t.fireOnce("uiReady")}CKEDITOR.replace=function(t,e){return i(t,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,e,n){return i(t,e,n,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(t){for(var e=document.getElementsByTagName("textarea"),n=0;n<e.length;n++){var i=null,o=e[n];if(o.name||o.id){if("string"==typeof t){if(!new RegExp("(?:^|\\s)"+t+"(?:$|\\s)").test(o.className))continue}else if("function"==typeof t&&!(i={})===t(o,i))continue;this.replace(o,i)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var n=this,i=this._.modes;if(t!=n.mode&&i&&i[t]){if(n.fire("beforeSetMode",t),n.mode){var o,r=n.checkDirty(),a=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&i==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[t](function(){n.mode=t,void 0!==r&&!r&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==t&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),e&&e.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(t,e,n,i){var o=this.container,r=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;(i=i?this.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}):o).setSize("width",t,!0),a&&(a.style.width="1%");var s=(i.$.offsetHeight||0)-(r.$.clientHeight||0);o=Math.max(e-(n?0:s),0);e=n?e+s:e,r.setStyle("height",o+"px"),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:e,contentsHeight:o,outerWidth:t||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function i(t){var e,n=t.editor,i=t.data.path,o=i.blockLimit,r=t.data.selection,a=r.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(r=s(r,i))&&(r.appendBogus(),e=CKEDITOR.env.ie),F(n,i.block,o)&&a.collapsed&&!a.getCommonAncestor().isReadOnly()&&((i=a.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(o=new CKEDITOR.dom.walker(i)).guard=function(t){return!P(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},!o.checkForward()||i.checkStartOfBlock()&&i.checkEndOfBlock())&&(n=a.fixBlock(!0,n.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(n=n.getFirst(P))&&n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/)&&n.remove(),e=1,t.cancel()),e&&a.select()}function s(t,e){if(t.isFake)return 0;var n=e.block||e.blockLimit,i=n&&n.getLast(P);return!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function r(t){var e=t.data.getTarget();e.is("input")&&("submit"!=(e=e.getAttribute("type"))&&"reset"!=e||t.data.preventDefault())}function P(t){return h(t)&&c(t)}function o(n,i){return function(t){var e=t.data.$.toElement||t.data.$.fromElement||t.data.$.relatedTarget;(e=e&&e.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(e):null)&&(i.equals(e)||i.contains(e))||n.call(this,t)}}function d(t){function e(n){return function(t,e){if(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(o)&&(i=t),!(e||!P(t)||n&&f(t)))return!1}}var i,n=t.getRanges()[0];t=t.root;var o={table:1,ul:1,ol:1,dl:1};if(n.startPath().contains(o)){var r=n.clone();if(r.collapse(1),r.setStartAt(t,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(r)).guard=e(),t.checkBackward(),i)return(r=n.clone()).collapse(),r.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(t=new CKEDITOR.dom.walker(r)).guard=e(!0),i=!1,t.checkForward(),i}return null}function F(t,e,n){return!1!==t.config.autoParagraph&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&(t.editable().equals(n)&&!e||e&&"true"==e.getAttribute("contenteditable"))}function M(t){return t.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==t.config.autoParagraph&&(t.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function a(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout(function(){e.fire("saveSnapshot")},0)}function l(t,e,n){var i=t.getCommonAncestor(e);for(e=t=n?e:t;(t=t.getParent())&&!i.equals(t)&&1==t.getChildCount();)e=t;e.remove()}var h,c,u,f,p,m,g,v,e,y;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))t.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var e=this.$.scrollTop;this.$.focus(),this.$.scrollTop=e}else this.$.focus();else this.$.setActive()}catch(P){if(!CKEDITOR.env.ie)throw P}CKEDITOR.env.safari&&!this.isInline()&&((t=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(t,e){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=o(e,this),n[0]=t,n[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(t){!this._.listeners&&(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1);e=t.on.apply(t,e);return this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(r){}},restoreAttrs:function(){var t,e,n=this._.attrChanges;for(e in n)n.hasOwnProperty(e)&&(null!==(t=n[e])?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||(!e&&(e=[]),e.push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var n=this.getAttribute(t);e!==n&&(!this._.attrChanges&&(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=n),this.setAttribute(t,e))},insertText:function(t){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(t),"text")},transformPlainTextToHtml:function(t){var e=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(t,e)},insertHtml:function(t,e,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n||(n=i.getSelection().getRanges()[0]),m(this,e||"html",t,n),n.select(),a(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(t,e,n){m(this,n||"html",t,e),this.editor.fire("afterInsertHtml",{intoRange:e})},insertElement:function(t,e){(i=this.editor).focus(),i.fire("saveSnapshot");var n=i.activeEnterMode,i=i.getSelection(),o=t.getName();o=CKEDITOR.dtd.$block[o];e||(e=i.getRanges()[0]),this.insertElementIntoRange(t,e)&&(e.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),o&&((o=t.getNext(function(t){return P(t)&&!f(t)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?e.moveToElementEditStart(o):e.moveToElementEditEnd(t):o||n==CKEDITOR.ENTER_BR||(o=e.fixBlock(!0,n==CKEDITOR.ENTER_DIV?"div":"p"),e.moveToElementEditStart(o)))),i.selectRanges([e]),a(this)},insertElementIntoSelection:function(t){this.insertElement(t)},insertElementIntoRange:function(t,e){var n,i,o=this.editor,r=o.config.enterMode,a=t.getName(),s=CKEDITOR.dtd.$block[a];if(e.checkReadOnly())return!1;if(e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&(e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?g(e):e.startContainer.is(CKEDITOR.dtd.$list)&&v(e)),s)for(;(n=e.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[a]);)n.getName()in CKEDITOR.dtd.span?e.splitElement(n):e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(n),e.collapse(!0),n.remove()):e.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return e.insertNode(t),!0},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",!t)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var t=this.editor;this._.detach(),delete t.document,delete t.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,e=i.getDocument().$,n=e.getSelection();t:if(n.anchorNode&&n.anchorNode==i.$)t=!0;else{if(CKEDITOR.env.webkit&&(t=i.getDocument().getActive())&&t.equals(i)&&!n.anchorNode){t=!0;break t}t=void 0}t&&((t=new CKEDITOR.dom.range(i)).moveToElementEditStart(i),(e=e.createRange()).setStart(t.startContainer.$,t.startOffset),e.collapse(!0),n.removeAllRanges(),n.addRange(e))}function e(){var t=i.getDocument().$,e=t.selection,n=i.getDocument().getActive();"None"==e.type&&n.equals(i)&&(e=new CKEDITOR.dom.range(i),t=t.body.createTextRange(),e.moveToElementEditStart(i),(e=e.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),t.moveToElementText(e.$),t.collapse(!0),t.select())}var i=this;CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),e()):this.hasFocus?(this.focus(),t()):this.once("focus",function(){t()},null,null,-999)},getHtmlFromRange:function(t){return t.collapsed?new CKEDITOR.dom.documentFragment(t.document):(t={doc:this.getDocument(),range:t.clone()},e.eol.detect(t,this),e.bogus.exclude(t),e.cell.shrink(t),t.fragment=t.range.cloneContents(),e.tree.rebuild(t,this),e.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$))},extractHtmlFromRange:function(t,e){var n=y,i={range:t,doc:t.document},o=this.getHtmlFromRange(t);if(t.collapsed)return t.optimize(),o;if(t.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=t.createBookmark(),delete i.range,(a=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=a.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),t.moveToBookmark(i.bookmark),i.range=t):(t.moveToBookmark(i.bookmark),(i.range=t).extractContents(n.detectExtractMerge(i))),t.moveToBookmark(i.targetBookmark),t.optimize(),n.fixUneditableRangePosition(t),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),e){if(n=t.startPath(),i=t.checkStartOfBlock()&&t.checkEndOfBlock()&&n.block&&!t.root.equals(n.block)){t:{var r,a=0;if(i=n.block.getElementsByTag("span"))for(;r=i.getItem(a++);)if(!c(r)){i=!0;break t}i=!1}i=!i}i&&(t.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,t),u(t.startContainer)&&t.startContainer.appendBogus();return t.startContainer.mergeSiblings(),o},setup:function(){var c=this.editor;if(this.attachListener(c,"beforeGetData",function(){var t=this.getData();this.is("textarea")||!1!==c.config.ignoreEmptyParagraph&&(t=t.replace(p,function(t,e){return e})),c.setData(t,null,1)},this),this.attachListener(c,"getSnapshot",function(t){t.data=this.getData(1)},this),this.attachListener(c,"afterSetData",function(){this.setData(c.getData(1))},this),this.attachListener(c,"loadSnapshot",function(t){this.setData(t.data,1)},this),this.attachListener(c,"beforeFocus",function(){var t=c.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(c,"insertHtml",function(t){this.insertHtml(t.data.dataValue,t.data.mode,t.data.range)},this),this.attachListener(c,"insertElement",function(t){this.insertElement(t.data)},this),this.attachListener(c,"insertText",function(t){this.insertText(t.data)},this),this.setReadOnly(c.readOnly),this.attachClass("cke_editable"),c.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):c.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&c.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+c.config.contentsLangDirection),c.keystrokeHandler.blockedKeystrokes[8]=+c.readOnly,c.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){c._.previousScrollTop=c.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var e=function(){var t=c.editable();null!=c._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=c._.previousScrollTop,c._.previousScrollTop=null,this.removeListener("scroll",e))};this.on("scroll",e)}if(c.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,c.once("contentDom",function(){c.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",c.tabIndex),!this.is("textarea")){c.document=this.getDocument(),c.window=this.getWindow();var t=c.document;this.changeAttr("spellcheck",!c.config.disableNativeSpellChecker);var n=c.config.contentsLangDirection;this.getDirection(1)!=n&&this.changeAttr("dir",n);var i=CKEDITOR.getCss();if(i){var o=(n=t.getHead()).getCustomData("stylesheet");o?i!=o.getText()&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?o.$.styleSheet.cssText=i:o.setText(i)):(i=t.appendStyleText(i),i=new CKEDITOR.dom.element(i.ownerNode||i.owningElement),n.setCustomData("stylesheet",i),i.data("cke-temp",1))}n=t.getCustomData("stylesheet_ref")||0,t.setCustomData("stylesheet_ref",n+1),this.setCustomData("cke_includeReadonly",!c.config.disableReadonlyStyling),this.attachListener(this,"click",function(t){t=t.data;var e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()});var u={8:1,46:1};this.attachListener(c,"key",function(t){if(c.readOnly)return!0;var e,n=t.data.domEvent.getKey();if(
0!==(t=c.getSelection()).getRanges().length){if(n in u){var i,o,r,a,s=t.getRanges()[0],l=s.startPath();n=8==n;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(i=t.getSelectedElement())||(i=d(t))?(c.fire("saveSnapshot"),s.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),s.select(),c.fire("saveSnapshot"),e=1):s.collapsed&&((o=l.block)&&(a=o[n?"getPrevious":"getNext"](h))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table")&&s[n?"checkStartOfBlock":"checkEndOfBlock"]()?(c.fire("saveSnapshot"),s[n?"checkEndOfBlock":"checkStartOfBlock"]()&&o.remove(),s["moveToElementEdit"+(n?"End":"Start")](a),s.select(),c.fire("saveSnapshot"),e=1):l.blockLimit&&l.blockLimit.is("td")&&(r=l.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(a=r[n?"getPrevious":"getNext"](h))?(c.fire("saveSnapshot"),s["moveToElementEdit"+(n?"End":"Start")](a),s.checkStartOfBlock()&&s.checkEndOfBlock()?a.remove():s.select(),c.fire("saveSnapshot"),e=1):(r=l.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(e=1))}return!e}}),c.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in u&&!this.getFirst(P)&&(this.appendBogus(),(t=c.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){if(c.readOnly)return!1;t={element:t.data.getTarget()},c.fire("doubleclick",t)}),CKEDITOR.env.ie&&this.attachListener(this,"click",r),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(t){var e=t.data.getTarget();e.is("img","hr","input","textarea","select")&&!e.isReadOnly()&&(c.getSelection().selectElement(e),e.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(t){(t=t.data.getTarget())&&t.is("img")&&!t.isReadOnly()&&c.getSelection().selectElement(t)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&(!(t=t.data.getTarget()).getAscendant("table")&&!t.getOuterHtml().replace(p,""))){var e=c.createRange();e.moveToElementEditStart(t),e.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()}),this.attachListener(this,"mouseup",function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(c,"key",function(t){if(c.readOnly)return!0;if((e=t.data.domEvent.getKey())in u&&0!==(t=c.getSelection()).getRanges().length){var e=8==e,n=t.getRanges()[0];if(t=n.startPath(),n.collapsed)t:{var i=t.block;if(i&&n[e?"checkStartOfBlock":"checkEndOfBlock"]()&&n.moveToClosestEditablePosition(i,!e)&&n.collapsed){if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=n.startContainer.getChild(n.startOffset-(e?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr")){c.fire("saveSnapshot"),o.remove(),t=!0;break t}}var r;if(!(n=n.startPath().block)||n&&n.contains(i))t=void 0;else c.fire("saveSnapshot"),(r=(e?n:i).getBogus())&&r.remove(),o=(r=c.getSelection()).createBookmarks(),(e?i:n).moveChildren(e?n:i,!1),t.lastElement.mergeSiblings(),l(i,n,!e),r.selectBookmarks(o),t=!0}else t=!1}else e=n,r=t.block,n=e.endPath().block,t=!(!r||!n||r.equals(n))&&(c.fire("saveSnapshot"),(i=r.getBogus())&&i.remove(),e.enlarge(CKEDITOR.ENLARGE_INLINE),e.deleteContents(),n.getParent()&&(n.moveChildren(r,!1),t.lastElement.mergeSiblings(),l(r,n,!0)),(e=c.getSelection().getRanges()[0]).collapse(1),e.optimize(),""===e.startContainer.getHtml()&&e.startContainer.appendBogus(),e.select(),!0);if(!t)return;return c.getSelection().scrollIntoView(),c.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){var t;if(this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs(),t=this.removeCustomData("classes"))for(;t.length;)this.removeClass(t.pop());if(!this.is("textarea")){var e=(t=this.getDocument()).getHead();if(e.getCustomData("stylesheet")){var n=t.getCustomData("stylesheet_ref");--n?t.setCustomData("stylesheet_ref",n):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:(arguments.length&&(e=this._.editable=t?t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),null)),e)},CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(t){(t=t.data).type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var e=n.getSelection();e&&!e.isLocked&&(e=n.checkDirty(),n.fire("lockSnapshot"),i(t),n.fire("unlockSnapshot"),!e&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(t){var o=t.editor;o.on("mode",function(){var t=o.editable();if(t&&t.isInline()){var e=o.title;if(t.changeAttr("role","textbox"),t.changeAttr("aria-multiline","true"),t.changeAttr("aria-label",e),e&&t.changeAttr("title",e),(i=o.fire("ariaEditorHelpLabel",{}).label)&&(e=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var n=CKEDITOR.tools.getNextId(),i=CKEDITOR.dom.element.createFromHtml('<span id="'+n+'" class="cke_voice_label">'+i+"</span>");e.append(i),t.changeAttr("aria-describedby",n)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),h=CKEDITOR.dom.walker.whitespaces(!0),c=CKEDITOR.dom.walker.bookmark(!1,!0),u=CKEDITOR.dom.walker.empty(),f=CKEDITOR.dom.walker.bogus(),p=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,m=function(){function I(t){return t.type==CKEDITOR.NODE_ELEMENT}function k(t,e){var n,i,o,r,a=[],s=e.range.startContainer;n=e.range.startPath();s=A[s.getName()];for(var l=0,c=t.getChildren(),u=c.count(),d=-1,h=-1,f=0,p=n.contains(A.$list);l<u;++l)I(n=c.getItem(l))?(o=n.getName(),p&&o in CKEDITOR.dtd.$list?a=a.concat(k(n,e)):(r=!!s[o],"br"!=o||!n.data("cke-eol")||l&&l!=u-1||(f=(i=l?a[l-1].node:c.getItem(l+1))&&(!I(i)||!i.is("br")),i=i&&I(i)&&A.$block[i.getName()]),-1!=d||r||(d=l),r||(h=l),a.push({isElement:1,isLineBreak:f,isBlock:n.isBlockBoundary(),hasBlockSibling:i,node:n,name:o,allowed:r}),i=f=0)):a.push({isElement:0,node:n,allowed:1});return-1<d&&(a[d].firstNotAllowed=1),-1<h&&(a[h].lastNotAllowed=1),a}function w(t,e){var n,i=[],o=t.getChildren(),r=o.count(),a=0,s=A[e],l=!t.is(A.$inline)||t.is("br");for(l&&i.push(" ");a<r;a++)I(n=o.getItem(a))&&!n.is(s)?i=i.concat(w(n,e)):i.push(n);return l&&i.push(" "),i}function R(t){return I(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function x(t){return t&&I(t)&&(t.is(A.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function S(t,e,n,i){var o,r,a=t.clone();a.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),(o=new CKEDITOR.dom.walker(a).next())&&I(o)&&s[o.getName()]&&(r=o.getPrevious())&&I(r)&&!r.getParent().equals(t.startContainer)&&n.contains(r)&&i.contains(o)&&o.isIdentical(r)&&(o.moveChildren(r),o.remove(),S(t,e,n,i))}function K(t,e){function n(t,e){if(e.isBlock&&e.isElement&&!e.node.is("br")&&I(t)&&t.is("br"))return t.remove(),1}var i=e.endContainer.getChild(e.endOffset),o=e.endContainer.getChild(e.endOffset-1);i&&n(i,t[t.length-1]),o&&n(o,t[0])&&(e.setEnd(e.endContainer,e.endOffset-1),e.collapse())}var A=CKEDITOR.dtd,s={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},N={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},L=CKEDITOR.tools.extend({},A.$inline);return delete L.br,function(t,e,n,i){var o=t.editor,r=!1;if("unfiltered_html"==e&&(e="html",r=!0),!i.checkReadOnly()){var a,s,l;if(e=(t={type:e,dontFilter:r,editable:t,editor:o,range:i,blockLimit:b=new CKEDITOR.dom.elementPath(i.startContainer,i.root).blockLimit||i.root,mergeCandidates:[],zombies:[]}).range,i=t.mergeCandidates,"text"==t.type&&e.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(a=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",e.document),e.insertNode(a),e.setStartAfter(a)),r=new CKEDITOR.dom.elementPath(e.startContainer),t.endPath=b=new CKEDITOR.dom.elementPath(e.endContainer),!e.collapsed){o=b.block||b.blockLimit;var c=e.getCommonAncestor();o&&!o.equals(c)&&!o.contains(c)&&e.checkEndOfBlock()&&t.zombies.push(o),e.deleteContents()}for(;(s=R(e))&&I(s)&&s.isBlockBoundary()&&r.contains(s);)e.moveToPosition(s,CKEDITOR.POSITION_BEFORE_END);for(S(e,t.blockLimit,r,b),a&&(e.setEndBefore(a),e.collapse(),a.remove()),(o=(a=e.startPath()).contains(x,!1,1))&&(e.splitElement(o),t.inlineStylesRoot=o,t.inlineStylesPeak=a.lastElement),(o=(a=e.createBookmark()).startNode.getPrevious(P))&&I(o)&&x(o)&&i.push(o),(o=a.startNode.getNext(P))&&I(o)&&x(o)&&i.push(o),o=a.startNode;(o=o.getParent())&&x(o);)i.push(o);if(e.moveToBookmark(a),a=n){if(a=t.range,"text"==t.type&&t.inlineStylesRoot){for(e=(s=t.inlineStylesPeak).getDocument().createText("{cke-peak}"),i=t.inlineStylesRoot.getParent();!s.equals(i);)e=e.appendTo(s.clone()),s=s.getParent();n=e.getOuterHtml().split("{cke-peak}").join(n)}if(s=t.blockLimit.getName(),/^\s+|\s+$/.test(n)&&"span"in CKEDITOR.dtd[s])n=(v='<span data-cke-marker="1">&nbsp;</span>')+n+v;if(n=t.editor.dataProcessor.toHtml(n,{context:null,fixForBody:!1,protectedWhitespaces:!!v,dontFilter:t.dontFilter,filter:t.editor.activeFilter,enterMode:t.editor.activeEnterMode}),(s=a.document.createElement("body")).setHtml(n),v&&(s.getFirst().remove(),s.getLast().remove()),(v=a.startPath().block)&&(1!=v.getChildCount()||!v.getBogus()))t:{var u;if(1==s.getChildCount()&&I(u=s.getFirst())&&u.is(N)&&!u.hasAttribute("contenteditable")){for(a=0,i=(v=u.getElementsByTag("*")).count();a<i;a++)if(!(e=v.getItem(a)).is(L))break t;u.moveChildren(u.getParent(1)),u.remove()}}t.dataWrapper=s,a=n}if(a){var d;a=(u=t.range).document,s=t.blockLimit;var h,f,p,m,g,v=[];n=o=i=0,e=u.startContainer;var y,b=(r=t.endPath.elements[0]).getPosition(e);c=!(!r.getCommonAncestor(e)||b==CKEDITOR.POSITION_IDENTICAL||b&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(K(e=k(t.dataWrapper,t),u);i<e.length;i++){if(d=(b=e[i]).isLineBreak){d=u,m=s;var E=void 0,_=void 0;d=b.hasBlockSibling?1:(E=d.startContainer.getAscendant(A.$block,1))&&E.is({div:1,p:1})?(_=E.getPosition(m))==CKEDITOR.POSITION_IDENTICAL||_==CKEDITOR.POSITION_CONTAINS?0:(m=d.splitElement(E),d.moveToPosition(m,CKEDITOR.POSITION_AFTER_START),1):0}if(d)n=0<i;else{if(d=u.startPath(),!b.isBlock&&F(t.editor,d.block,d.blockLimit)&&(p=M(t.editor))&&((p=a.createElement(p)).appendBogus(),u.insertNode(p),CKEDITOR.env.needsBrFiller&&(h=p.getBogus())&&h.remove(),u.moveToPosition(p,CKEDITOR.POSITION_BEFORE_END)),(d=u.startPath().block)&&!d.equals(f)&&((h=d.getBogus())&&(h.remove(),v.push(d)),f=d),b.firstNotAllowed&&(o=1),o&&b.isElement){for(d=u.startContainer,m=null;d&&!A[d.getName()][b.name];){if(d.equals(s)){d=null;break}d=(m=d).getParent()}if(d)m&&(g=u.splitElement(m),t.zombies.push(g),t.zombies.push(m));else{m=s.getName(),y=!i,d=i==e.length-1;E=[],_=(m=w(b.node,m)).length;for(var T=0,C=void 0,D=0,O=-1;T<_;T++)D=" "==(C=m[T])?(D||y&&!T||(E.push(new CKEDITOR.dom.text(" ")),O=E.length),1):(E.push(C),0);d&&O==E.length&&E.pop(),y=E}}if(y){for(;d=y.pop();)u.insertNode(d);y=0}else u.insertNode(b.node);b.lastNotAllowed&&i<e.length-1&&((g=c?r:g)&&u.setEndAt(g,CKEDITOR.POSITION_AFTER_START),o=0),u.collapse()}}(h=1==e.length&&((h=e[0]).isElement&&"false"==h.node.getAttribute("contenteditable")))&&(n=!0,d=e[0].node,u.setStartAt(d,CKEDITOR.POSITION_BEFORE_START),u.setEndAt(d,CKEDITOR.POSITION_AFTER_END)),t.dontMoveCaret=n,t.bogusNeededBlocks=v}for(h=t.range,g=t.bogusNeededBlocks,y=h.createBookmark();f=t.zombies.pop();)f.getParent()&&((p=h.clone()).moveToElementEditStart(f),p.removeEmptyBlocksAtEnd());if(g)for(;f=g.pop();)CKEDITOR.env.needsBrFiller?f.appendBogus():f.append(h.document.createText("\xa0"));for(;f=t.mergeCandidates.pop();)f.mergeSiblings();if(h.moveToBookmark(y),!t.dontMoveCaret){for(f=R(h);f&&I(f)&&!f.is(A.$empty);){if(f.isBlockBoundary())h.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{if(x(f)&&f.getHtml().match(/(\s|&nbsp;)$/g)){l=null;break}(l=h.clone()).moveToPosition(f,CKEDITOR.POSITION_BEFORE_END)}f=f.getLast(P)}l&&h.moveToRange(l)}}}}(),g=function(){function o(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function r(t,e,n){return e=t.getDocument().createElement(e),t.append(e,n),e}function a(t){for(var e,n=t.count();0<n--;)e=t.getItem(n),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&e.getChildCount()&&e.getFirst().remove())}return function(t){var e=t.startContainer,n=e.getAscendant("table",1),i=!1;a(n.getElementsByTag("td")),a(n.getElementsByTag("th")),(n=t.clone()).setStart(e,0),(n=o(n).lastBackward())||((n=t.clone()).setEndAt(e,CKEDITOR.POSITION_BEFORE_END),n=o(n).lastForward(),i=!0),n||(n=e),n.is("table")?(t.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),n.remove()):(n.is({tbody:1,thead:1,tfoot:1})&&(n=r(n,"tr",i)),n.is("tr")&&(n=r(n,n.getParent().is("thead")?"th":"td",i)),(e=n.getBogus())&&e.remove(),t.moveToPosition(n,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),v=function(){function o(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$list)||t.is(CKEDITOR.dtd.$listItem):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$listItem)},t}return function(t){var e,n=t.startContainer,i=!1;(e=t.clone()).setStart(n,0),(e=o(e).lastBackward())||((e=t.clone()).setEndAt(n,CKEDITOR.POSITION_BEFORE_END),e=o(e).lastForward(),i=!0),e||(e=n),e.is(CKEDITOR.dtd.$list)?(t.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),e.remove()):((n=e.getBogus())&&n.remove(),t.moveToPosition(e,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select())}}(),e={eol:{detect:function(t,e){var n=t.range,i=n.clone(),o=n.clone(),r=new CKEDITOR.dom.elementPath(n.startContainer,e),a=new CKEDITOR.dom.elementPath(n.endContainer,e);i.collapse(1),o.collapse(),r.block&&i.checkBoundaryOfElement(r.block,CKEDITOR.END)&&(n.setStartAfter(r.block),t.prependEolBr=1),a.block&&o.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),t.appendEolBr=1)},fix:function(t,e){var n,i=e.getDocument();t.appendEolBr&&(n=this.createEolBr(i),t.fragment.append(n)),!t.prependEolBr||n&&!n.getPrevious()||t.fragment.append(this.createEolBr(i),1)},createEolBr:function(t){return t.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(t){var e,n=(e=t.range.getBoundaryNodes()).startNode;!(e=e.endNode)||!f(e)||n&&n.equals(e)||t.range.setEndBefore(e)}},tree:{rebuild:function(t,e){var n,i=(a=t.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,e),r=new CKEDITOR.dom.elementPath(a.startContainer,e),a=new CKEDITOR.dom.elementPath(a.endContainer,e);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(t){return!t.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(r=r.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!r.equals(a))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(t){return!t.equals(l)}}n||(n=function(t){return!t.equals(o.block)&&!t.equals(o.blockLimit)}),this.rebuildFragment(t,e,i,n)},rebuildFragment:function(t,e,n,i){for(var o;n&&!n.equals(e)&&i(n);)o=n.clone(0,1),t.fragment.appendTo(o),t.fragment=o,n=n.getParent()}},cell:{shrink:function(t){var e=(t=t.range).startContainer,n=t.endContainer,i=t.startOffset,o=t.endOffset;e.type==CKEDITOR.NODE_ELEMENT&&e.equals(n)&&e.is("tr")&&++i==o&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},y=function(){function o(t,e){var n=t.getParent();n.is(CKEDITOR.dtd.$inline)&&t[e?"insertBefore":"insertAfter"](n)}function l(t,e,n){o(e),o(n,1);for(var i;i=n.getNext();)i.insertAfter(e),e=i;u(t)&&t.remove()}function c(t,e){var n=new CKEDITOR.dom.range(t);return n.setStartAfter(e.startNode),n.setEndBefore(e.endNode),n}return{list:{detectMerge:function(t,e){var n=c(e,t.bookmark),i=n.startPath(),o=n.endPath(),r=i.contains(CKEDITOR.dtd.$list),a=o.contains(CKEDITOR.dtd.$list);t.mergeList=r&&a&&r.getParent().equals(a.getParent())&&!r.equals(a),t.mergeListItems=i.block&&o.block&&i.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),(t.mergeList||t.mergeListItems)&&((n=n.clone()).setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeListBookmark=n.createBookmark())},merge:function(t,e){if(t.mergeListBookmark){var n=t.mergeListBookmark.startNode,i=t.mergeListBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),r=new CKEDITOR.dom.elementPath(i,e);if(t.mergeList){var a=o.contains(CKEDITOR.dtd.$list),s=r.contains(CKEDITOR.dtd.$list);a.equals(s)||(s.moveChildren(a),s.remove())}t.mergeListItems&&(o=o.contains(CKEDITOR.dtd.$listItem),r=r.contains(CKEDITOR.dtd.$listItem),o.equals(r)||l(r,n,i)),n.remove(),i.remove()}}},block:{detectMerge:function(t,e){if(!t.tableContentsRanges&&!t.mergeListBookmark){var n=new CKEDITOR.dom.range(e);n.setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeBlockBookmark=n.createBookmark()}},merge:function(t,e){if(t.mergeBlockBookmark&&!t.purgeTableBookmark){var n=t.mergeBlockBookmark.startNode,i=t.mergeBlockBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),r=new CKEDITOR.dom.elementPath(i,e);o=o.block,r=r.block;o&&r&&!o.equals(r)&&l(r,n,i),n.remove(),i.remove()}}},table:function(){function s(r){var a,s=[],t=new CKEDITOR.dom.walker(r),l=r.startPath().contains(h),c=r.endPath().contains(h),u={};return t.guard=function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT){var n="visited_"+(e?"out":"in");if(t.getCustomData(n))return;CKEDITOR.dom.element.setMarker(u,t,n,1)}if(e&&l&&t.equals(l))(a=r.clone()).setEndAt(l,CKEDITOR.POSITION_BEFORE_END),s.push(a);else if(!e&&c&&t.equals(c))(a=r.clone()).setStartAt(c,CKEDITOR.POSITION_AFTER_START),s.push(a);else{if((n=!e)&&(n=t.type==CKEDITOR.NODE_ELEMENT&&t.is(h)&&(!l||d(t,l))&&(!c||d(t,c))),!n&&(n=e))if(t.is(h)){n=l&&l.getAscendant("table",!0);var i=c&&c.getAscendant("table",!0),o=t.getAscendant("table",!0);n=n&&n.contains(o)||i&&i.contains(o)}else n=void 0;n&&((a=r.clone()).selectNodeContents(t),s.push(a))}},t.lastForward(),CKEDITOR.dom.element.clearAllMarkers(u),s}function d(t,e){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=t.getPosition(e);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}var h={td:1,th:1,caption:1};return{detectPurge:function(t){var e=t.range;(n=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),i=0;if(n.evaluator=function(t){t.type==CKEDITOR.NODE_ELEMENT&&t.is(h)&&++i},n.checkForward(),1<i){n=e.startPath().contains("table");var o=e.endPath().contains("table");n&&o&&e.checkBoundaryOfElement(n,CKEDITOR.START)&&e.checkBoundaryOfElement(o,CKEDITOR.END)&&((e=t.range.clone()).setStartBefore(n),e.setEndAfter(o),t.purgeTableBookmark=e.createBookmark())}},detectRanges:function(t,e){var n,i,o=c(e,t.bookmark),r=o.clone(),a=o.getCommonAncestor();a.is(CKEDITOR.dtd.$tableContent)&&!a.is(h)&&(a=a.getAscendant("table",!0)),i=a,a=new CKEDITOR.dom.elementPath(o.startContainer,i),i=new CKEDITOR.dom.elementPath(o.endContainer,i),a=a.contains("table"),i=i.contains("table"),(a||i)&&(a&&i&&d(a,i)?((t.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),r.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),(r=o.clone()).setEndAt(a,CKEDITOR.POSITION_AFTER_END),(n=o.clone()).setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n=s(r).concat(s(n))):a?i||((t.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),o.setEndAt(a,CKEDITOR.POSITION_AFTER_END)):((t.tableSurroundingRange=r).setEndAt(i,CKEDITOR.POSITION_BEFORE_START),o.setStartAt(i,CKEDITOR.POSITION_AFTER_START)),t.tableContentsRanges=n||s(o))},deleteRanges:function(t){for(var e;e=t.tableContentsRanges.pop();)e.extractContents(),u(e.startContainer)&&e.startContainer.appendBogus();t.tableSurroundingRange&&t.tableSurroundingRange.extractContents()},purge:function(t){if(t.purgeTableBookmark){var e=t.doc,n=t.range.clone();(e=e.createElement("p")).insertBefore(t.purgeTableBookmark.startNode),n.moveToBookmark(t.purgeTableBookmark),n.deleteContents(),t.range.moveToPosition(e,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(t){return!(t.range.startPath().contains(CKEDITOR.dtd.$listItem)&&t.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(t){t.startContainer.getDtd()["#"]||t.moveToClosestEditablePosition(null,!0)},autoParagraph:function(t,e){var n,i=e.startPath();F(t,i.block,i.blockLimit)&&(n=M(t))&&((n=e.document.createElement(n)).appendBogus(),e.insertNode(n),e.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function u(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function h(t,e){if(0===t.length||u(t[0].getEnclosedNode()))return!1;var n,i;if((n=!e&&1===t.length)&&!(n=t[0].collapsed)){var o=t[0];n=o.startContainer.getAscendant({td:1,th:1},!0);var r=o.endContainer.getAscendant({td:1,th:1},!0);i=CKEDITOR.tools.trim,n=!(!n||!n.equals(r)||n.findOne("td, th, tr, tbody, table"))&&(!(o=o.cloneContents()).getFirst()||i(o.getFirst().getText())!==i(n.getText()))}if(n)return!1;for(i=0;i<t.length;i++)if(!(n=t[i]._getTableElement()))return!1;return!0}function r(t){function e(t){t=t.find("td, th");var e,n=[];for(e=0;e<t.count();e++)n.push(t.getItem(e));return n}var n,i,o=[];for(i=0;i<t.length;i++)(n=t[i]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(e(n));return o}function i(t){t=r(t);var e,n,i="",o=[];for(n=0;n<t.length;n++)e&&!e.equals(t[n].getAscendant("tr"))?(i+=o.join("\t")+"\n",e=t[n].getAscendant("tr"),o=[]):0===n&&(e=t[n].getAscendant("tr")),o.push(t[n].getText());return i+o.join("\t")}function f(t){var e=this.root.editor,n=e.getSelection(1);this.reset(),T=!0,n.root.once("selectionchange",function(t){t.cancel()},null,null,0),n.selectRanges([t[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(t),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=t[0]._getTableElement(),n.selectedText=i(t),n.nativeSel=null,this.isFake=1,this.rev=s++,e._.fakeSelection=this,T=!1,this.root.fire("selectionchange")}function g(){var t,e=this._.fakeSelection;if(e){var n;if(!(n=!(t=this.getSelection(1)))&&(n=!t.isHidden())){n=e;var i=t.getRanges(),o=n.getRanges(),r=i.length&&i[0]._getTableElement()&&i[0]._getTableElement().getAscendant("table",!0),a=o.length&&o[0]._getTableElement()&&o[0]._getTableElement().getAscendant("table",!0),s=1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table"),l=1===o.length&&o[0]._getTableElement()&&o[0]._getTableElement().is("table");if(u(n.getSelectedElement()))n=!1;else{var c=1===i.length&&i[0].collapsed;o=h(i,!!CKEDITOR.env.webkit)&&h(o);n=!(!(r=!(!r||!a)&&(r.equals(a)||a.contains(r)))||!c&&!o)&&(s&&!l&&n.selectRanges(i),!0)}n=!n}n&&(e.reset(),e=0)}(e||(e=t||this.getSelection(1))&&e.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",e),(t=this.elementPath()).compare(this._.selectionPreviousPath)||(n=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(t.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||n||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=t,this.fire("selectionChange",{selection:e,path:t})))}function v(){e=!0,C||(t.call(this),C=CKEDITOR.tools.setTimeout(t,200,this))}function t(){C=null,e&&(CKEDITOR.tools.setTimeout(g,0,this),e=!1)}function p(t){return!(!c(t)&&(t.type!=CKEDITOR.NODE_ELEMENT||t.is(CKEDITOR.dtd.$empty)))}function m(n){function t(t,e){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&n.clone()["moveToElementEdit"+(e?"End":"Start")](t)}if(!(n.root instanceof CKEDITOR.editable))return!1;var e=n.startContainer,i=n.getPreviousNode(p,null,e),o=n.getNextNode(p,null,e);return!(!t(i)&&!t(o,1)&&(i||o||e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()&&e.getBogus()))}function y(t){b(t,!1);var e=t.getDocument().createText(l);return t.setCustomData("cke-fillingChar",e),e}function b(t,e){var n=t&&t.removeCustomData("cke-fillingChar");if(n){if(!1!==e){var i=t.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0),r=l.length;if(n.getLength()>r&&o&&o.intersectsNode(n.$)){var a=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>r&&(a[0].offset-=r),i.focusNode==n.$&&i.focusOffset>r&&(a[1].offset-=r)}}n.setText(E(n.getText(),1)),a&&(i=(n=t.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(a[1].node,a[1].offset))}}function E(t,e){return e?t.replace(n,function(t,e){return e?"\xa0":""}):t.replace(l,"")}function a(t,e){var n=e&&CKEDITOR.tools.htmlEncode(e)||"&nbsp;";n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&CKEDITOR.env.version<14?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'">'+n+"</div>",t.document);t.fire("lockSnapshot"),t.editable().append(n);var i=t.getSelection(1),o=t.createRange(),r=i.root.on("selectionchange",function(t){t.cancel()},null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([o]),r.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=n}function _(o){var r={37:1,39:1,8:1,46:1};return function(t){var e=t.data.getKeystroke();if(r[e]){var n=o.getSelection().getRanges(),i=n[0];1==n.length&&i.collapsed&&(e=i[e<38?"getPreviousEditableNode":"getNextEditableNode"]())&&e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable")&&(o.getSelection().fake(e),t.data.preventDefault(),t.cancel())}}}function o(n){for(var i=0;i<n.length;i++){var o=n[i];if(o.getCommonAncestor().isReadOnly()&&n.splice(i,1),!o.collapsed){if(o.startContainer.isReadOnly())for(var t,e=o.startContainer;e&&!((t=e.type==CKEDITOR.NODE_ELEMENT)&&e.is("body")||!e.isReadOnly());)t&&"false"==e.getAttribute("contentEditable")&&o.setStartAfter(e),e=e.getParent();e=o.startContainer,t=o.endContainer;var r=o.startOffset,a=o.endOffset,s=o.clone();e&&e.type==CKEDITOR.NODE_TEXT&&(r>=e.getLength()?s.setStartAfter(e):s.setStartBefore(e)),t&&t.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(t):s.setEndBefore(t)),(e=new CKEDITOR.dom.walker(s)).evaluator=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&t.isReadOnly()){var e=o.clone();return o.setEndBefore(t),o.collapsed&&n.splice(i--,1),t.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(t),e.collapsed||n.splice(i+1,0,e)),!0}return!1},e.next()}}return n}var T,C,e,D="function"!=typeof window.getSelection,s=1,l=CKEDITOR.tools.repeat("\u200b",7),n=new RegExp(l+"( )?","g"),c=CKEDITOR.dom.walker.invisible(1),d=function(){function t(n){return function(t){var e=t.editor.createRange();return e.moveToClosestEditablePosition(t.selected,n)&&t.editor.getSelection().selectRanges([e]),!1}}function e(o){return function(t){var e,n=t.editor,i=n.createRange();if(!n.readOnly)return(e=i.moveToClosestEditablePosition(t.selected,o))||(e=i.moveToClosestEditablePosition(t.selected,!o)),e&&n.getSelection().selectRanges([i]),n.fire("saveSnapshot"),t.selected.remove(),e||(i.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([i])),n.fire("saveSnapshot"),!1}}var n=t(),i=t(1);return{37:n,38:n,39:i,40:i,8:e(),46:e(1)}}();CKEDITOR.on("instanceCreated",function(t){function e(){var t=m.getSelection();t&&t.removeAllRanges()}var m=t.editor;m.on("contentDom",function(){function t(){(o=new CKEDITOR.dom.selection(m.getSelection())).lock()}function n(){l.removeListener("mouseup",n),d.removeListener("mouseup",n);var t=CKEDITOR.document.$.selection,e=t.createRange();"None"!=t.type&&e.parentElement()&&e.parentElement().ownerDocument==s.$&&e.select()}function i(t){return(t=t.getRanges()[0])&&(t=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")},!0))&&"false"===t.getAttribute("contenteditable")?t:null}var e,o,r,a,s=m.document,l=CKEDITOR.document,c=m.editable(),u=s.getBody(),d=s.getDocumentElement(),h=c.isInline();if((CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(t){t.removeListener(),0!==e&&(t=m.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==c.$&&((t=m.createRange()).moveToElementEditStart(c),t.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(e&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){e=m._.previousActive&&m._.previousActive.equals(s.getActive());var t=null!=m._.previousScrollTop&&m._.previousScrollTop!=c.$.scrollTop;CKEDITOR.env.webkit&&e&&t&&(c.$.scrollTop=m._.previousScrollTop)}m.unlockSelection(e),e=0},null,null,-1),c.attachListener(c,"mousedown",function(){e=0}),(CKEDITOR.env.ie||h)&&(D?c.attachListener(c,"beforedeactivate",t,null,null,-1):c.attachListener(m,"selectionCheck",t,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){m.lockSelection(o),e=1},null,null,-1),c.attachListener(c,"mousedown",function(){e=0})),CKEDITOR.env.ie&&!h)&&(c.attachListener(c,"mousedown",function(t){2==t.data.$.button&&((t=m.document.getSelection())&&t.getType()!=CKEDITOR.SELECTION_NONE||(r=m.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(t){2==t.data.$.button&&r&&(m.document.$.documentElement.scrollLeft=r.x,m.document.$.documentElement.scrollTop=r.y),r=null}),"BackCompat"!=s.$.compatMode)){var f,p;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)d.on("mousedown",function(t){function e(t){if(t=t.data.$,f){var e=u.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(i){}f.setEndPoint(p.compareEndPoints("StartToStart",e)<0?"EndToEnd":"StartToStart",e),f.select()}}function n(){d.removeListener("mousemove",e),l.removeListener("mouseup",n),d.removeListener("mouseup",n),f.select()}if((t=t.data).getTarget().is("html")&&t.$.y<d.$.clientHeight&&t.$.x<d.$.clientWidth){f=u.$.createTextRange();try{f.moveToPoint(t.$.clientX,t.$.clientY)}catch(i){}p=f.duplicate(),d.on("mousemove",e),l.on("mouseup",n),d.on("mouseup",n)}});7<CKEDITOR.env.version&&CKEDITOR.env.version<11&&d.on("mousedown",function(t){t.data.getTarget().is("html")&&(l.on("mouseup",n),d.on("mouseup",n))})}(c.attachListener(c,"selectionchange",g,m),c.attachListener(c,"keyup",v,m),c.attachListener(c,"touchstart",v,m),c.attachListener(c,"touchend",v,m),CKEDITOR.env.ie&&c.attachListener(c,"keydown",function(t){var e=this.getSelection(1),n=i(e);n&&!n.equals(c)&&(e.selectElement(n),t.data.preventDefault())},m),c.attachListener(c,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){m.forceNextSelectionCheck(),m.selectionChange(1)}),h&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(c.attachListener(c,"mousedown",function(){a=1}),c.attachListener(s.getDocumentElement(),"mouseup",function(){a&&v.call(m),a=0})):c.attachListener(CKEDITOR.env.ie?c:s.getDocumentElement(),"mouseup",v,m);CKEDITOR.env.webkit&&c.attachListener(s,"keydown",function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:c.hasFocus&&b(c)}},null,null,-1),c.attachListener(c,"keydown",_(m),null,null,-1)}),m.on("setData",function(){m.unlockSelection(),CKEDITOR.env.webkit&&e()}),m.on("contentDomUnload",function(){m.unlockSelection()}),CKEDITOR.env.ie9Compat&&m.on("beforeDestroy",e,null,null,9),m.on("dataReady",function(){delete m._.fakeSelection,delete m._.hiddenSelectionContainer,m.selectionChange(1)}),m.on("loadSnapshot",function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=m.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=m.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())},null,null,100),m.on("key",function(t){if("wysiwyg"==m.mode){var e=m.getSelection();if(e.isFake){var n=d[t.data.keyCode];if(n)return n({editor:m,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(t){var n=t.editor;n.on("selectionChange",function(){var t=n.editable(),e=t.getCustomData("cke-fillingChar");e&&(e.getCustomData("ready")?(b(t),t.editor.fire("selectionCheck")):e.setCustomData("ready",1))},null,null,-1),n.on("beforeSetMode",
function(){b(n.editable())},null,null,-1),n.on("getSnapshot",function(t){t.data&&(t.data=E(t.data))},n,null,20),n.on("toDataFormat",function(t){t.data.dataValue=E(t.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(t){(t?g:v).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(t){return(t=t||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!t.isLocked&&t.lock(),this._.savedSelection=t,!0)},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return!!e&&(e.unlock(t),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection){var e=t;t=t.root}var n,i,o=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:s++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=o?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;if(t=this.getNative())if(t.getRangeAt)n=(i=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=t.createRange()}catch(f){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var O,I={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:E,_createFillingCharSequenceNode:y,FILLING_CHAR_SEQUENCE:l}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=D?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:D?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(e=CKEDITOR.SELECTION_TEXT),"Control"==i&&(e=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(y){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&I[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:(O=D?function(){function h(t){return new CKEDITOR.dom.node(t).getIndex()}var s=function(t,e){(t=t.duplicate()).collapse(e);var n=t.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var i,o,r,a,s=n.children,l=t.duplicate(),c=0,u=s.length-1,d=-1;c<=u;)if(i=s[d=Math.floor((c+u)/2)],l.moveToElementText(i),0<(r=l.compareEndPoints("StartToStart",t)))u=d-1;else{if(!(r<0))return{container:n,offset:h(i)};c=d+1}if(-1==d||d==s.length-1&&r<0){if(l.moveToElementText(n),l.setEndPoint("StartToStart",t),l=l.text.replace(/(\r\n|\r)/g,"\n").length,s=n.childNodes,!l)return(i=s[s.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:s.length}:{container:i,offset:i.nodeValue.length};for(n=s.length;0<l&&0<n;)(o=s[--n]).nodeType==CKEDITOR.NODE_TEXT&&(l-=(a=o).nodeValue.length);return{container:a,offset:-l}}if(l.collapse(0<r),l.setEndPoint(0<r?"StartToStart":"EndToStart",t),!(l=l.text.replace(/(\r\n|\r)/g,"\n").length))return{container:n,offset:h(i)+(0<r?0:1)};for(;0<l;)try{(o=i[0<r?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(l-=o.nodeValue.length,a=o),i=o}catch(p){return{container:n,offset:h(i)}}return{container:a,offset:0<r?-l:a.nodeValue.length+l}};return function(){var t=(a=this.getNative())&&a.createRange(),e=this.getType();if(!a)return[];if(e==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),e=s(t,!0),a.setStart(new CKEDITOR.dom.node(e.container),e.offset),e=s(t),a.setEnd(new CKEDITOR.dom.node(e.container),e.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(e!=CKEDITOR.SELECTION_ELEMENT)return[];e=[];for(var n=0;n<t.length;n++){for(var i=t.item(n),o=i.parentNode,r=0,a=new CKEDITOR.dom.range(this.root);r<o.childNodes.length&&o.childNodes[r]!=i;r++);a.setStart(new CKEDITOR.dom.node(o),r),a.setEnd(new CKEDITOR.dom.node(o),r+1),e.push(a)}return e}}():function(){var t,e=[],n=this.getNative();if(!n)return e;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);(t=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),t.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),e.push(t)}return e},function(t){var e=this._.cache,n=e.ranges;return n||(e.ranges=n=new CKEDITOR.dom.rangeList(O.call(this))),t?o(new CKEDITOR.dom.rangeList(n.slice())):n}),getStartElement:function(){var t,e=this._.cache;if(void 0!==e.startElement)return e.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if((t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if((t=t.getChild(n.startOffset))&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)n=(t=n).getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var o=this,e=CKEDITOR.tools.tryThese(function(){return o.getNative().createRange().item(0)},function(){for(var t,e,n=o.getRanges()[0].clone(),i=2;i&&!((t=n.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&I[t.getName()]&&(e=t));i--)n.shrink(CKEDITOR.SHRINK_ELEMENT);return e&&e.$});return t.selectedElement=e?new CKEDITOR.dom.element(e):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative();e=D?"Control"==e.type?"":e.createRange().text:e.toString();return t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var e=this.getSelectedElement(),n=this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),t&&(t=e||n[0]&&n[0].getCommonAncestor())&&t.getAscendant("body",1)&&(h(n)?f.call(this,n):i?this.fake(e):e?this.selectElement(e):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection)if(this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var n=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),!n&&t.resetDirty()}delete t._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=s++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var e=this.root.editor,n=e&&e._.hiddenSelectionContainer;if(this.reset(),n){n=this.root;for(var i,o=0;o<t.length;++o)(i=t[o]).endContainer.equals(n)&&(i.endOffset=Math.min(i.endOffset,n.getChildCount()))}if(t.length)if(this.isLocked){var r=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),r&&!r.equals(this.root)&&r.focus()}else{var a,s,l;if(1==t.length&&!(l=t[0]).collapsed&&(a=l.getEnclosedNode())&&a.type==CKEDITOR.NODE_ELEMENT&&((l=l.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(s=l.getEnclosedNode())&&s.type==CKEDITOR.NODE_ELEMENT&&(a=s),"false"==a.getAttribute("contenteditable"))||(a=void 0),a)this.fake(a);else if(e&&e.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&h(t)&&!T)f.call(this,t);else{if(D){var c,u,d;if(s=CKEDITOR.dom.walker.whitespaces(!0),a=/\ufeff|\u00a0/,l={table:1,tbody:1,tr:1},1<t.length&&(e=t[t.length-1],t[0].setEnd(e.endContainer,e.endOffset)),t=(e=t[0]).collapsed,(n=e.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in I&&(!n.is("a")||!n.getText()))try{return(d=n.$.createControlRange()).addElement(n.$),void d.select()}catch(E){}(e.startContainer.type==CKEDITOR.NODE_ELEMENT&&e.startContainer.getName()in l||e.endContainer.type==CKEDITOR.NODE_ELEMENT&&e.endContainer.getName()in l)&&(e.shrink(CKEDITOR.NODE_ELEMENT,!0),t=e.collapsed),l=(d=e.createBookmark()).startNode,t||(r=d.endNode),(d=e.document.$.body.createTextRange()).moveToElementText(l.$),d.moveStart("character",1),r?((a=e.document.$.body.createTextRange()).moveToElementText(r.$),d.setEndPoint("EndToEnd",a),d.moveEnd("character",-1)):(c=l.getNext(s),u=l.hasAscendant("pre"),c=!(c&&c.getText&&c.getText().match(a))&&(u||!l.hasPrevious()||l.getPrevious().is&&l.getPrevious().is("br")),(u=e.document.createElement("span")).setHtml("&#65279;"),u.insertBefore(l),c&&e.document.createText("\ufeff").insertBefore(l)),e.setStartBefore(l),l.remove(),t?(c?(d.moveStart("character",-1),d.select(),e.document.$.selection.clear()):d.select(),e.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()):(e.setEndBefore(r),r.remove(),d.select())}else{if(!(r=this.getNative()))return;for(this.removeAllRanges(),d=0;d<t.length;d++)if(d<t.length-1&&(c=t[d],u=t[d+1],(a=c.clone()).setStart(c.endContainer,c.endOffset),a.setEnd(u.startContainer,u.startOffset),!a.collapsed&&(a.shrink(CKEDITOR.NODE_ELEMENT,!0),e=a.getCommonAncestor(),a=a.getEnclosedNode(),e.isReadOnly()||a&&a.isReadOnly())))u.setStart(c.startContainer,c.startOffset),t.splice(d--,1);else{e=t[d],u=this.document.$.createRange(),e.collapsed&&CKEDITOR.env.webkit&&m(e)&&(a=y(this.root),e.insertNode(a),(c=a.getNext())&&!a.getPrevious()&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()?(b(this.root),e.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START)):e.moveToPosition(a,CKEDITOR.POSITION_AFTER_END)),u.setStart(e.startContainer.$,e.startOffset);try{u.setEnd(e.endContainer.$,e.endOffset)}catch(C){if(!(0<=C.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw C;e.collapse(1),u.setEnd(e.endContainer.$,e.endOffset)}r.addRange(u)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t,e){var n=this.root.editor;void 0===e&&t.hasAttribute("aria-label")&&(e=t.getAttribute("aria-label")),this.reset(),a(n,e);var i=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(t),o.setEndAfter(t),i.ranges=new CKEDITOR.dom.rangeList(o),i.selectedElement=i.startElement=t,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=s++,(n._.fakeSelection=this).root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},isInTable:function(t){return h(this.getRanges(),t)},isCollapsed:function(){var t=this.getRanges();return 1===t.length&&t[0].collapsed},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var e,n=[],i=0;i<t.length;i++){var o=new CKEDITOR.dom.range(this.root);o.moveToBookmark(t[i]),n.push(o)}return t.isFake&&((e=h(n)?n[0]._getTableElement():n[0].getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),t.isFake=0)),t.isFake&&!h(n)?this.fake(e):this.selectRanges(n),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[D?"empty":"removeAllRanges"]()}catch(r){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function I(t,e){for(var n,i;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))n=t;else if(!i){var o=t.getAttribute("contentEditable");"false"==o?n=t:"true"==o&&(i=1)}return n}function k(t,e,n,i){return(t.getPosition(e)|i)==i&&(!n.childRule||n.childRule(t))}function w(t){var e=t.document;if(t.collapsed)e=S(this,e),t.insertNode(e),t.moveToPosition(e,CKEDITOR.POSITION_BEFORE_END);else{var n,i=this.element,o=this._.definition,r=(h=o.ignoreReadonly)||o.includeReadonly;null==r&&(r=t.root.getCustomData("cke_includeReadonly"));var a=CKEDITOR.dtd[i];a||(n=!0,a=CKEDITOR.dtd.span),t.enlarge(CKEDITOR.ENLARGE_INLINE,1),t.trim();var s,l=t.createBookmark(),c=l.startNode,u=l.endNode,d=c;if(!h){var h=I(c,f=t.getCommonAncestor()),f=I(u,f);h&&(d=h.getNextSourceNode(!0)),f&&(u=f)}for(d.getPosition(u)==CKEDITOR.POSITION_FOLLOWING&&(d=0);d;){if(h=!1,d.equals(u))h=!(d=null);else{f=(E=d.type==CKEDITOR.NODE_ELEMENT?d.getName():null)&&"false"==d.getAttribute("contentEditable");var p=E&&d.getAttribute("data-nostyle");if(E&&d.data("cke-bookmark")||d.type===CKEDITOR.NODE_COMMENT){d=d.getNextSourceNode(!0);continue}if(f&&r&&CKEDITOR.dtd.$block[E])for(var m=void 0,g=0,v=(O=(D=R(v=d)).length)&&new CKEDITOR.dom.range(v.getDocument());g<O;++g){m=D[g];var y=CKEDITOR.filter.instances[m.data("cke-filter")];y&&!y.check(this)||(v.selectNodeContents(m),w.call(this,v))}if(D=E?!a[E]||p?0:f&&!r?0:k(d,u,o,A):1){if(D=o,O=i,g=n,!(m=d.getParent())||!(m.getDtd()||CKEDITOR.dtd.span)[O]&&!g||D.parentRule&&!D.parentRule(m))h=!0;else if(s||E&&CKEDITOR.dtd.$removeEmpty[E]&&(d.getPosition(u)|A)!=A||(s=t.clone()).setStartBefore(d),(E=d.type)==CKEDITOR.NODE_TEXT||f||E==CKEDITOR.NODE_ELEMENT&&!d.getChildCount()){for(var b,E=d;(h=!E.getNext(K))&&a[(b=E.getParent()).getName()]&&k(b,c,o,N);)E=b;s.setEndAfter(E)}}else h=!0;d=d.getNextSourceNode(p||f)}if(h&&s&&!s.collapsed){f=(h=S(this,e)).hasAttributes(),p=s.getCommonAncestor(),E={};for(var _,T,C,D={},O=(m={},{});h&&p;){if(p.getName()==i){for(_ in o.attributes)!O[_]&&(C=p.getAttribute(T))&&(h.getAttribute(_)==C?D[_]=1:O[_]=1);for(T in o.styles)!m[T]&&(C=p.getStyle(T))&&(h.getStyle(T)==C?E[T]=1:m[T]=1)}p=p.getParent()}for(_ in D)h.removeAttribute(_);for(T in E)h.removeStyle(T);f&&!h.hasAttributes()&&(h=null),h?(s.extractContents().appendTo(h),s.insertNode(h),x.call(this,h),h.mergeSiblings(),CKEDITOR.env.ie||h.$.normalize()):(h=new CKEDITOR.dom.element("span"),s.extractContents().appendTo(h),s.insertNode(h),x.call(this,h),h.remove(!0)),s=null}}t.moveToBookmark(l),t.shrink(CKEDITOR.SHRINK_TEXT),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function e(t){function e(){for(var t=new CKEDITOR.dom.elementPath(a.getParent()),e=new CKEDITOR.dom.elementPath(u.getParent()),n=null,i=null,o=0;o<t.elements.length;o++){var r=t.elements[o];if(r==t.block||r==t.blockLimit)break;d.checkElementRemovable(r,!0)&&(n=r)}for(o=0;o<e.elements.length&&((r=e.elements[o])!=e.block&&r!=e.blockLimit);o++)d.checkElementRemovable(r,!0)&&(i=r);i&&u.breakParent(i),n&&a.breakParent(n)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=t.createBookmark(),a=n.startNode,i=this._.definition.alwaysRemoveElement;if(t.collapsed){for(var o,r,s=new CKEDITOR.dom.elementPath(a.getParent(),t.root),l=0;l<s.elements.length&&(r=s.elements[l])&&r!=s.block&&r!=s.blockLimit;l++)if(this.checkElementRemovable(r)){var c;!i&&t.collapsed&&(t.checkBoundaryOfElement(r,CKEDITOR.END)||(c=t.checkBoundaryOfElement(r,CKEDITOR.START)))?(o=r).match=c?"start":"end":(r.mergeSiblings(),r.is(this.element)?h.call(this,r):f(r,m(this)[r.getName()]))}if(o){for(i=a,l=0;!(r=s.elements[l]).equals(o);l++)r.match||((r=r.clone()).append(i),i=r);i["start"==o.match?"insertBefore":"insertAfter"](o)}}else{var u=n.endNode,d=this;for(e(),s=a;!s.equals(u);)o=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?h.call(this,s):f(s,m(this)[s.getName()]),o.type==CKEDITOR.NODE_ELEMENT&&o.contains(a)&&(e(),o=a.getNext())),s=o}t.moveToBookmark(n),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function R(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function n(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&s(t,this)}function i(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var n=(e=this._.definition).attributes;if(n)for(var i in n)t.removeAttribute(i,n[i]);if(e.styles)for(var o in e.styles)e.styles.hasOwnProperty(o)&&t.removeStyle(o)}}function o(t){var e=t.createBookmark(!0),n=t.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=t.document;i=n.getNextParagraph();)!i.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&a(i,S(this,o,i));t.moveToBookmark(e)}function r(t){var e,n,i=t.createBookmark(1),o=t.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;e=o.getNextParagraph();)this.checkElementRemovable(e)&&(e.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&e.copyAttributes(n),a(e,n)):h.call(this,e));t.moveToBookmark(i)}function a(t,e){(n=!e)&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n,i,o=e&&e.is("pre"),r=t.is("pre"),a=!o&&r;if(o&&!r){if(r=e,(a=t.getBogus())&&a.remove(),a=(a=(a=(a=c(a=t.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=t.getDocument().createElement("div");s.append(r),r.$.outerHTML="<pre>"+a+"</pre>",r.copyAttributes(s.getFirst()),r=s.getFirst().remove()}else r.setHtml(a);e=r}else a?e=u(n?[t.getHtml()]:l(t),e):t.moveChildren(e);(e.replace(t),o)?(i=(n=e).getPrevious(C))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(o=c(i.getHtml(),/\n$/,"")+"\n\n"+c(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),i.remove()):n&&d(e)}function l(t){var n=[];return c(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(t,e,n){return e+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(t,e){n.push(e)}),n}function c(t,e,n){var i="",o="";return t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(t,e,n){return e&&(i=e),n&&(o=n),""}),i+t.replace(e,n)+o}function u(t,e){var n;1<t.length&&(n=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var i=0;i<t.length;i++){var o=(o=(o=c(o=c(o=c(o=(o=t[i]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,""),/\n$/,""),/^[ \t]+|[ \t]+$/g,function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "})).replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "});if(n){var r=e.clone();r.setHtml(o),n.append(r)}else e.setHtml(o)}return n||e}function h(t,e){var n,i=(o=this._.definition).attributes,o=o.styles,r=m(this)[t.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(o);for(n in i)("class"!=n&&!this._.definition.fullMatch||t.getAttribute(n)==g(n,i[n]))&&(e&&"data-"==n.slice(0,5)||(a=t.hasAttribute(n),t.removeAttribute(n)));for(var s in o)this._.definition.fullMatch&&t.getStyle(s)!=g(s,o[s],!0)||(a=a||!!t.getStyle(s),t.removeStyle(s));f(t,r,b[t.getName()]),a&&(this._.definition.alwaysRemoveElement?d(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?d(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function x(t){for(var e,n=m(this),i=t.getElementsByTag(this.element),o=i.count();0<=--o;)(e=i.getItem(o)).isReadOnly()||h.call(this,e,!0);for(var r in n)if(r!=this.element)for(o=(i=t.getElementsByTag(r)).count()-1;0<=o;o--)(e=i.getItem(o)).isReadOnly()||f(e,n[r])}function f(t,e,n){if(e=e&&e.attributes)for(var i=0;i<e.length;i++){var o,r=e[i][0];if(o=t.getAttribute(r)){var a=e[i][1];(null===a||a.test&&a.test(o)||"string"==typeof a&&o==a)&&t.removeAttribute(r)}}n||d(t)}function d(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var n=t.getPrevious(C),i=t.getNext(C);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||t.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||t.append("br"),t.remove(!0)}else n=t.getFirst(),i=t.getLast(),t.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function S(t,e,n){var i;return"*"==(i=t.element)&&(i="span"),i=new CKEDITOR.dom.element(i,e),n&&n.copyAttributes(i),i=s(i,t),e.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):e.setCustomData("doc_processing_style",1),i}function s(t,e){var n=(i=e._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)t.setAttribute(o,n[o]);return i&&t.setAttribute("style",i),t.getDocument().removeCustomData("doc_processing_style"),t}function p(t,n){for(var e in t)t[e]=t[e].replace(T,function(t,e){return n[e]})}function m(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},n=t._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o,r;if("string"==typeof(s=n[i])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():t.element,r=s.attributes),s=e[o]||(e[o]={}),r){var a,s=s.attributes=s.attributes||[];for(a in r)s.push([a.toLowerCase(),r[a]])}}}return e}function g(t,e,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](t,e),i[n?"getStyle":"getAttribute"](t)}function v(t,e){function n(t,e){return"font-family"==e.toLowerCase()?t.replace(/["']/g,""):t}for(var i in"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t)),"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0)),t)if(!(i in e)||n(e[i],i)!=n(t[i],i)&&"inherit"!=t[i]&&"inherit"!=e[i])return!1;return!0}function y(t,e,n){var i,o,r=t.getRanges();if(e=e?this.removeFromRange:this.applyToRange,t.isFake&&t.isInTable())for(i=[],o=0;o<r.length;o++)i.push(r[o].clone());for(var a=r.createIterator();o=a.getNextRange();)e.call(this,o,n);t.selectRanges(i||r)}var b={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},E={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},_=/\s*(?:;\s*|$)/,T=/#\((.+?)\)/g,K=CKEDITOR.dom.walker.bookmark(0,1),C=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var n=t.attributes;n&&n.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),e&&(p((t=CKEDITOR.tools.clone(t)).attributes,e),p(t.styles,e)),n=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(b[n]?CKEDITOR.STYLE_BLOCK:E[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return y.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),y.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return y.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),y.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?w:this.type==CKEDITOR.STYLE_BLOCK?o:this.type==CKEDITOR.STYLE_OBJECT?n:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?r:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.removeFromRange(t)},applyToObject:function(t){s(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=t.elements,o=0;o<i.length;o++)if(n=i[o],this.type!=CKEDITOR.STYLE_INLINE||n!=t.block&&n!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var r=n.getName();if(!("string"==typeof this.element?r==this.element:r in this.element))continue}if(this.checkElementRemovable(n,!0,e))return!0}}return!1},checkApplicable:function(t,e,n){if(e&&e instanceof CKEDITOR.filter&&(n=e),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var n=this._.definition;if(!t||!n.ignoreReadonly&&t.isReadOnly())return!1;var i=t.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!e&&!t.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var o=0,r=n.attributes;if(r)for(var a in r)o++,i[a]=r[a];(a=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=a),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=t.getAttribute(s)||"","style"==s?v(n[s],i):n[s]==i){if(!e)return!0}else if(e)return!1;if(e)return!0}return!1},checkElementRemovable:function(t,e,n){if(this.checkElementMatch(t,e,n))return!0;if(e=m(this)[t.getName()]){var i;if(!(e=e.attributes))return!0;for(n=0;n<e.length;n++)if(i=e[n][0],i=t.getAttribute(i)){var o=e[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(t){var e=this._.definition,n=[],i=e.element;"bdo"==i&&(i="span");n=["<",i];var o=e.attributes;if(o)for(var r in o)n.push(" ",r,'="',o[r],'"');return(o=CKEDITOR.style.getStyleText(e))&&n.push(' style="',o,'"'),n.push(">",t||e.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){if(e=t._ST)return e;var e=t.styles,n=t.attributes&&t.attributes.style||"",i="";for(var o in n.length&&(n=n.replace(_,";")),e){var r=e[o],a=(o+":"+r).replace(_,";");"inherit"==r?i+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),t._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(t){var e=function(t){this._={definition:t},this.setup&&this.setup(t)};return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var A=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,N=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,n){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var o=this._.styleStateChangeCallbacks;o||(o=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(t){for(var e=0;e<o.length;e++){var n=o[e],i=n.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,i)}})),o.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var n=this;if(!1===(t=n.config.stylesCombo_stylesSet||n.config.stylesSet))e(null);else if(t instanceof Array)n._.stylesDefinitions=t,e(t);else{t||(t="default");var t,i=(t=t.split(":"))[0];CKEDITOR.stylesSet.addExternal(i,t[1]?t.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(t){n._.stylesDefinitions=t[i],e(n._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var t,u={},d={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(u[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(d[t]=1);CKEDITOR.dom.elementPath=function(t,e){var n,i=null,o=null,r=[],a=t;e=e||t.getDocument().getBody(),a||(a=e);do{if(a.type==CKEDITOR.NODE_ELEMENT){if(r.push(a),!this.lastElement&&((this.lastElement=a).is(CKEDITOR.dtd.$object)||"false"==a.getAttribute("contenteditable")))continue;if(a.equals(e))break;if(!o&&(n=a.getName(),"true"==a.getAttribute("contenteditable")?o=a:!i&&d[n]&&(i=a),u[n])){if(n=!i&&"div"==n){t:{for(var s=0,l=(n=a.getChildren()).count();s<l;s++){var c=n.getItem(s);if(c.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[c.getName()]){n=!0;break t}}n=!1}n=!n}n?i=a:o=a}}}while(a=a.getParent());o||(o=e),this.block=i,this.blockLimit=o,this.root=e,this.elements=r}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements;if(!(t=t&&t.elements)||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0},contains:function(e,t,n){var i,o=0;"string"==typeof e&&(i=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?i=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?i=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?i=e:"object"==typeof e&&(i=function(t){return t.getName()in e});var r=this.elements,a=r.length;for(t&&(n?o+=1:--a),n&&(r=Array.prototype.slice.call(r,0)).reverse();o<a;o++)if(i(r[o]))return r[o];return null},isContextFor:function(t){return!(t in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[t]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},split:function(t){var e=this.$.parentNode,n=e.childNodes.length,i=this.getLength(),o=this.getDocument(),r=new CKEDITOR.dom.text(this.$.splitText(t),o);return e.childNodes.length==n&&(i<=t?(r=o.createText("")).insertAfter(this):((t=o.createText("")).insertAfter(r),t.remove())),r},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function r(t,e,n){var i=t.serializable,o=e[n?"endContainer":"startContainer"],r=n?"endOffset":"startOffset",a=i?e.document.getById(t.startNode):t.startNode;return t=i?e.document.getById(t.endNode):t.endNode,o.equals(a.getPrevious())?(e.startOffset=e.startOffset-o.getLength()-t.getPrevious(
).getLength(),o=t.getNext()):o.equals(t.getPrevious())&&(e.startOffset-=o.getLength(),o=t.getNext()),o.equals(a.getParent())&&e[r]++,o.equals(t.getParent())&&e[r]++,e[n?"endContainer":"startContainer"]=o,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var r,a=this,s=CKEDITOR.dom.walker.bookmark(),l=[];return{getNextRange:function(t){var e=a[r=void 0===r?0:r+1];if(e&&1<a.length){if(!r)for(var n=a.length-1;0<=n;n--)l.unshift(a[n].createBookmark(!0));if(t)for(var i=0;a[r+i+1];){var o=e.document;for(t=0,n=o.getById(l[i].endNode),o=o.getById(l[i+1].startNode);;){if(n=n.getNextSourceNode(!1),o.equals(n))t=1;else if(s(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())continue;break}if(!t)break;i++}for(e.moveToBookmark(l.shift());i--;)(n=a[++r]).moveToBookmark(l.shift()),e.setEnd(n.endContainer,n.endOffset)}return e}}},createBookmarks:function(t){for(var e,n=[],i=0;i<this.length;i++){n.push(e=this[i].createBookmark(t,!0));for(var o=i+1;o<this.length;o++)this[o]=r(e,this[o]),this[o]=r(e,this[o],!0)}return n},createBookmarks2:function(t){for(var e=[],n=0;n<this.length;n++)e.push(this[n].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function r(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function n(t){var e=CKEDITOR.skin["ua_"+t],n=CKEDITOR.env;if(e){e=e.split(",").sort(function(t,e){return e<t?-1:1});for(var i,o=0;o<e.length;o++)if(i=e[o],n.ie&&(i.replace(/^ie/,"")==n.version||n.quirks&&"iequirks"==i)&&(i="ie"),n[i]){t+="_"+e[o];break}}return CKEDITOR.getUrl(r()+t+".css")}function i(t,e){o[t]||(CKEDITOR.document.appendStyleSheet(n(t)),o[t]=1),e&&e()}function a(t){var e=t.getById(l);return e||((e=t.getHead().append("style")).setAttribute("id",l),e.setAttribute("type","text/css")),e}function s(t,e,n){var i,o,r;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),o=0;o<e.length;o++)e[o]=e[o].split("{");for(var a=0;a<t.length;a++)if(CKEDITOR.env.webkit)for(o=0;o<e.length;o++){for(r=e[o][1],i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);t[a].$.sheet.addRule(e[o][0],r)}else{for(r=e,i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?t[a].$.styleSheet.cssText+=r:t[a].$.innerHTML+=r}}var o={};CKEDITOR.skin={path:r,loadPart:function(t,e){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r()+"skin.js"),function(){i(t,e)}):i(t,e)},getPath:function(t){return CKEDITOR.getUrl(n(t))},icons:{},addIcon:function(t,e,n,i){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(t,e,n,i,o){var r;return t&&(t=t.toLowerCase(),e&&(r=this.icons[t+"-rtl"]),r||(r=this.icons[t])),t=n||r&&r.path||"",i=i||r&&r.offset,o=o||r&&r.bgsize||"16px",t&&(t=t.replace(/'/g,"\\'")),t&&"background-image:url('"+CKEDITOR.getUrl(t)+"');background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var o=a(CKEDITOR.document);return(this.setUiColor=function(t){this.uiColor=t;var e=CKEDITOR.skin.chameleon,n="",i="";"function"==typeof e&&(n=e(this,"editor"),i=e(this,"panel")),s([o],n,t=[[u,t]]),s(c,i,t)}).call(this,t)}});var l="cke_ui_color",c=[],u=/\$color/g;CKEDITOR.on("instanceLoaded",function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var n=t.editor;t=function(t){if(!(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){t=a(t),c.push(t);var e=n.getUiColor();e&&s([t],CKEDITOR.skin.chameleon(n,"panel"),[[u,e]])}},n.on("panelShow",t),n.on("menuShow",t),n.config.uiColor&&n.setUiColor(n.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),n=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=n)}catch(i){CKEDITOR.env.hc=!1}t.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=(T=function(t,e){for(var n=t.match(/[^#]./g),i=0;i<3;i++){var o,r=i;o=parseInt(n[i],16),o=("0"+(e<0?0|o*(1+e):0|o+(255-o)*e).toString(16)).slice(-2),n[r]=o}return"#"+n.join("")},C={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")},function(t,e){var n=T(t.uiColor,.4);return n={id:"."+t.id,defaultBorder:T(n,-.2),toolbarElementsBorder:T(n,-.25),defaultBackground:n,lightBackground:T(n,.8),darkBackground:T(n,-.15),ckeButtonOn:T(n,.4),ckeResizer:T(n,-.4),ckeColorauto:T(n,.8),dialogBody:T(n,.7),dialogTab:T(n,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:T(n,-.6),menubuttonHover:T(n,.1),menubuttonIcon:T(n,.5),menubuttonIconHover:T(n,.3)},C[e].output(n).replace(/\[/g,"{").replace(/\]/g,"}")}),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var s,l,c,u=function(t){this._||(this._={}),this._["default"]=this._.initValue=t["default"]||"",this._.required=t.required||!1;for(var e=[this._],n=1;n<arguments.length;n++)e.push(arguments[n]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._},t={build:function(t,e,n){return new CKEDITOR.ui.dialog.textInput(t,e,n)}},e={build:function(t,e,n){return new CKEDITOR.ui.dialog[e.type](t,e,n)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},i=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",function(){this.getInputElement().on("change",function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),o=/^on([A-Z]\w+)/,m=function(t){for(var e in t)(o.test(e)||"title"==e||"type"==e)&&delete t[e];return t},d=function(t){(t=t.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):t==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(n,i,t,o){if(!(arguments.length<4)){var r=u.call(this,i);r.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var e={role:i.role||"presentation"};i.includeLabel&&(e["aria-labelledby"]=r.labelId),CKEDITOR.ui.dialog.uiElement.call(this,n,i,t,"div",null,e,function(){var t=[],e=i.required?" cke_required":"";return"horizontal"!=i.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+e+'" ',' id="'+r.labelId+'"',r.inputId?' for="'+r.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',o.call(this,n,i),"</div>"):(e={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+e+'" id="'+r.labelId+'" for="'+r.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+o.call(this,n,i)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(n,e,t)),t.join("")})}},textInput:function(e,n,t){if(!(arguments.length<3)){u.call(this,n);var i=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={"class":"cke_dialog_ui_input_"+n.type,id:i,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var r=this,a=!1;e.on("load",function(){r.getInputElement().on("keydown",function(t){13==t.data.getKeystroke()&&(a=!0)}),r.getInputElement().on("keyup",function(t){13==t.data.getKeystroke()&&a&&(e.getButton("ok")&&setTimeout(function(){e.getButton("ok").click()},0),a=!1),r.bidi&&d.call(r,t)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,t,function(){var t=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var e in n.width&&t.push('style="width:'+n.width+'" '),t.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required),o)t.push(e+'="'+o[e]+'" ');return t.push(" /></div>"),t.join("")})}},textarea:function(t,e,n){if(!(arguments.length<3)){u.call(this,e);var i=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",r={};e.validate&&(this.validate=e.validate),r.rows=e.rows||5,r.cols=e.cols||20,r["class"]="cke_dialog_ui_input_textarea "+(e["class"]||""),"undefined"!=typeof e.inputStyle&&(r.style=e.inputStyle),e.dir&&(r.dir=e.dir),i.bidi&&t.on("load",function(){i.getInputElement().on("keyup",d)},i),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(t in r)e.push(t+'="'+CKEDITOR.tools.htmlEncode(r[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(i._["default"]),"</textarea></div>"),e.join("")})}},checkbox:function(o,r,t){if(!(arguments.length<3)){var a=u.call(this,r,{"default":!!r["default"]});r.validate&&(this.validate=r.validate),CKEDITOR.ui.dialog.uiElement.call(this,o,r,t,"span",null,null,function(){var t=CKEDITOR.tools.extend({},r,{id:r.id?r.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),e=[],n=CKEDITOR.tools.getNextId()+"_label",i={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":n};return m(t),r["default"]&&(i.checked="checked"),"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),a.checkbox=new CKEDITOR.ui.dialog.uiElement(o,t,e,"input",null,i),e.push(' <label id="',n,'" for="',i.id,'"'+(r.labelStyle?' style="'+r.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(r.label),"</label>"),e.join("")})}},radio:function(d,h,t){if(!(arguments.length<3)){u.call(this,h),this._["default"]||(this._["default"]=this._.initValue=h.items[0][1]),h.validate&&(this.validate=h.validate);var f=[],p=this;h.role="radiogroup",h.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,d,h,t,function(){for(var t=[],e=[],n=(h.id?h.id:CKEDITOR.tools.getNextId())+"_radio",i=0;i<h.items.length;i++){var o=h.items[i],r=void 0!==o[2]?o[2]:o[0],a=void 0!==o[1]?o[1]:o[0],s=(l=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",l=CKEDITOR.tools.extend({},h,{id:l,title:null,type:null},!0),c=(r=CKEDITOR.tools.extend({},l,{title:r},!0),{type:"radio","class":"cke_dialog_ui_radio_input",name:n,value:a,"aria-labelledby":s}),u=[];p._["default"]==a&&(c.checked="checked"),m(l),m(r),"undefined"!=typeof l.inputStyle&&(l.style=l.inputStyle),l.keyboardFocusable=!0,f.push(new CKEDITOR.ui.dialog.uiElement(d,l,u,"input",null,c)),u.push(" "),new CKEDITOR.ui.dialog.uiElement(d,r,u,"label",null,{id:s,"for":c.id},o[0]),t.push(u.join(""))}return new CKEDITOR.ui.dialog.hbox(d,f,t,e),e.join("")}),this._.children=f}},button:function(t,e,n){if(arguments.length){"function"==typeof e&&(e=e(t.getParentEditor())),u.call(this,e,{disabled:e.disabled||!1}),CKEDITOR.event.implementOn(this);var i=this;t.on("load",function(){var t=this.getElement();t.on("click",function(t){i.click(),t.data.preventDefault()}),t.on("keydown",function(t){t.data.getKeystroke()in{32:1}&&(i.click(),t.data.preventDefault())}),t.unselectable()},this);var o=CKEDITOR.tools.extend({},e);delete o.style;var r=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,o,n,"a",null,{style:e.style,href:"javascript:void(0)",title:e.label,hidefocus:"true","class":e["class"],role:"button","aria-labelledby":r},'<span id="'+r+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(e.label)+"</span>")}},select:function(a,s,t){if(!(arguments.length<3)){var l=u.call(this,s);s.validate&&(this.validate=s.validate),l.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,a,s,t,function(){var t=CKEDITOR.tools.extend({},s,{id:s.id?s.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),e=[],n=[],i={id:l.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};e.push('<div class="cke_dialog_ui_input_',s.type,'" role="presentation"'),s.width&&e.push('style="width:'+s.width+'" '),e.push(">"),void 0!==s.size&&(i.size=s.size),void 0!==s.multiple&&(i.multiple=s.multiple),m(t);for(var o,r=0;r<s.items.length&&(o=s.items[r]);r++)n.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==o[1]?o[1]:o[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(o[0]));return"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),l.select=new CKEDITOR.ui.dialog.uiElement(a,t,e,"select",null,i,n.join("")),e.push("</div>"),e.join("")})}},file:function(t,e,n){if(!(arguments.length<3)){void 0===e["default"]&&(e["default"]="");var i=CKEDITOR.tools.extend(u.call(this,e),{definition:e,buttons:[]});e.validate&&(this.validate=e.validate),t.on("load",function(){CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){i.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',i.frameId,'" title="',e.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")})}},fileButton:function(n,i,t){var e=this;if(!(arguments.length<3)){u.call(this,i),i.validate&&(this.validate=i.validate);var o=CKEDITOR.tools.extend({},i),r=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(t){var e=i["for"];!1!==(t=!!r&&r.call(this,t))&&("xhr"!==t&&n.getContentElement(e[0],e[1]).submit(),this.disable())},n.on("load",function(){n.getContentElement(i["for"][0],i["for"][1])._.buttons.push(e)}),CKEDITOR.ui.dialog.button.call(this,n,o,t)}},html:(s=/^\s*<[\w:]+\s+([^>]*)?>/,l=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,c=/\/$/,function(t,e,n){if(!(arguments.length<3)){var i=[],o=e.html;"<"!=o.charAt(0)&&(o="<span>"+o+"</span>");var r=e.focus;if(r){var a=this.focus;this.focus=function(){("function"==typeof r?r:a).call(this),this.fire("focus")},e.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,t,e,i,"span",null,null,""),i=i.join("").match(s),o=o.match(l)||["","",""],c.test(o[1])&&(o[1]=o[1].slice(0,-1),o[2]="/"+o[2]),n.push([o[1]," ",i[1]||"",o[2]].join(""))}}),fieldset:function(t,e,n,i,o){var r=o.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,o,i,"fieldset",null,null,function(){var t=[];r&&t.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+r+"</legend>");for(var e=0;e<n.length;e++)t.push(n[e]);return t.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return e.getChildCount()<1?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||t.getChildCount()<1?"":t.getChild(0).getText()},eventProcessors:i},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",function(){e.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(t){if(this.bidi){var e=t&&t.charAt(0);(e="\u202a"==e?"ltr":"\u202b"==e?"rtl":null)&&(t=t.slice(1)),this.setDirectionMarker(e)}return t||(t=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var t=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&t){var e=this.getDirectionMarker();e&&(t=("ltr"==e?"\u202a":"\u202b")+t)}return t},setDirectionMarker:function(t){var e=this.getInputElement();t?e.setAttributes({dir:t,"data-cke-dir-marker":t}):this.getDirectionMarker()&&e.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=t,i.$.value=null==e?t:e,null==n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){this.getInputElement().$.checked=t,!e&&this.fire("change",{value:t})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",e),null)}},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(t,e){for(var n,i=this._.children,o=0;o<i.length&&(n=i[o]);o++)n.getElement().$.checked=n.getValue()==t;!e&&this.fire("change",{value:t})},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){for(var t=this._.children,e=this,n=0;n<t.length;n++)t[n].getElement().on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",e),null)}}},n,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,o=function(t,e,n,i){t.on("formLoaded",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},reset:function(){function t(){i.$.open();var t="";o.size&&(t=o.size-(CKEDITOR.env.ie?7:0));var e=n.frameId+"_input";for(i.$.write(['<html dir="'+l+'" lang="'+c+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+l+'" lang="'+c+'" action="',CKEDITOR.tools.htmlEncode(o.action),'"><label id="',n.labelId,'" for="',e,'" style="display:none">',CKEDITOR.tools.htmlEncode(o.label),'</label><input style="width:100%" id="',e,'" aria-labelledby="',n.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(o.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<t?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+a+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","</script>"].join("")),i.$.close(),t=0;t<r.length;t++)r[t].enable()}var n=this._,i=CKEDITOR.document.getById(n.frameId).getFrameDocument(),o=n.definition,r=n.buttons,a=this.formLoadedNumber,s=this.formUnloadNumber,l=n.dialog._.editor.lang.dir,c=n.dialog._.editor.langCode;a||(a=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(a),CKEDITOR.tools.removeFunction(s)})),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("tel",t),CKEDITOR.dialog.addUIElement("textarea",e),CKEDITOR.dialog.addUIElement("checkbox",e),CKEDITOR.dialog.addUIElement("radio",e),CKEDITOR.dialog.addUIElement("button",e),CKEDITOR.dialog.addUIElement("select",e),CKEDITOR.dialog.addUIElement("file",e),CKEDITOR.dialog.addUIElement("fileButton",e),CKEDITOR.dialog.addUIElement("html",e),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,n){for(var i,o=e.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,r,n,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function v(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,n=e-1;e-t<n;n--)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function y(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=e+1;n<e+t;n++)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function r(t,e){for(var n=t.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var r=new CKEDITOR.dom.element(n[i]);"text"==r.getAttribute("type").toLowerCase()&&(e?(r.setAttribute("value",r.getCustomData("fake_value")||""),r.removeCustomData("fake_value")):(r.setCustomData("fake_value",r.getAttribute("value")),r.setAttribute("value","")))}}function b(t,e){var n=this.getInputElement();n&&(t?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}function E(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}function _(t){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",h).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=e.getChild([0,0,0,0,0]),i=n.getChild(0),o=n.getChild(1);return t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(t="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+t+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),o.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:i,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}function i(t,e,n){this.element=e,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),e.on("focus",function(){this.fire("mouseover")}),e.on("blur",function(){this.fire("mouseout")})}function l(t){function e(){t.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",e),t.on("hide",function(){n.removeListener("resize",e)})}function a(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function T(s){function n(t){var e=s.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=t.data.$.screenX,o=t.data.$.screenY,r=i-l.x,a=o-l.y;l={x:i,y:o},c.x+=r,c.y+=a,s.move(c.x+h[3]<d?-h[3]:c.x-h[1]>n.width-e.width-d?n.width-e.width+("rtl"==u.lang.dir?0:h[1]):c.x,c.y+h[0]<d?-h[0]:c.y-h[2]>n.height-e.height-d?n.height-e.height+h[2]:c.y,1),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mousemove",n),CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.env.ie6Compat){var t=I.getChild(0).getFrameDocument();t.removeListener("mousemove",n),t.removeListener("mouseup",i)}}var l=null,c=null,u=s.getParentEditor(),d=u.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];void 0===d&&(d=20),s.parts.title.on("mousedown",function(t){if(l={x:t.data.$.screenX,y:t.data.$.screenY},CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),c=s.getPosition(),CKEDITOR.env.ie6Compat){var e=I.getChild(0).getFrameDocument();e.on("mousemove",n),e.on("mouseup",i)}t.data.preventDefault()},s)}function C(l){function n(t){var e="rtl"==g.lang.dir,n=m.width,i=m.height,o=n+(t.data.$.screenX-p.x)*(e?-1:1)*(l._.moved?1:2),r=i+(t.data.$.screenY-p.y)*(l._.moved?1:2),a=l._.element.getFirst(),s=(a=e&&a.getComputedStyle("right"),l.getPosition());s.y+r>f.height&&(r=f.height-s.y),(e?a:s.x)+o>f.width&&(o=f.width-(e?a:s.x)),u!=CKEDITOR.DIALOG_RESIZE_WIDTH&&u!=CKEDITOR.DIALOG_RESIZE_BOTH||(n=Math.max(c.minWidth||0,o-d)),u!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&u!=CKEDITOR.DIALOG_RESIZE_BOTH||(i=Math.max(c.minHeight||0,r-h)),l.resize(n,i),l._.moved||l.layout(),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.document.removeListener("mousemove",n),o&&(o.remove(),o=null),CKEDITOR.env.ie6Compat){var t=I.getChild(0).getFrameDocument();t.removeListener("mouseup",i),t.removeListener("mousemove",n)}}var c=l.definition,u=c.resizable;if(u!=CKEDITOR.DIALOG_RESIZE_NONE){var d,h,f,p,m,o,g=l.getParentEditor(),e=CKEDITOR.tools.addFunction(function(t){m=l.getSize();var e=l.parts.contents;e.$.getElementsByTagName("iframe").length&&(o=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),e.append(o)),h=m.height-l.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),d=m.width-l.parts.contents.getSize("width",1),p={x:t.screenX,y:t.screenY},f=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),CKEDITOR.env.ie6Compat&&((e=I.getChild(0).getFrameDocument()).on("mousemove",n),e.on("mouseup",i)),t.preventDefault&&t.preventDefault()});l.on("load",function(){var t="";u==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":u==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+g.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(g.lang.common.resize
)+'" onmousedown="CKEDITOR.tools.callFunction('+e+', event )">'+("ltr"==g.lang.dir?"\u25e2":"\u25e3")+"</div>"),l.parts.footer.append(t,1)}),g.on("destroy",function(){CKEDITOR.tools.removeFunction(e)})}}function c(t){t.data.preventDefault(1)}function u(t){var n=CKEDITOR.document.getWindow(),e=t.config,i=CKEDITOR.skinName||t.config.skin,o=e.dialog_backgroundCoverColor||("moono-lisa"==i?"black":"white"),r=(i=e.dialog_backgroundCoverOpacity,e.baseFloatZIndex),a=(e=CKEDITOR.tools.genKey(o,i,r),A[e]);a?a.show():(r=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",r,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+o,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(o="<html><body style=\\'background-color:"+o+";\\'></body></html>",r.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),r.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+o+"' );document.close();")+"})())"),r.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),r.push("</div>"),(a=CKEDITOR.dom.element.createFromHtml(r.join(""))).setOpacity(void 0!==i?i:.5),a.on("keydown",c),a.on("keypress",c),a.on("keyup",c),a.appendTo(CKEDITOR.document.getBody()),A[e]=a),t.focusManager.add(a),I=a;var s=function(){var t=n.getScrollPosition(),e=CKEDITOR.dialog._.currentTop;if(a.setStyles({left:t.x+"px",top:t.y+"px"}),e)for(;t=e.getPosition(),e.move(t.x,t.y),e=e._.parentDialog;);};if(g=t=function(){var t=n.getViewPaneSize();a.setStyles({width:t.width+"px",height:t.height+"px"})},n.on("resize",t),t(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||a.focus(),CKEDITOR.env.ie6Compat){var l=function(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)};n.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function o(t){I&&(t.focusManager.remove(I),t=CKEDITOR.document.getWindow(),I.hide(),t.removeListener("resize",g),CKEDITOR.env.ie6Compat&&t.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),g=null)}var t,n,s,d=CKEDITOR.tools.cssLength,h='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(o,t){function e(){var t=p._.focusList;t.sort(function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex});for(var e=t.length,n=0;n<e;n++)t[n].focusIndex=n}function r(t){var e=p._.focusList;if(t=t||0,!(e.length<1)){var n=p._.currentFocusIndex;p._.tabBarMode&&t<0&&(n=0);try{e[n].getInputElement().$.blur()}catch(a){}var i=n,o=1<p._.pageCount;do{if(i+=t,o&&!p._.tabBarMode&&(i==e.length||-1==i))return p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),void(p._.currentFocusIndex=-1);if((i=(i+e.length)%e.length)==n)break}while(t&&!e[i].isFocusable());e[i].focus(),"text"==e[i].type&&e[i].select()}}function a(t){if(p==CKEDITOR.dialog._.currentTop){var e=t.data.getKeystroke(),n="rtl"==o.lang.dir,i=[37,38,39,40];if(l=c=0,9==e||e==CKEDITOR.SHIFT+9)r(e==CKEDITOR.SHIFT+9?-1:1),l=1;else if(e==CKEDITOR.ALT+121&&!p._.tabBarMode&&1<p.getPageCount())p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1,l=1;else if(-1!=CKEDITOR.tools.indexOf(i,e)&&p._.tabBarMode)e=-1!=CKEDITOR.tools.indexOf([n?39:37,38],e)?v.call(p):y.call(p),p.selectPage(e),p._.tabs[e][0].focus(),l=1;else if(13!=e&&32!=e||!p._.tabBarMode)if(13==e)(e=t.data.getTarget()).is("a","button","select","textarea")||e.is("input")&&"button"==e.$.type||((e=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(e.click,0,e),l=1),c=1;else{if(27!=e)return;(e=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(e.click,0,e):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),c=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1),l=1;s(t)}}function s(t){l?t.data.preventDefault(1):c&&t.data.stopPropagation()}var l,c,n=CKEDITOR.dialog._.dialogDefinitions[t],i=CKEDITOR.tools.clone(D),u=o.config.dialog_buttonsOrder||"OS",d=o.lang.dir,h={};if(("OS"==u&&CKEDITOR.env.mac||"rtl"==u&&"ltr"==d||"ltr"==u&&"rtl"==d)&&i.buttons.reverse(),n=CKEDITOR.tools.extend(n(o),i),n=CKEDITOR.tools.clone(n),n=new O(this,n),i=_(o),this._={editor:o,element:i.element,name:t,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=i.parts,CKEDITOR.tools.setTimeout(function(){o.fire("ariaWidget",this.parts.contents)},0,this),(i={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"})["rtl"==d?"right":"left"]=0,this.parts.dialog.setStyles(i),CKEDITOR.event.call(this),this.definition=n=CKEDITOR.fire("dialogDefinition",{name:t,definition:n},o).definition,!("removeDialogTabs"in o._)&&o.config.removeDialogTabs){for(i=o.config.removeDialogTabs.split(";"),d=0;d<i.length;d++)if(2==(u=i[d].split(":")).length){var f=u[0];h[f]||(h[f]=[]),h[f].push(u[1])}o._.removeDialogTabs=h}if(o._.removeDialogTabs&&(h=o._.removeDialogTabs[t]))for(d=0;d<h.length;d++)n.removeContents(h[d]);n.onLoad&&this.on("load",n.onLoad),n.onShow&&this.on("show",n.onShow),n.onHide&&this.on("hide",n.onHide),n.onOk&&this.on("ok",function(t){o.fire("saveSnapshot"),setTimeout(function(){o.fire("saveSnapshot")},0),!1===n.onOk.call(this,t)&&(t.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,n.onCancel&&this.on("cancel",function(t){!1===n.onCancel.call(this,t)&&(t.data.hide=!1)});var p=this,m=function(t){var e,n=p._.contents;for(e in n)for(var i in n[e])if(t.call(this,n[e][i]))return};this.on("ok",function(i){m(function(t){if(t.validate){var e=t.validate(this),n="string"==typeof e||!1===e;return n&&(i.data.hide=!1,i.stop()),b.call(t,!n,"string"==typeof e?e:void 0),n}})},this,null,0),this.on("cancel",function(e){m(function(t){if(t.isChanged())return o.config.dialog_noConfirmCancel||confirm(o.lang.common.confirmCancel)||(e.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()},this),this.changeFocus=r;var g=this._.element;for(o.focusManager.add(g,1),this.on("show",function(){g.on("keydown",a,this),CKEDITOR.env.gecko&&g.on("keypress",s,this)}),this.on("hide",function(){g.removeListener("keydown",a),CKEDITOR.env.gecko&&g.removeListener("keypress",s),m(function(t){E.apply(t)})}),this.on("iframeAdded",function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",a,this,null,0)}),this.on("show",function(){e();var t=1<p._.pageCount;o.config.dialog_startupFocusTab&&t?(p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=t?-1:this._.focusList.length-1,n.onFocus?(t=n.onFocus.call(this))&&t.focus():r(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)},this),T(this),C(this),new CKEDITOR.dom.text(n.title,CKEDITOR.document).appendTo(this.parts.title),d=0;d<n.contents.length;d++)(h=n.contents[d])&&this.addPage(h);for(this.parts.tabs.on("click",function(t){var e=t.data.getTarget();e.hasClass("cke_dialog_tab")&&(e=e.$.id,this.selectPage(e.substring(4,e.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1)),t.data.preventDefault())},this),d=[],h=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:n.buttons},d).getChild(),this.parts.footer.setHtml(d.join("")),d=0;d<h.length;d++)this._.buttons[h[d].id]=h[d]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(t,e){this._.contentSize&&this._.contentSize.width==t&&this._.contentSize.height==e||(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:t,height:e})},getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir,r="fixed"==i.getComputedStyle("position");CKEDITOR.env.ie&&i.setStyle("zoom","100%"),r&&this._.position&&this._.position.x==t&&this._.position.y==e||(this._.position={x:t,y:e},r||(t+=(r=CKEDITOR.document.getWindow().getScrollPosition()).x,e+=r.y),o&&(r=this.getSize(),t=CKEDITOR.document.getWindow().getViewPaneSize().width-r.width-t),(e={top:(0<e?e:0)+"px"})[o?"right":"left"]=(0<t?t:0)+"px",i.setStyles(e),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition;for(var n in t.getParent()&&t.getParent().equals(CKEDITOR.document.getBody())?t.setStyle("display","block"):t.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?((CKEDITOR.dialog._.currentTop=this)._.parentDialog=null,u(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),t.on("keydown",L),t.on("keyup",P),this._.hasFocus=!1,e.contents)if(e.contents[n]){t=e.contents[n];var i=this._.tabs[t.id],o=t.requiredContent,r=0;if(i){for(var a in this._.contents[t.id]){var s=this._.contents[t.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),r++))}!r||o&&!this._.editor.activeFilter.check(o)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),l(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(t){t.setInitValue&&t.setInitValue()})},100,this)},layout:function(){var t=this.parts.dialog,e=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=(n.width-e.width)/2,o=(n.height-e.height)/2;CKEDITOR.env.ie6Compat||(e.height+(0<o?o:0)>n.height||e.width+(0<i?i:0)>n.width?t.setStyle("position","absolute"):t.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:i,this._.moved?this._.position.y:o)},foreach:function(t){for(var e in this._.contents)for(var n in this._.contents[e])t.call(this,this._.contents[e][n]);return this},reset:(t=function(t){t.reset&&t.reset(1)},function(){return this.foreach(t),this}),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),M(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst();e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else o(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",L),t.removeListener("keyup",P);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(t){t.resetInitValue&&t.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],n=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),o=this._.contents[t.id]={},r=i.getChild(),a=0;i=r.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||a++,"function"==typeof(o[i.id]=i).getChild&&r.push.apply(r,i.getChild());a||(t.hidden=!0),(e=CKEDITOR.dom.element.createFromHtml(e.join(""))).setAttribute("role","tabpanel"),i=CKEDITOR.env,o="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,t.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",o),this._.tabs[t.id]=[n,e],this._.tabIdList.push(t.id),!t.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),t.accessKey&&(F(this,this,"CTRL+"+t.accessKey,B,$),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var n=this._.tabs[e][0],i=this._.tabs[e][1];e!=t&&(n.removeClass("cke_dialog_tab_selected"),i.hide()),i.setAttribute("aria-hidden",e!=t)}var o=this._.tabs[t];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(r(o[1]),o[1].show(),setTimeout(function(){r(o[1],1)},0)):o[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var e=this._.tabs[t]&&this._.tabs[t][0];e&&1!=this._.pageCount&&e.isVisible()&&(t==this._.currentTabId&&this.selectPage(v.call(this)),e.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var n=this._.contents[t];return n&&n[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,n){return this.getContentElement(t,e).setValue(n)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if(void 0===e)e=this._.focusList.length,this._.focusList.push(new i(this,t,e));else{this._.focusList.splice(e,0,new i(this,t,e));for(var n=e+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(t){if(this.state!=t){if((this.state=t)==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var e=this.getParentEditor().lang.dir,n={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==e?"right":"left"}};n.styles["margin-"+("rtl"==e?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else t==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",t)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,n){return!((t=t.config.removeDialogTabs)&&t.match(new RegExp("(?:^|;)"+e+":"+n+"(?:$|;)","i")))},okButton:(s=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(t){!1!==(t=t.data.dialog).fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)},s.type="button",s.override=function(e){return CKEDITOR.tools.extend(function(t){return s(t,e)},{type:"button"},!0)},s),cancelButton:(n=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(t){!1!==(t=t.data.dialog).fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)},n.type="button",n.override=function(e){return CKEDITOR.tools.extend(function(t){return n(t,e)},{type:"button"},!0)},n),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var D={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},f=function(t,e,n){for(var i,o=0;i=t[o];o++)if(i.id==e||n&&i[n]&&(i=f(i[n],e,n)))return i;return null},p=function(t,e,n,i,o){if(n){for(var r,a=0;r=t[a];a++){if(r.id==n)return t.splice(a,0,e),e;if(i&&r[i]&&(r=p(r[i],e,n,i,!0)))return r}if(o)return null}return t.push(e),e},m=function(t,e,n){for(var i,o=0;i=t[o];o++){if(i.id==e)return t.splice(o,1);if(n&&i[n]&&(i=m(i[n],e,n)))return i}return null},O=function(t,e){this.dialog=t;for(var n,i=e.contents,o=0;n=i[o];o++)i[o]=n&&new a(t,n);CKEDITOR.tools.extend(this,e)};O.prototype={getContents:function(t){return f(this.contents,t)},getButton:function(t){return f(this.buttons,t)},addContents:function(t,e){return p(this.contents,t,e)},addButton:function(t,e){return p(this.buttons,t,e)},removeContents:function(t){m(this.contents,t)},removeButton:function(t){m(this.buttons,t)}},a.prototype={get:function(t){return f(this.elements,t,"children")},add:function(t,e){return p(this.elements,t,e,"children")},remove:function(t){m(this.elements,t,"children")}};var g,I,e,k,w,R,x,S,K,A={},N={},L=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=N[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())},P=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=N[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault()))},F=function(t,e,n,i,o){(N[n]||(N[n]=[])).push({uiElement:t,dialog:e,key:n,keyup:o||t.accessKeyUp,keydown:i||t.accessKeyDown})},M=function(t){for(var e in N){for(var n=N[e],i=n.length-1;0<=i;i--)n[i].dialog!=t&&n[i].uiElement!=t||n.splice(i,1);0===n.length&&delete N[e]}},$=function(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])},B=function(){};CKEDITOR.ui.dialog={uiElement:function(n,i,t,e,o,r,a){if(!(arguments.length<4)){var s=(e.call?e(i):e)||"div",l=["<",s," "],c=(o&&o.call?o(i):o)||{},u=(r&&r.call?r(i):r)||{},d=(a&&a.call?a.call(this,n,i):a)||"",h=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";i.requiredContent&&!n.getParentEditor().filter.check(i.requiredContent)&&(c.display="none",this.notAllowed=!0),u.id=h;var f={};i.type&&(f["cke_dialog_ui_"+i.type]=1),i.className&&(f[i.className]=1),i.disabled&&(f.cke_disabled=1);var p=u["class"]&&u["class"].split?u["class"].split(" "):[];for(h=0;h<p.length;h++)p[h]&&(f[p[h]]=1);for(h in p=[],f)p.push(h);for(h in u["class"]=p.join(" "),i.title&&(u.title=i.title),f=(i.style||"").split(";"),i.align&&(p=i.align,c["margin-left"]="left"==p?0:"auto",c["margin-right"]="right"==p?0:"auto"),c)f.push(h+":"+c[h]);for(i.hidden&&f.push("display:none"),h=f.length-1;0<=h;h--)""===f[h]&&f.splice(h,1);for(h in 0<f.length&&(u.style=(u.style?u.style+"; ":"")+f.join("; ")),u)l.push(h+'="'+CKEDITOR.tools.htmlEncode(u[h])+'" ');l.push(">",d,"</",s,">"),t.push(l.join("")),(this._||(this._={})).dialog=n,"boolean"==typeof i.isChanged&&(this.isChanged=function(){return i.isChanged}),"function"==typeof i.isChanged&&(this.isChanged=i.isChanged),"function"==typeof i.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(t){e.call(this,i.setValue.call(this,t))}})),"function"==typeof i.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(t){return function(){return i.getValue.call(this,t.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(i),this.accessKeyUp&&this.accessKeyDown&&i.accessKey&&F(this,n,"CTRL+"+i.accessKey);var m=this;n.on("load",function(){var t=m.getInputElement();if(t){var e=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";t.on("focus",function(){n._.tabBarMode=!1,n._.hasFocus=!0,m.fire("focus"),e&&this.addClass(e)}),t.on("blur",function(){m.fire("blur"),e&&this.removeClass(e)})}}),CKEDITOR.tools.extend(this,i),this.keyboardFocusable&&(this.tabIndex=i.tabIndex||0,this.focusIndex=n._.focusList.push(this)-1,this.on("focus",function(){n._.currentFocusIndex=m.focusIndex}))}},hbox:function(t,e,i,n,o){if(!(arguments.length<4)){this._||(this._={});var r,a=this._.children=e,s=o&&o.widths||null,l=o&&o.height||null,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"hbox"},n,"table",{},c,function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(r=0;r<i.length;r++){var e="cke_dialog_ui_hbox_child",n=[];0===r&&(e="cke_dialog_ui_hbox_first"),r==i.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[r]&&n.push("width:"+d(s[r])):n.push("width:"+Math.floor(100/i.length)+"%"),l&&n.push("height:"+d(l)),o&&void 0!==o.padding&&n.push("padding:"+d(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[r].align&&n.push("text-align:"+a[r].align),0<n.length&&t.push('style="'+n.join("; ")+'" '),t.push(">",i[r],"</td>")}return t.push("</tr></tbody>"),t.join("")})}},vbox:function(i,t,o,e,r){if(!(arguments.length<3)){this._||(this._={});var a=this._.children=t,s=r&&r.width||null,l=r&&r.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,i,r||{type:"vbox"},e,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),r&&r.expand&&t.push("height:100%;"),t.push("width:"+d(s||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(r&&r.align||("ltr"==i.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var e=0;e<o.length;e++){var n=[];t.push('<tr><td role="presentation" '),s&&n.push("width:"+d(s||"100%")),l?n.push("height:"+d(l[e])):r&&r.expand&&n.push("height:"+Math.floor(100/o.length)+"%"),r&&void 0!==r.padding&&n.push("padding:"+d(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[e].align&&n.push("text-align:"+a[e].align),0<n.length&&t.push('style="',n.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',o[e],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t&&(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t)),this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,o=function(t,e,n,i){e.on("load",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return arguments.length<1?this._.children.concat():(t.splice||(t=[t]),t.length<2?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,e={build:function(t,e,n){for(var i,o=e.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,r,n,e)}},CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){var e=this.tabId;t.openDialog(this.dialogName,function(t){e&&t.selectPage(e)})},canUndo:!1,editorFocus:1},k=/^([a]|[^a])+$/,w=/^\d*$/,R=/^\d*(?:\.\d+)?$/,x=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,S=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,K=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/,CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var t,e,n=this&&this.getValue?this.getValue():a[0],i=CKEDITOR.VALIDATE_AND,o=[];for(e=0;e<a.length&&"function"==typeof a[e];e++)o.push(a[e]);e<a.length&&"string"==typeof a[e]&&(t=a[e],e++),e<a.length&&"number"==typeof a[e]&&(i=a[e]);var r=i==CKEDITOR.VALIDATE_AND;for(e=0;e<o.length;e++)r=i==CKEDITOR.VALIDATE_AND?r&&o[e](n):r||o[e](n);return!!r||t}},regex:function(e,n){return function(t){return t=this&&this.getValue?this.getValue():t,!!e.test(t)||n}},notEmpty:function(t){return this.regex(k,t)},integer:function(t){return this.regex(w,t)},number:function(t){return this.regex(R,t)},cssLength:function(t){return this.functions(function(t){return S.test(CKEDITOR.tools.trim(t))},t)},htmlLength:function(t){return this.functions(function(t){return x.test(CKEDITOR.tools.trim(t))},t)},inlineStyle:function(t){return this.functions(function(t){return K.test(CKEDITOR.tools.trim(t))},t)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var n in A)A[n].remove();A={}}for(var i in t=t.editor._.storedDialogs)t[i].destroy()}),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e){var n=null,i=CKEDITOR.dialog._.dialogDefinitions[t];if(null===CKEDITOR.dialog._.currentTop&&u(this),"function"==typeof i)n=(n=this._.storedDialogs||(this._.storedDialogs={}))[t]||(n[t]=new CKEDITOR.dialog(this,t)),e&&e.call(n,n),n.show();else{if("failed"==i)throw o(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof i&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(t){var e=t.addCommand("about",new CKEDITOR.dialogCommand("about"));e.modes={wysiwyg:1,source:1},e.canUndo=!1,e.readOnly=1,t.ui.addButton&&t.ui.addButton("About",{label:t.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var n=this;e.addCommand("a11yHelp",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){e.lang.a11yhelp=n.langEntries[t],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}}),function(){function a(t){var e=this.att;void 0!==(t=t&&t.hasAttribute(e)&&t.getAttribute(e)||"")&&this.setValue(t)}function s(){for(var t,e=0;e<arguments.length;e++)if(arguments[e]instanceof CKEDITOR.dom.element){t=arguments[e];break}if(t){e=this.att;var n=this.getValue();n?t.setAttribute(e,n):t.removeAttribute(e,n)}}var l={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(t){t||(t=l);var e=[];t.id&&e.push("id"),t.dir&&e.push("dir");var n="";return e.length&&(n+="["+e.join(",")+"]"),t.classes&&(n+="(*)"),t.styles&&(n+="{*}"),n},createAdvancedTab:function(o,t,e){t||(t=l);var n=o.lang.common,i={id:"advanced",label:n.advancedTab,title:n.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},r=[];return(t.id||t.dir)&&(t.id&&r.push({id:"advId",att:"id",type:"text",requiredContent:e?e+"[id]":null,label:n.id,setup:a,commit:s}),t.dir&&r.push({id:"advLangDir",att:"dir",type:"select",requiredContent:e?e+"[dir]":null,label:n.langDir,"default":"",style:"width:100%",items:[[n.notSet,""],[n.langDirLTR,"ltr"],[n.langDirRTL,
"rtl"]],setup:a,commit:s}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(r)})),(t.styles||t.classes)&&(r=[],t.styles&&r.push({id:"advStyles",att:"style",type:"text",requiredContent:e?e+"{cke-xyz}":null,label:n.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(n.invalidInlineStyle),onChange:function(){},getStyle:function(t,e){var n=this.getValue().match(new RegExp("(?:^|;)\\s*"+t+"\\s*:\\s*([^;]*)","i"));return n?n[1]:e},updateStyle:function(t,e){var n=this.getValue(),i=o.document.createElement("span");i.setAttribute("style",n),i.setStyle(t,e),n=CKEDITOR.tools.normalizeCssText(i.getAttribute("style")),this.setValue(n,1)},setup:a,commit:s}),t.classes&&r.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:e?e+"(cke-xyz)":null,label:n.cssClasses,"default":"",setup:a,commit:s}]}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(r)})),i}})}(),CKEDITOR.plugins.add("basicstyles",{init:function(r){var a=0,t=function(t,e,n,i){if(i){i=new CKEDITOR.style(i);var o=s[n];o.unshift(i),r.attachStyleStateChange(i,function(t){!r.readOnly&&r.getCommand(n).setState(t)}),r.addCommand(n,new CKEDITOR.styleCommand(i,{contentForms:o})),r.ui.addButton&&r.ui.addButton(t,{label:e,command:n,toolbar:"basicstyles,"+(a+=10)})}},s={bold:["strong","b",["span",function(t){return"bold"==(t=t.styles["font-weight"])||700<=+t}]],italic:["em","i",["span",function(t){return"italic"==t.styles["font-style"]}]],underline:["u",["span",function(t){return"underline"==t.styles["text-decoration"]}]],strike:["s","strike",["span",function(t){return"line-through"==t.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},e=r.config,n=r.lang.basicstyles;t("Bold",n.bold,"bold",e.coreStyles_bold),t("Italic",n.italic,"italic",e.coreStyles_italic),t("Underline",n.underline,"underline",e.coreStyles_underline),t("Strike",n.strike,"strike",e.coreStyles_strike),t("Subscript",n.subscript,"subscript",e.coreStyles_subscript),t("Superscript",n.superscript,"superscript",e.coreStyles_superscript),r.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){function f(t,e,n,i){if(!t.isReadOnly()&&!t.equals(n.editable())){CKEDITOR.dom.element.setMarker(i,t,"bidi_processed",1),i=t;for(var o=n.editable();(i=i.getParent())&&!i.equals(o);)if(i.getCustomData("bidi_processed"))return t.removeStyle("direction"),void t.removeAttribute("dir");((i="useComputedState"in n.config?n.config.useComputedState:1)?t.getComputedStyle("direction"):t.getStyle("direction")||t.hasAttribute("dir"))!=e&&(t.removeStyle("direction"),i?(t.removeAttribute("dir"),e!=t.getComputedStyle("direction")&&t.setAttribute("dir",e)):t.setAttribute("dir",e),n.forceNextSelectionCheck())}}function p(t,e,n){var i=t.getCommonAncestor(!1,!0);if((t=t.clone()).enlarge(n==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),t.checkBoundaryOfElement(i,CKEDITOR.START)&&t.checkBoundaryOfElement(i,CKEDITOR.END)){for(var o;i&&i.type==CKEDITOR.NODE_ELEMENT&&(o=i.getParent())&&1==o.getChildCount()&&!(i.getName()in e);)i=o;return i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in e&&i}}function n(h){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(t,e){var n,i;if(!(i=void 0===(i=t.config.useComputedState)||i)){n=e.lastElement;for(var o=t.editable();n&&!(n.getName()in a||n.equals(o));){var r=n.getParent();if(!r)break;n=r}}(n=n||e.block||e.blockLimit).equals(t.editable())&&(o=t.getSelection().getRanges()[0].getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&(n=o),n&&(i=i?n.getComputedStyle("direction"):n.getStyle("direction")||n.getAttribute("dir"),t.getCommand("bidirtl").setState("rtl"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),t.getCommand("bidiltr").setState("ltr"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)),(i=(e.block||e.blockLimit||t.editable()).getDirection(1))!=(t._.selDir||t.lang.dir)&&(t._.selDir=i,t.fire("contentDirChanged",i))},exec:function(t){var e=t.getSelection(),i=t.config.enterMode;if((a=e.getRanges())&&a.length){for(var n,o={},r=e.createBookmarks(),a=a.createIterator(),s=0;n=a.getNextRange(1);){var l=n.getEnclosedNode();l&&(!l||l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in g)||(l=p(n,m,i)),l&&f(l,h,t,o);var c=new CKEDITOR.dom.walker(n),u=r[s].startNode,d=r[s++].endNode;for(c.evaluator=function(t){var e,n=i==CKEDITOR.ENTER_P?"p":"div";return(e=!!t&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in m)&&((n=t.is(n))&&(n=!!(n=t.getParent())&&n.type==CKEDITOR.NODE_ELEMENT),e=!(n&&t.getParent().is("blockquote"))),!!(e&&t.getPosition(u)&CKEDITOR.POSITION_FOLLOWING&&(t.getPosition(d)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};l=c.next();)f(l,h,t,o);for((n=n.createIterator()).enlargeBr=i!=CKEDITOR.ENTER_BR;l=n.getNextParagraph(i==CKEDITOR.ENTER_P?"p":"div");)f(l,h,t,o)}CKEDITOR.dom.element.clearAllMarkers(o),t.forceNextSelectionCheck(),e.selectBookmarks(r),t.focus()}}}}function t(o){var r=o==e.setAttribute,a=o==e.removeAttribute,s=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(t,e){if(!this.isReadOnly()){var n;if(n=t==(r||a?"dir":"direction")||"style"==t&&(a||s.test(e))){t:{for(var i=(n=this).getDocument().getBody().getParent();n;){if(n.equals(i)){n=!1;break t}n=n.getParent()}n=!0}n=!n}if(n&&(n=this.getDirection(1),i=o.apply(this,arguments),n!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),i}return o.apply(this,arguments)}}var m={table:1,ul:1,ol:1,blockquote:1,div:1},g={},a={};CKEDITOR.tools.extend(g,m,{tr:1,p:1,div:1,li:1}),CKEDITOR.tools.extend(a,g,{td:1}),CKEDITOR.plugins.add("bidi",{init:function(r){function t(t,e,n,i,o){r.addCommand(n,new CKEDITOR.command(r,i)),r.ui.addButton&&r.ui.addButton(t,{label:e,command:n,toolbar:"bidi,"+o})}if(!r.blockless){var e=r.lang.bidi;t("BidiLtr",e.ltr,"bidiltr",n("ltr"),10),t("BidiRtl",e.rtl,"bidirtl",n("rtl"),20),r.on("contentDom",function(){r.document.on("dirChanged",function(t){r.fire("dirChanged",{node:t.data,dir:t.data.getDirection(1)})})}),r.on("contentDirChanged",function(t){t=(r.lang.dir!=t.data?"add":"remove")+"Class";var e=r.ui.space(r.config.toolbarLocation);e&&e[t]("cke_mixed_dir_content")})}}});for(var e=CKEDITOR.dom.element.prototype,i=["setStyle","removeStyle","setAttribute","removeAttribute"],o=0;o<i.length;o++)e[i[o]]=CKEDITOR.tools.override(e[i[o]],t)}(),D={exec:function(t){var e=t.getCommand("blockquote").state,n=t.getSelection(),i=n&&n.getRanges()[0];if(i){var o=n.createBookmarks();if(CKEDITOR.env.ie){var r,a=o[0].startNode,s=o[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(r=a;r=r.getNext();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){a.move(r,!0);break}if(s&&"blockquote"==s.getParent().getName())for(r=s;r=r.getPrevious();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){s.move(r);break}}if((l=i.createIterator()).enlargeBr=t.config.enterMode!=CKEDITOR.ENTER_BR,e==CKEDITOR.TRISTATE_OFF){for(a=[];e=l.getNextParagraph();)a.push(e);for(a.length<1&&(e=t.document.createElement(t.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),i.insertNode(e),e.append(new CKEDITOR.dom.text("\ufeff",t.document)),i.moveToBookmark(s),i.selectNodeContents(e),i.collapse(!0),s=i.createBookmark(),a.push(e),o.unshift(s)),r=a[0].getParent(),i=[],s=0;s<a.length;s++)e=a[s],r=r.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[r.getName()];)r=r.getParent();for(s=null;0<a.length;){for(e=a.shift();!e.getParent().equals(r);)e=e.getParent();e.equals(s)||i.push(e),s=e}for(;0<i.length;)if("blockquote"==(e=i.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document);e.getFirst();)s.append(e.getFirst().remove()),a.push(s.getLast());s.replace(e)}else a.push(e);for((i=t.document.createElement("blockquote")).insertBefore(a[0]);0<a.length;)e=a.shift(),i.append(e)}else if(e==CKEDITOR.TRISTATE_ON){for(s=[],r={};e=l.getNextParagraph();){for(a=i=null;e.getParent();){if("blockquote"==e.getParent().getName()){i=e.getParent(),a=e;break}e=e.getParent()}i&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(r,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(r),e=[],a=[],r={};0<s.length;)i=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(a.push(i),CKEDITOR.dom.element.setMarker(r,i,"blockquote_processed",!0)),e.push(l);for(CKEDITOR.dom.element.clearAllMarkers(r),s=a.length-1;0<=s;s--){t:{for(var l=0,c=(r=i=a[s]).getChildCount(),u=void 0;l<c&&(u=r.getChild(l));l++)if(u.type==CKEDITOR.NODE_ELEMENT&&u.isBlockBoundary()){r=!1;break t}r=!0}r&&i.remove()}if(t.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;e.length;)if("div"==(l=e.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document),!i||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(t.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(t.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(o),t.focus()}},refresh:function(t,e){this.setState(t.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"},CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",D),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}}),function(){function t(t,e){CKEDITOR.tools.extend(this,e,{editor:t,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:t._.notificationArea}),e.type||(this.type="info"),this.element=this._createElement(),t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function e(t){var e=this;this.editor=t,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),t.on("destroy",function(){e._removeListeners(),e.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(r){function n(t){var e=new CKEDITOR.dom.element("div");e.setStyles({position:"fixed","margin-left":"-9999px"}),e.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),e.setText(t),CKEDITOR.document.getBody().append(e),setTimeout(function(){e.remove()},100)}r._.notificationArea=new e(r),r.showNotification=function(t,e,n){var i,o;return"progress"==e?i=n:o=n,(t=new CKEDITOR.plugins.notification(r,{message:t,type:e,progress:i,duration:o})).show(),t},r.on("key",function(t){if(27==t.data.keyCode){var e=r._.notificationArea.notifications;e.length&&(n(r.lang.notification.closed),e[e.length-1].hide(),t.cancel())}})}}),t.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(t){var e=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:t})&&(e=!1);var n=this.element,i=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),r=t.type;n.removeAttribute("role"),t.progress&&"progress"!=this.type&&(r="progress"),r&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=r,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(i)),void 0!==t.message&&(this.message=t.message,i.setHtml(this.message)),void 0!==t.progress&&(this.progress=t.progress,o&&o.setStyle("width",this._getPercentageProgress())),e&&t.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=t.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var t,e,n=this,i=this.editor.lang.common.close;return(t=new CKEDITOR.dom.element("div")).addClass("cke_notification"),t.addClass(this._getClass()),t.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&t.append(this._createProgressElement()),(e=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),e.setHtml(this.message),t.append(e),e=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),t.append(e),e.on("click",function(){n.editor.focus(),n.hide()}),t},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var t=new CKEDITOR.dom.element("span");return t.addClass("cke_notification_progress"),t.setStyle("width",this._getPercentageProgress()),t},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var t,e=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?t=this.duration:"info"!=this.type&&"success"!=this.type||(t="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),t&&(e._hideTimeoutId=setTimeout(function(){e.hide()},t))}},e.prototype={add:function(t){this.notifications.push(t),this.element.append(t.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(t){var e=CKEDITOR.tools.indexOf(this.notifications,t);e<0||(this.notifications.splice(e,1),t.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var t=this.editor,e=t.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+t.name),n.setStyle("z-index",e.baseFloatZIndex-2),n},_attachListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.on("scroll",this._uiBuffer.input),t.on("resize",this._uiBuffer.input),e.on("change",this._changeBuffer.input),e.on("floatingSpaceLayout",this._layout,this,null,20),e.on("blur",this._layout,this,null,20)},_removeListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.removeListener("scroll",this._uiBuffer.input),t.removeListener("resize",this._uiBuffer.input),e.removeListener("change",this._changeBuffer.input),e.removeListener("floatingSpaceLayout",this._layout),e.removeListener("blur",this._layout)},_layout:function(){function t(){o.setStyle("left",m(g+a.width-c-u))}var e,n,i,o=this.element,r=this.editor,a=r.ui.contentsElement.getClientRect(),s=r.ui.contentsElement.getDocumentPosition(),l=o.getClientRect(),c=this._notificationWidth,u=this._notificationMargin,d=(i=CKEDITOR.document.getWindow()).getScrollPosition(),h=i.getViewPaneSize(),f=CKEDITOR.document.getBody(),p=f.getDocumentPosition(),m=CKEDITOR.tools.cssLength;c&&u||(i=this.element.getChild(0),c=this._notificationWidth=i.getClientRect().width,u=this._notificationMargin=parseInt(i.getComputedStyle("margin-left"),10)+parseInt(i.getComputedStyle("margin-right"),10)),r.toolbar&&(n=(e=r.ui.space("top")).getClientRect()),e&&e.isVisible()&&n.bottom>a.top&&n.bottom<a.bottom-l.height?o.setStyles({position:"fixed",top:m(n.bottom)}):0<a.top?o.setStyles({position:"absolute",top:m(s.y)}):s.y+a.height-l.height>d.y?o.setStyles({position:"fixed",top:0}):o.setStyles({position:"absolute",top:m(s.y+a.height-l.height)});var g="fixed"==o.getStyle("position")?a.left:"static"!=f.getComputedStyle("position")?s.x-p.x:s.x;a.width<c+u?s.x+c+u>d.x+h.width?t():o.setStyle("left",m(g)):s.x+c+u>d.x+h.width?o.setStyle("left",m(g)):s.x+a.width/2+c/2+u>d.x+h.width?o.setStyle("left",m(g-s.x+d.x+h.width-c-u)):a.left+a.width-c-u<0?t():a.left+a.width/2-c/2<0?o.setStyle("left",m(g-s.x+d.x)):o.setStyle("left",m(g+a.width/2-c/2-u/2))}},CKEDITOR.plugins.notification=t}(),function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=(t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"')+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';var y=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),b=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(i,t){function e(){var t=i.mode;t&&(t=this.modes[t]?void 0!==a[t]?a[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=i.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var n,o,r,a=null,s=CKEDITOR.env,l=this._.id=CKEDITOR.tools.getNextId(),c="",u=this.command;this._.editor=i;var d,h={id:l,button:this,editor:i,focus:function(){CKEDITOR.document.getById(l).focus()},execute:function(){this.button.click(i)},attach:function(t){this.button.attach(t)}},f=CKEDITOR.tools.addFunction(function(t){if(h.onkey)return t=new CKEDITOR.dom.event(t),!1!==h.onkey(h,t.getKeystroke())}),p=CKEDITOR.tools.addFunction(function(t){var e;return h.onfocus&&(e=!1!==h.onfocus(h,new CKEDITOR.dom.event(t))),e}),m=0;h.clickFn=n=CKEDITOR.tools.addFunction(function(){m&&(i.unlockSelection(1),m=0),h.execute(),s.iOS&&i.focus()}),this.modes?(a={},i.on("beforeModeUnload",function(){i.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(a[i.mode]=this._.state)},this),i.on("activeFilterChange",e,this),i.on("mode",e,this),!this.readOnly&&i.on("readOnly",e,this)):u&&(u=i.getCommand(u))&&(u.on("state",function(){this.setState(u.state)},this),c+=u.state==CKEDITOR.TRISTATE_ON?"on":u.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&i.on("contentDirChanged",function(t){var e=CKEDITOR.document.getById(this._.id),n=e.getFirst();(t=t.data)!=i.lang.dir?e.addClass("cke_"+t):e.removeClass("cke_ltr").removeClass("cke_rtl"),n.setAttribute("style",CKEDITOR.skin.getIconStyle(d,"rtl"==t,this.icon,this.iconOffset))},this),u?(o=i.getCommandKeystroke(u))&&(r=CKEDITOR.tools.keystrokeToString(i.lang.common.keyboard,o)):c+="off",o=this.name||this.command;var g=null,v=this.icon;return d=o,this.icon&&!/\./.test(this.icon)?(d=this.icon,v=null):(this.icon&&(g=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(g=this.iconHiDpi)),g?(CKEDITOR.skin.addIcon(g,g),v=null):g=d,c={id:l,name:o,iconName:d,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:c,ariaDisabled:"disabled"==c?"true":"false",title:this.title+(r?" ("+r.display+")":""),ariaShortcut:r?i.lang.common.keyboardShortcut+" "+r.aria:"",titleJs:s.gecko&&!s.hc?"":(this.title||"").replace("'",""),hasArrow:"string"==typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:f,focusFn:p,clickFn:n,style:CKEDITOR.skin.getIconStyle(g,"rtl"==i.lang.dir,v,this.iconOffset),arrowHtml:this.hasArrow?y.output():""},b.output(c,t),this.onRender&&this.onRender(),h},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return!!e&&(e.setState(t,"cke_button"),e.setAttribute("aria-disabled",t==CKEDITOR.TRISTATE_DISABLED),this.hasArrow?e.setAttribute("aria-expanded",t==CKEDITOR.TRISTATE_ON):t===CKEDITOR.TRISTATE_ON?e.setAttribute("aria-pressed",!0):e.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return this.allowedContent||this.requiredContent||!this.command||(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),function(){function C(s){function t(){for(var t=l(),e=CKEDITOR.tools.clone(s.config.toolbarGroups)||u(s),n=0;n<e.length;n++){var i=e[n];if("/"!=i){"string"==typeof i&&(i=e[n]={name:i});var o,r=i.groups;if(r)for(var a=0;a<r.length;a++)(o=t[o=r[a]])&&c(i,o);(o=t[i.name])&&c(i,o)}}return e}function l(){var t,e,n,i={};for(t in s.ui.items)e=(n=(n=(e=s.ui.items[t]).toolbar||"others").split(","))[0],n=parseInt(n[1]||-1,10),i[e]||(i[e]=[]),i[e].push({name:t,order:n});for(e in i)i[e]=i[e].sort(function(t,e){return t.order==e.order?0:e.order<0?-1:t.order<0?1:t.order<e.order?-1:1});return i}function c(t,e){if(e.length){t.items?t.items.push(s.ui.create("-")):t.items=[];for(var n;n=e.shift();)n="string"==typeof n?n:n.name,i&&-1!=CKEDITOR.tools.indexOf(i,n)||(n=s.ui.create(n))&&s.addFeature(n)&&t.items.push(n)}}function e(t){var e,n,i,o=[];for(e=0;e<t.length;++e)i={},"/"==(n=t[e])?o.push(n):CKEDITOR.tools.isArray(n)?(c(i,CKEDITOR.tools.clone(n)),o.push(i)):n.items&&(c(i,CKEDITOR.tools.clone(n.items)),i.name=n.name,o.push(i));return o}var i=(i=s.config.removeButtons)&&i.split(","),n=s.config.toolbar;return"string"==typeof n&&(n=s.config["toolbar_"+n]),s.toolbar=n?e(n):t()}function u(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var D=function(){this.toolbars=[],this.focusCommandExecuted=!1};D.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var n,i=0;n=t.items[i++];)if(n.focus)return void n.focus()};var t={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(t.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){t.toolbox.focus()},100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(_){var a,T=function(t,e){var n,i=(o="rtl"==_.lang.dir)?37:39,o=o?39:37,r=void 0===(r=_.config.toolbarGroupCycling)||r;switch(e){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;)if((n=9==e?(n?n.next:t.toolbar.next)||_.toolbox.toolbars[0]:(n?n.previous:t.toolbar.previous)||_.toolbox.toolbars[_.toolbox.toolbars.length-1]).items.length)for(t=n.items[a?n.items.length-1:0];t&&!t.focus;)(t=a?t.previous:t.next)||(n=0);return t&&t.focus(),!1;case i:for(n=t;!(n=n.next)&&r&&(n=t.toolbar.items[0]),n&&!n.focus;);return n?n.focus():T(t,9),!1;case 40:return t.button&&t.button.hasArrow?t.execute():T(t,40==e?i:o),!1;case o:case 38:for(n=t;!(n=n.previous)&&r&&(n=t.toolbar.items[t.toolbar.items.length-1]),n&&!n.focus;);return n?n.focus():(a=1,T(t,CKEDITOR.SHIFT+9),a=0),!1;case 27:return _.focus(),!1;case 13:case 32:return t.execute(),!1}return!0};_.on("uiSpace",function(t){if(t.data.space==_.config.toolbarLocation){t.removeListener(),_.toolbox=new D;var e,n,i=['<span id="',o=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',_.lang.toolbar.toolbars,"</span>",'<span id="'+_.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',o,'" onmousedown="return false;">'],o=!1!==_.config.toolbarStartupExpanded;_.config.toolbarCanCollapse&&_.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&i.push('<span class="cke_toolbox_main"'+(o?">":' style="display:none">'));for(var r=_.toolbox.toolbars,a=C(_),s=a.length,l=0;l<s;l++){var c,u,d,h=0,f=a[l],p="/"!==f&&("/"===a[l+1]||l==s-1);if(f)if(e&&(i.push("</span>"),n=e=0),"/"===f)i.push('<span class="cke_toolbar_break"></span>');else{d=f.items||f;for(var m=0;m<d.length;m++){var g,v=d[m];if(v){var y=function(t){t=t.render(_,i),0<(b=h.items.push(t)-1)&&(t.previous=h.items[b-1],t.previous.next=t),t.toolbar=h,t.onkey=T,t.onfocus=function(){_.toolbox.focusCommandExecuted||_.focus()}};if(v.type==CKEDITOR.UI_SEPARATOR)n=e&&v;else{if(g=!1!==v.canGroup,!h){c=CKEDITOR.tools.getNextId(),h={id:c,items:[]},u=f.name&&(_.lang.toolbar.toolbarGroups[f.name]||f.name),i.push('<span id="',c,'" class="cke_toolbar'+(p?' cke_toolbar_last"':'"'),u?' aria-labelledby="'+c+'_label"':"",' role="toolbar">'),u&&i.push('<span id="',c,'_label" class="cke_voice_label">',u,"</span>"),i.push('<span class="cke_toolbar_start"></span>');var b=r.push(h)-1;0<b&&(h.previous=r[b-1],h.previous.next=h)}g?e||(i.push('<span class="cke_toolgroup" role="presentation">'),e=1):e&&(i.push("</span>"),e=0),n&&(y(n),n=0),y(v)}}}e&&(i.push("</span>"),n=e=0),h&&i.push('<span class="cke_toolbar_end"></span></span>')}}if(_.config.toolbarCanCollapse&&i.push("</span>"),_.config.toolbarCanCollapse&&_.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var E=CKEDITOR.tools.addFunction(function(){_.execCommand("toolbarCollapse")});_.on("destroy",function(){CKEDITOR.tools.removeFunction(E)}),_.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),n=e.getPrevious(),i=t.ui.space("contents"),o=n.getParent(),r=parseInt(i.$.style.height,10),a=o.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(n.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(n.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"\u25b2":"\u25c0"),i.setStyle("height",r-(o.$.offsetHeight-a)+"px"),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:t.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),_.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),i.push('<a title="'+(o?_.lang.toolbar.toolbarCollapse:_.lang.toolbar.toolbarExpand)+'" id="'+_.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),o||i.push(" cke_toolbox_collapser_min"),i.push('" onclick="CKEDITOR.tools.callFunction('+E+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}i.push("</span>"),t.data.html+=i.join("")}}),_.on("destroy",function(){if(this.toolbox){var t,e,n,i,o=0;for(t=this.toolbox.toolbars;o<t.length;o++)for(n=t[o].items,e=0;e<n.length;e++)(i=n[e]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}}),_.on("uiReady",function(){var t=_.ui.space("toolbox");t&&_.focusManager.add(t,1)}),_.addCommand("toolbarFocus",t),_.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),_.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),_.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,e,n){var i=u(this.editor),o=0===e,r={name:t};if(n){if(n=CKEDITOR.tools.search(i,function(t){return t.name==n}))return!n.groups&&(n.groups=[]),e&&0<=(e=CKEDITOR.tools.indexOf(n.groups,e))?void n.groups.splice(e+1,0,t):void(o?n.groups.splice(0,0,t):n.groups.push(t));e=null}e&&(e=CKEDITOR.tools.indexOf(i,function(t){return t.name==e})),o?i.splice(0,0,t):"number"==typeof e?i.splice(e+1,0,r):i.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function y(t,e,n){return e.type||(e.type="auto"),!(n&&!1===t.fire("beforePaste",e)||!e.dataValue&&e.dataTransfer.isEmpty())&&(e.dataValue||(e.dataValue=""),CKEDITOR.env.gecko&&"drop"==e.method&&t.toolbox&&t.once("afterPaste",function(){t.toolbox.focus()}),t.fire("paste",e))}function e(h){function t(){var t,e=h.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var n=function(t){h.getSelection().isCollapsed()||(h.readOnly&&"cut"==t.name||p.initPasteDataTransfer(t,h),t.data.preventDefault())};e.on("copy",n),e.on("cut",n),e.on("cut",function(){h.readOnly||h.extractSelectedHtml()},null,null,999)}e.on(p.mainPasteEvent,function(t){"beforepaste"==p.mainPasteEvent&&m||u(t)}),"beforepaste"==p.mainPasteEvent&&(e.on("paste",function(t){g||(i(),t.data.preventDefault(),u(t),r("paste"))}),e.on("contextmenu",o,null,null,0),e.on("beforepaste",function(t){!t.data||t.data.$.ctrlKey||t.data.$.shiftKey||o()},null,null,0)),e.on("beforecut",function(){!m&&a(h)}),e.attachListener(CKEDITOR.env.ie?e:h.document.getDocumentElement(),"mouseup",function(){t=setTimeout(function(){d()},0)}),h.on("destroy",function(){clearTimeout(t)}),e.on("keyup",d)}function e(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,fakeKeystroke:"cut"==t?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var t;"cut"==this.type&&a();var e=this.type;if(CKEDITOR.env.ie)t=r(e);else try{t=h.document.$.execCommand(e,!1,null)}catch(n){t=!1}return t||h.showNotification(h.lang.clipboard[this.type+"Error"]),t}}}function n(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(n,t){function e(t,e){e=void 0===e||e,t?(t.method="paste",t.dataTransfer||(t.dataTransfer=p.initPasteDataTransfer()),y(n,t,e)):o&&!n._.forcePasteDialog&&n.showNotification(s,"info",n.config.clipboard_notificationDuration),n._.forcePasteDialog=!1,n.fire("afterCommandExec",{name:"paste",command:i,returnValue:!!t})}var i=this,o="undefined"==typeof(t=null!=t?t:{}).notification||t.notification,r=t.type,a=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,n.getCommandKeystroke(this)),s="string"==typeof o?o:n.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+a.aria+'">'+a.display+"</kbd>");a="string"==typeof t?t:t.dataValue;r&&!0!==n.config.forcePasteAsPlainText&&"allow-word"!==n.config.forcePasteAsPlainText?n._.nextPasteType=r:delete n._.nextPasteType,"string"==typeof a?e({dataValue:a}):n.getClipboardData(e)}}}function i(){g=1,setTimeout(function(){g=0},100)}function o(){m=1,setTimeout(function(){m=0},10)}function r(t){var e=h.document,n=e.getBody(),i=!1,o=function(){i=!0};return n.on(t,o),7<CKEDITOR.env.version?e.$.execCommand(t):e.$.selection.createRange().execCommand(t),n.removeListener(t,o),i}function a(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,e,n,i=h.getSelection();i.getType()==CKEDITOR.SELECTION_ELEMENT&&(t=i.getSelectedElement())&&(e=i.getRanges()[0],(n=h.document.createText("")).insertBefore(t),e.setStartBefore(n),e.setEndAfter(t),i.selectRanges([e]),setTimeout(function(){t.getParent()&&(n.remove(),i.selectElement(t))},0))}}function s(t,e){var n,i=h.document,o=h.editable(),r=function(t){t.cancel()};if(!i.getById("cke_pastebin")){var a=h.getSelection(),s=a.createBookmarks();CKEDITOR.env.ie&&a.root.fire("selectionchange");var l=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",i);l.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0;i=i.getWindow();CKEDITOR.env.webkit?(o.append(l),l.addClass("cke_editable"),o.is("body")||(c=(c="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent)).getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(l),l.setStyles({position:"absolute",top:i.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,i.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&l.setStyles(CKEDITOR.tools.cssVendorPrefix(
"user-select","text")),(c=l.getParent().isReadOnly())?(l.setOpacity(0),l.setAttribute("contenteditable",!0)):l.setStyle("ltr"==h.config.contentsLangDirection?"left":"right","-10000px"),h.on("selectionChange",r,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(n=o.once("blur",r,null,null,-100)),c&&l.focus(),(c=new CKEDITOR.dom.range(l)).selectNodeContents(l);var u=c.select();CKEDITOR.env.ie&&(n=o.once("blur",function(){h.lockSelection(u)}));var d=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){var t;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=d),n&&n.removeListener(),CKEDITOR.env.ie&&o.focus(),a.selectBookmarks(s),l.remove(),CKEDITOR.env.webkit&&(t=l.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(l=t),h.removeListener("selectionChange",r),e(l.getHtml())},0)}}function l(){if("paste"==p.mainPasteEvent)return h.fire("beforePaste",{type:"auto",method:"paste"}),!1;h.focus(),i();var t=h.focusManager;return t.lock(),h.editable().fire(p.mainPasteEvent)&&!r("paste")?(t.unlock(),!1):(t.unlock(),!0)}function c(t){if("wysiwyg"==h.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=h.editable(),i(),"paste"==p.mainPasteEvent&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:h.fire("saveSnapshot"),setTimeout(function(){h.fire("saveSnapshot")},50)}}function u(t){var e={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(t)};e.dataTransfer.cacheData();var n=!1!==h.fire("beforePaste",e);n&&p.canClipboardApiBeTrusted(e.dataTransfer,h)?(t.data.preventDefault(),setTimeout(function(){y(h,e)},0)):s(t,function(t){e.dataValue=t.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),n&&y(h,e)})}function d(){if("wysiwyg"==h.mode){var t=f("paste");h.getCommand("cut").setState(f("cut")),h.getCommand("copy").setState(f("copy")),h.getCommand("paste").setState(t),h.fire("pasteState",t)}}function f(t){if(v&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==t)return CKEDITOR.TRISTATE_OFF;var e=(t=h.getSelection()).getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||1==e.length&&e[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=CKEDITOR.plugins.clipboard,m=0,g=0,v=0;!function(){if(h.on("key",c),h.on("contentDom",t),h.on("selectionChange",function(t){v=t.data.selection.getRanges()[0].checkReadOnly(),d()}),h.contextMenu){h.contextMenu.addListener(function(t,e){return v=e.getRanges()[0].checkReadOnly(),{cut:f("cut"),copy:f("copy"),paste:f("paste")}});var e=null;h.on("menuShow",function(){e&&(e.removeListener(),e=null);var t=h.contextMenu.findItemByCommandName("paste");t&&t.element&&(e=t.element.on("touchend",function(){h._.forcePasteDialog=!0}))})}h.ui.addButton&&h.once("instanceReady",function(){h._.pasteButtons&&CKEDITOR.tools.array.forEach(h._.pasteButtons,function(t){(t=h.ui.get(t))&&(t=CKEDITOR.document.getById(t._.id))&&t.on("touchend",function(){h._.forcePasteDialog=!0})})})}(),function(){function t(t,e,n,i,o){var r=h.lang.clipboard[e];h.addCommand(e,n),h.ui.addButton&&h.ui.addButton(t,{label:r,command:e,toolbar:"clipboard,"+i}),h.addMenuItems&&h.addMenuItem(e,{label:r,command:e,group:"clipboard",order:o})}t("Cut","cut",e("cut"),10,1),t("Copy","copy",e("copy"),20,4),t("Paste","paste",n(),30,8),h._.pasteButtons||(h._.pasteButtons=[]),h._.pasteButtons.push("Paste")}(),h.getClipboardData=function(t,e){function n(t){t.removeListener(),t.cancel(),e(t.data)}function i(t){t.removeListener(),t.cancel(),e({type:r,dataValue:t.data.dataValue,dataTransfer:t.data.dataTransfer,method:"paste"})}var o=!1,r="auto";e||(e=t,t=null),h.on("beforePaste",function(t){t.removeListener(),o=!0,r=t.data.type},null,null,1e3),h.on("paste",n,null,null,0),!1===l()&&(h.removeListener("paste",n),h._.forcePasteDialog&&o&&h.fire("pasteDialog")?(h.on("pasteDialogCommit",i),h.on("dialogHide",function(t){t.removeListener(),t.data.removeListener("pasteDialogCommit",i),t.data._.committed||e(null)})):e(null))}}function c(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function u(t,e){function n(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return(e=(e=e.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,function(t){return t.toLowerCase()})).match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&((e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,function(t){return n(t.split("</div><div>").length+1)})+"</p>"),e=(e=e.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,function(t){return n(t.length/4)})+"</p>")),i(t,e))}function n(e){function n(){var t,e={};for(t in CKEDITOR.dtd)"$"!=t.charAt(0)&&"div"!=t&&"span"!=t&&(e[t]=1);return e}var i={};return{get:function(t){return"plain-text"==t?i.plainText||(i.plainText=new CKEDITOR.filter(e,"br")):"semantic-content"==t?((t=i.semanticContent)||((t=new CKEDITOR.filter(e,{})).allow({$1:{elements:n(),attributes:!0,styles:!1,classes:!1}}),t=i.semanticContent=t),t):t?new CKEDITOR.filter(e,t):null}}}function d(t,e,n){e=CKEDITOR.htmlParser.fragment.fromHtml(e);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(e,!0,!1,t.activeEnterMode),e.writeHtml(i),i.getHtml()}function i(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,function(t){return CKEDITOR.tools.repeat("<br>",t.length/7*2)}).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}function o(t){t.data.preventDefault(),t.data.$.dataTransfer.dropEffect="none"}function a(l){var c=CKEDITOR.plugins.clipboard;l.on("contentDom",function(){function o(t,e,n){e.select(),y(l,{dataTransfer:n,method:"drop"},1),n.sourceEditor.fire("saveSnapshot"),n.sourceEditor.editable().extractHtmlFromRange(t),n.sourceEditor.getSelection().selectRanges([t]),n.sourceEditor.fire("saveSnapshot")}function r(t,e){t.select(),y(l,{dataTransfer:e,method:"drop"},1),c.resetDragDataTransfer()}function i(t,e,n){var i={$:t.data.$,target:t.data.getTarget()};e&&(i.dragRange=e),n&&(i.dropRange=n),!1===l.fire(t.name,i)&&t.data.preventDefault()}function e(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t.getChildCount()}var t=l.editable(),n=CKEDITOR.plugins.clipboard.getDropTarget(l),a=l.ui.space("top"),s=l.ui.space("bottom");c.preventDefaultDropOnElement(a),c.preventDefaultDropOnElement(s),t.attachListener(n,"dragstart",i),t.attachListener(l,"dragstart",c.resetDragDataTransfer,c,null,1),t.attachListener(l,"dragstart",function(t){c.initDragDataTransfer(t,l)},null,null,2),t.attachListener(l,"dragstart",function(){var t=c.dragRange=l.getSelection().getRanges()[0];CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(c.dragStartContainerChildCount=t?e(t.startContainer):null,c.dragEndContainerChildCount=t?e(t.endContainer):null)},null,null,100),t.attachListener(n,"dragend",i),t.attachListener(l,"dragend",c.initDragDataTransfer,c,null,1),t.attachListener(l,"dragend",c.resetDragDataTransfer,c,null,100),t.attachListener(n,"dragover",function(t){if(CKEDITOR.env.edge)t.data.preventDefault();else{var e=t.data.getTarget();e&&e.is&&e.is("html")?t.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&t.data.$.dataTransfer.types.contains("Files")&&t.data.preventDefault()}}),t.attachListener(n,"drop",function(t){if(!t.data.$.defaultPrevented&&(t.data.preventDefault(),!(e=t.data.getTarget()).isReadOnly()||e.type==CKEDITOR.NODE_ELEMENT&&e.is("html"))){var e=c.getRangeAtDropPosition(t,l),n=c.dragRange;e&&i(t,n,e)}},null,null,9999),t.attachListener(l,"drop",c.initDragDataTransfer,c,null,1),t.attachListener(l,"drop",function(t){if(t=t.data){var e=t.dropRange,n=t.dragRange,i=t.dataTransfer;i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(n,e,i,l)},0):i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?o(n,e,i):r(e,i)}},null,null,9999)})}var m;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(s){var t,l=n(s);if(s.config.forcePasteAsPlainText?t="plain-text":s.config.pasteFilter?t=s.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in s.config||(t="semantic-content"),s.pasteFilter=l.get(t),e(s),a(s),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),CKEDITOR.env.gecko){var o,r=["image/png","image/jpeg","image/gif"];s.on("paste",function(t){var e=t.data,n=e.dataTransfer;if(!e.dataValue&&"paste"==e.method&&n&&1==n.getFilesCount()&&o!=n.id&&(n=n.getFile(0),-1!=CKEDITOR.tools.indexOf(r,n.type))){var i=new FileReader;i.addEventListener("load",function(){t.data.dataValue='<img src="'+i.result+'" />',s.fire("paste",t.data)},!1),i.addEventListener("abort",function(){s.fire("paste",t.data)},!1),i.addEventListener("error",function(){s.fire("paste",t.data)},!1),i.readAsDataURL(n),o=e.dataTransfer.id,t.stop()}},null,null,1)}s.on("paste",function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var e=t.data.dataTransfer,n=e.getData("text/html");n?(t.data.dataValue=n,t.data.type="html"):(n=e.getData("text/plain"))&&(t.data.dataValue=s.editable().transformPlainTextToHtml(n),t.data.type="text")}},null,null,1),s.on("paste",function(n){var t=n.data.dataValue,i=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=n.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(n.data.startsWithEOL=1,n.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var e,o,r=new CKEDITOR.dom.element("div");for(r.setHtml(t);1==r.getChildCount()&&(e=r.getFirst())&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasClass("cke_editable")||e.hasClass("cke_contents"));)r=o=e;o&&(t=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,e){return e.toLowerCase()in i?(n.data.preSniffing="html","<"+e):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,e){return e in i?(n.data.endsWithEOL=1,"</"+e+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),n.data.dataValue=t},null,null,3),s.on("paste",function(t){t=t.data;var e,n=s._.nextPasteType||t.type,i=t.dataValue,o=s.config.clipboard_defaultContentType||"html",r=t.dataTransfer.getTransferType(s)==CKEDITOR.DATA_TRANSFER_EXTERNAL,a=!0===s.config.forcePasteAsPlainText;e="html"==n||"html"==t.preSniffing?"html":c(i),delete s._.nextPasteType,"htmlifiedtext"==e&&(i=u(s.config,i)),"text"==n&&"html"==e?i=d(s,i,l.get("plain-text")):(r&&s.pasteFilter&&!t.dontFilter||a)&&(i=d(s,i,s.pasteFilter)),t.startsWithEOL&&(i='<br data-cke-eol="1">'+i),t.endsWithEOL&&(i+='<br data-cke-eol="1">'),"auto"==n&&(n="html"==e||"html"==o?"html":"text"),t.type=n,t.dataValue=i,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL},null,null,6),s.on("paste",function(t){(t=t.data).dataValue&&(s.insertHtml(t.dataValue,t.type,t.range),setTimeout(function(){s.fire("afterPaste")},0))},null,null,1e3),s.on("pasteDialog",function(t){setTimeout(function(){s.openDialog("paste",t.data)},0)})}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:(!CKEDITOR.env.ie||16<=CKEDITOR.env.version)&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(t,e,n){t.ui.addButton&&(t.ui.addButton(e,n),t._.pasteButtons||(t._.pasteButtons=[]),t._.pasteButtons.push(e))},canClipboardApiBeTrusted:function(t,e){return!!(t.getTransferType(e)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!t.isEmpty()||CKEDITOR.env.gecko&&(t.getData("text/html")||t.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(t){var e=t.editable();return CKEDITOR.env.ie&&CKEDITOR.env.version<9||e.isInline()?e:t.document},fixSplitNodesAfterDrop:function(t,o,e,n){function i(t,e,n){var i=t;if(i.type==CKEDITOR.NODE_TEXT&&(i=t.getParent()),i.equals(e)&&n!=e.getChildCount())return t=o.startContainer.getChild(o.startOffset-1),e=o.startContainer.getChild(o.startOffset),t&&t.type==CKEDITOR.NODE_TEXT&&e&&e.type==CKEDITOR.NODE_TEXT&&(n=t.getLength(),t.setText(t.getText()+e.getText()),e.remove(),o.setStart(t,n),o.collapse(!0)),!0}var r=o.startContainer;"number"==typeof n&&"number"==typeof e&&r.type==CKEDITOR.NODE_ELEMENT&&(i(t.startContainer,r,e)||i(t.endContainer,r,n))},isDropRangeAffectedByDragRange:function(t,e){var n=e.startContainer,i=e.endOffset;return!!(t.endContainer.equals(n)&&t.endOffset<=i||t.startContainer.getParent().equals(n)&&t.startContainer.getIndex()<i||t.endContainer.getParent().equals(n)&&t.endContainer.getIndex()<i)},internalDrop:function(t,e,n,i){var o,r,a=CKEDITOR.plugins.clipboard,s=i.editable();i.fire("saveSnapshot"),i.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&CKEDITOR.env.version<10&&this.fixSplitNodesAfterDrop(t,e,a.dragStartContainerChildCount,a.dragEndContainerChildCount),(r=this.isDropRangeAffectedByDragRange(t,e))||(o=t.createBookmark(!1)),a=e.clone().createBookmark(!1),r&&(o=t.createBookmark(!1)),t=o.startNode,e=o.endNode,r=a.startNode,e&&t.getPosition(r)&CKEDITOR.POSITION_PRECEDING&&e.getPosition(r)&CKEDITOR.POSITION_FOLLOWING&&r.insertBefore(t),(t=i.createRange()).moveToBookmark(o),s.extractHtmlFromRange(t,1),(e=i.createRange()).moveToBookmark(a),y(i,{dataTransfer:n,method:"drop",range:e},1),i.fire("unlockSnapshot")},getRangeAtDropPosition:function(t,e){var n=t.data.$,i=n.clientX,o=n.clientY,r=e.getSelection(!0).getRanges()[0],a=e.createRange();if(t.data.testRange)return t.data.testRange;if(document.caretRangeFromPoint&&e.document.$.caretRangeFromPoint(i,o))n=e.document.$.caretRangeFromPoint(i,o),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&r&&e.editable().hasFocus)return r;if(!document.body.createTextRange)return null;e.focus(),n=e.document.getBody().$.createTextRange();try{for(var s=!1,l=0;l<20&&!s;l++){if(!s)try{n.moveToPoint(i,o-l),s=!0}catch(m){}if(!s)try{n.moveToPoint(i,o+l),s=!0}catch(f){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'">\u200b</span>');var u=e.document.getById(c);a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()}else{var d=e.document.$.elementFromPoint(i,o),h=new CKEDITOR.dom.element(d);if(h.equals(e.editable())||"html"==h.getName())return r&&r.startContainer&&!r.startContainer.equals(e.editable())?r:null;i<h.getClientRect().left?a.setStartAt(h,CKEDITOR.POSITION_AFTER_START):a.setStartAt(h,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(p){return null}}return a},initDragDataTransfer:function(t,e){var n=t.data.$?t.data.$.dataTransfer:null,i=new this.dataTransfer(n,e);"dragstart"===t.name&&i.storeId(),n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,t.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(t,e){if(this.isCustomCopyCutSupported){if(t&&t.data&&t.data.$){var n=t.data.$.clipboardData,i=new this.dataTransfer(n,e);return"copy"!==t.name&&"cut"!==t.name||i.storeId(),this.copyCutData&&i.id==this.copyCutData.id?(i=this.copyCutData).$=n:this.copyCutData=i,i}return new this.dataTransfer(null,e)}return new this.dataTransfer(CKEDITOR.env.edge&&t&&t.data.$&&t.data.$.clipboardData||null,e)},preventDefaultDropOnElement:function(t){t&&t.on("dragover",o)}},m=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(t,e){t&&(this.$=t),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(t){return"text"==(t=t.toLowerCase())||"text/plain"==t?"Text":"url"==t?"URL":t}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(m),this.id||(this.id="Text"==m?"":"cke-"+CKEDITOR.tools.getUniqueId()),e&&(this.sourceEditor=e,this.setData("text/html",e.getSelectedHtml(1)),"Text"==m||this.getData("text/plain")||this.setData("text/plain",e.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(t,e){if(null==(i="text/html"==(t=this._.normalizeType(t))&&e?this._.nativeHtmlCache:this._.data[t])||""===i){if(this._.fallbackDataTransfer.isRequired())i=this._.fallbackDataTransfer.getData(t,e);else try{i=this.$.getData(t)||""}catch(o){i=""}"text/html"!=t||e||(i=this._stripHtml(i))}if("Text"==t&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""),"string"==typeof i)var n=i.indexOf("</html>"),i=-1!==n?i.substring(0,n+7):i;return i},setData:function(t,e){if("text/html"==(t=this._.normalizeType(t))?(this._.data[t]=this._stripHtml(e),this._.nativeHtmlCache=e):this._.data[t]=e,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==t||"Text"==t)if("Text"==m&&"Text"==t&&(this.id=e),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(t,e);else try{this.$.setData(t,e)}catch(n){}},storeId:function(){"Text"!==m&&this.setData(m,this.id)},getTransferType:function(t){return this.sourceEditor?this.sourceEditor==t?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function t(t){t=i._.normalizeType(t);var e=i.getData(t);"text/html"==t&&(i._.nativeHtmlCache=i.getData(t,!0),e=i._stripHtml(e)),e&&(i._.data[t]=e)}if(this.$){var e,n,i=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(e=0;e<this.$.types.length;e++)t(this.$.types[e])}else t("Text"),t("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(e=0;e<this.$.files.length;e++)this._.files.push(this.$.files[e]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(t){return this._.files.length?this._.files[t]:this.$&&this.$.files&&this.$.files.length?this.$.files[t]:0===t?this._getImageFromClipboard():void 0},isEmpty:function(){var t,e={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data),function(t){e[t]=1}),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)e[this.$.types[n]]=1}else e.Text=1,e.URL=1;for(t in"Text"!=m&&(e[m]=0),e)if(e[t]&&""!==this.getData(t))return!1;return!0},_getImageFromClipboard:function(){var t;if(this.$&&this.$.items&&this.$.items[0])try{if((t=this.$.items[0].getAsFile())&&t.type)return t}catch(e){}},_stripHtml:function(t){if(t&&t.length){t=t.replace(this._.metaRegExp,"");var e=this._.bodyRegExp.exec(t);e&&e.length&&(t=(t=e[1]).replace(this._.fragmentRegExp,""))}return t}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(t){this._dataTransfer=t,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer,e=this._dataTransfer.$;if(null===t._isCustomMimeTypeSupported){if(!e)return!1;if(t._isCustomMimeTypeSupported=!1,CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{e.setData("cke/mimetypetest","cke test value"),t._isCustomMimeTypeSupported="cke test value"===e.getData("cke/mimetypetest"),e.clearData("cke/mimetypetest")}catch(n){}}return!t._isCustomMimeTypeSupported},getData:function(t,e){var n=this._getData(this._customDataFallbackType,!0);if(e)return n;n=this._extractDataComment(n);var i=null;return null!==(i=t===this._customDataFallbackType?n.content:n.data&&n.data[t]?n.data[t]:this._getData(t,!0))?i:""},setData:function(t,e){(o=t===this._customDataFallbackType)&&(e=this._applyDataComment(e,this._getFallbackTypeData()));var n=e,i=this._dataTransfer.$;try{i.setData(t,n),o&&(this._dataTransfer._.nativeHtmlCache=n)}catch(a){if(this._isUnsupportedMimeTypeError(a)){o=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(o._customTypes,t)&&o._customTypes.push(t);var o=this._getFallbackTypeContent(),r=this._getFallbackTypeData();r[t]=n;try{n=this._applyDataComment(o,r),i.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(s){n=""}}}return n},_getData:function(t,e){var n=this._dataTransfer._.data;if(!e&&n[t])return n[t];try{return this._dataTransfer.$.getData(t)}catch(i){return null}},_getFallbackTypeContent:function(){var t=this._dataTransfer._.data[this._customDataFallbackType];return t||(t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),t},_getFallbackTypeData:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(t,function(t){void 0!==n[t]?e[t]=n[t]:void 0!==e[t]&&(e[t]=e[t])},this),e},_isUnsupportedMimeTypeError:function(t){return t.message&&-1!==t.message.search(/element not found/gi)},_extractDataComment:function(t){var e,n={data:null,content:t||""};t&&16<t.length&&((e=/\x3c!--cke-data:(.*?)--\x3e/g.exec(t))&&e[1]&&(n.data=JSON.parse(decodeURIComponent(e[1])),n.content=t.replace(e[0],"")));return n},_applyDataComment:function(t,e){var n="";return e&&CKEDITOR.tools.objectKeys(e).length&&(n="<!--cke-data:"+encodeURIComponent(JSON.stringify(e))+"-->"),n+(t&&t.length?t:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function n(t){var e=this._;e.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(t),e.on?e.panel.hide():e.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){var e=t.panel||{};delete t.panel,this.base(t),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.block={attributes:e.attributes},e.toolbarRelated=!0,this.hasArrow="listbox",this.click=n,this._={panelDefinition:e}},statics:{handler:{create:function(t){return new CKEDITOR.ui.panelButton(t)}}},proto:{createPanel:function(e){var n=this._;if(!n.panel){var t=this._.panelDefinition,i=this._.panelDefinition.block,o=t.parent||CKEDITOR.document.getBody(),r=this._.panel=new CKEDITOR.ui.floatPanel(e,o,t),a=(t=r.addBlock(n.id,i),this);r.onShow=function(){a.className&&this.element.addClass(a.className+"_panel"),a.setState(CKEDITOR.TRISTATE_ON),n.on=1,a.editorFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){a.className&&this.element.getFirst().removeClass(a.className+"_panel"),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1),a.document.getById(n.id).focus()},this.onBlock&&this.onBlock(r,t),t.onHide=function(){n.on=0,a.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}}),CKEDITOR.UI_PANELBUTTON="panelbutton",function(){CKEDITOR.plugins.add("panel",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(t,e){e&&CKEDITOR.tools.extend(this,e),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=t,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(t){return new CKEDITOR.ui.panel(t)}};var o=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),r=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),a=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(t,e){var n={editorId:t.id,id:this.id,langCode:t.langCode,dir:t.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":t.config.baseFloatZIndex+1};if(this.getHolderElement=function(){if(!(e=this._.holder)){if(this.isFramed){var t=(e=this.document.getById(this.id+"_frame")).getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(a.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},n))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(t){var e=t.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");("input"!==t.data.getTarget().getName()||37!==e&&39!==e)&&(this._.onKeyDown&&!1===this._.onKeyDown(e)?"input"===t.data.getTarget().getName()&&32===e||t.data.preventDefault():(27==e||e==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(e)&&t.data.preventDefault())},this),(e=e.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e},this.isFramed){var i=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";n.frame=r.output({id:this.id+"_frame",src:i})}return i=o.output(n),e&&e.push(i),i},addBlock:function(t,e){return e=this._.blocks[t]=e instanceof CKEDITOR.ui.panel.block?e:new CKEDITOR.ui.panel.block(this.getHolderElement(),e),this._.currentBlock||this.showBlock(t),e},getBlock:function(t){return this._.blocks[t]},showBlock:function(t){t=this._.blocks[t];var e=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return e&&e.hide(),this._.currentBlock=t,CKEDITOR.fire("ariaWidget",n),t._.focusIndex=-1,this._.onKeyDown=t.onKeyDown&&CKEDITOR.tools.bind(t.onKeyDown,t),t.show(),t},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(t,e){this.element=t.append(t.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),e&&CKEDITOR.tools.extend(this,e),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(t){-1!=t&&(t=this._.getItems().getItem(this._.focusIndex=t),CKEDITOR.env.webkit&&t.getDocument().getWindow().focus(),t.focus(),this.onMark&&this.onMark(t))},markFirstDisplayed:function(t){for(var e,n,i=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"none"==t.getStyle("display")},o=this._.getItems(),r=o.count()-1;0<=r;r--)if((e=o.getItem(r)).getAscendant(i)||(n=e,this._.focusIndex=r),"true"==e.getAttribute("aria-selected")){n=e,this._.focusIndex=r;break}n&&(t&&t(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(t,e){switch(o=this.keys[t]){case"next":for(var n,i=this._.focusIndex,o=this._.getItems();n=o.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}return!n&&!e&&(this._.focusIndex=-1,this.onKeyDown(t,1));case"prev":for(i=this._.focusIndex,o=this._.getItems();0<i&&(n=o.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}n=null}return!n&&!e&&(this._.focusIndex=o.count(),this.onKeyDown(t,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this._.getItems().getItem(i))&&(n.$[o]?n.$[o]():n.$["on"+o]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function c(t,e,n,i,o){o=CKEDITOR.tools.genKey(e.getUniqueId(),n.getUniqueId(),t.lang.dir,t.uiColor||"",i.css||"",o||"");var r=a[o];return r||((r=a[o]=new CKEDITOR.ui.panel(e,i)).element=n.append(CKEDITOR.dom.element.createFromHtml(r.render(t),e)),r.element.setStyles({display:"none",position:"absolute"})),r}var a={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,e,n,i){function o(){l.hide()}n.forceIFrame=1,n.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(e=CKEDITOR.document.getById("cke_"+t.name));var r=e.getDocument(),a=(i=c(t,r,e,n,i||0)).element,s=a.getFirst(),l=this;a.disableContextMenu(),this.element=a,this._={editor:t,panel:i,parentElement:e,definition:n,document:r,iframe:s,children:[],dir:t.lang.dir,showBlockParams:null,markFirst:void 0===n.markFirst||n.markFirst},t.on("mode",o),t.on("resize",o),r.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(t,e){return this._.panel.addBlock(t,e)},addListBlock:function(t,e){return this._.panel.addListBlock(t,e)},getBlock:function(t){return this._.panel.getBlock(t)},showBlock:function(t,e,n,i,o,s){var l=this._.panel,c=l.showBlock(t);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var r=this._.editor.editable();this._.returnFocus=r.hasFocus?r:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var u=this.element,a=(r=this._.iframe,r=CKEDITOR.env.ie&&!CKEDITOR.env.edge?r:new CKEDITOR.dom.window(r.$.contentWindow),u.getDocument()),d=this._.parentElement.getPositionedAncestor(),h=e.getDocumentPosition(a),f=(a=d?d.getDocumentPosition(a):{x:0,y:0},"rtl"==this._.dir),p=h.x+(i||0)-a.x,m=h.y+(o||0)-a.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(p+=e.$.offsetWidth-1):p+=e.$.offsetWidth,3!=n&&4!=n||(m+=e.$.offsetHeight-1),this._.panel._.offsetParentId=e.getId(),u.setStyles({top:m+"px",left:0,display:""}),u.setOpacity(0),u.getFirst().removeStyle("width"),this._.editor.focusManager.add(r),this._.blurSet||(CKEDITOR.event.useCapture=!0,r.on("blur",function(t){function e(){delete this._.returnFocus,this.hide()}this.allowBlur()&&t.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(e,0,this)):e.call(this))},this),r.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(r.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),r.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),l.onEscape=CKEDITOR.tools.bind(function(t){if(this.onEscape&&!1===this.onEscape(t))return!1},this),CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.tools.bind(function(){if((n=u).removeStyle("width"),c.autoSize){var t=c.element.getDocument();t=(CKEDITOR.env.webkit||CKEDITOR.env.edge?c.element:t.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetWidth||0)-(
n.$.clientWidth||0)+3),n.setStyle("width",t+10+"px"),t=c.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",t+"px"),l._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");f&&(p-=u.$.offsetWidth),u.setStyle("left",p+"px");t=l.element.getWindow();var e,n=u.$.getBoundingClientRect(),i=(t=t.getViewPaneSize(),n.width||n.right-n.left),o=n.height||n.bottom-n.top,r=f?n.right:t.width-n.left,a=f?t.width-n.right:n.left;f?r<i&&(p=i<a?p+i:t.width>i?p-n.left:p-n.right+t.width):r<i&&(p=i<a?p-i:t.width>i?p-n.right+t.width:p-n.left),i=n.top,t.height-n.top<o&&(m=o<i?m-o:t.height>o?m-n.bottom+t.height:m-n.top),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&("html"==(t=n=new CKEDITOR.dom.element(u.$.offsetParent)).getName()&&(t=t.getDocument().getBody()),"rtl"==t.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*u.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(e=(n=u.getFirst()).getCustomData("activePanel"))&&e.onHide&&e.onHide.call(this,1),n.setCustomData("activePanel",this),u.setStyles({top:m+"px",left:p+"px"}),u.setOpacity(1),s&&s()},this);l.isLoaded?t():l.onLoad=t,CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),c.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t),this.allowBlur(!0),this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed()},0):c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed()),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var t=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,t))},focus:function(){if(CKEDITOR.env.webkit){var t=CKEDITOR.document.getActive();t&&!t.equals(this._.iframe)&&t.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var t=this._.iframe.getFrameDocument().getActive();t&&t.is("a")&&(this._.lastFocused=t)},hide:function(t){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(t=t&&this._.returnFocus)&&(CKEDITOR.env.webkit&&t.type&&t.getWindow().$.focus(),t.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(t){var e=this._.panel;return void 0!==t&&(e.allowBlur=t),e.allowBlur},showAsChild:function(t,e,n,i,o,r){this._.activeChild==t&&t._.panel._.offsetParentId==n.getId()||(this.hideChild(),t.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=t,this._.focused=!1,t.showBlock(e,n,i,o,r),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){t.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(t){var e=this._.activeChild;e&&(delete e.onHide,delete this._.activeChild,e.hide(),t&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var t,e=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in a){var n=a[t];e?n.destroy():n.element.hide()}e&&(a={})})}(),CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(d){function t(t,r,e,n,i){var a,o=new CKEDITOR.style(f["colorButton_"+r+"Style"]),s=CKEDITOR.tools.getNextId()+"_colorBox";i=i||{},d.ui.add(t,CKEDITOR.UI_PANELBUTTON,{label:e,title:e,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+n,allowedContent:o,requiredContent:o,contentTransformations:i.contentTransformations,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":p.panelTitle}},onBlock:function(t,e){(a=e).autoSize=!0,e.element.addClass("cke_colorblock"),e.element.setHtml(l(t,r,s)),e.element.getDocument().getBody().setStyle("overflow","hidden"),CKEDITOR.ui.fire("ready",this);var n=e.keys,i="rtl"==d.lang.dir;n[i?37:39]="next",n[40]="next",n[9]="next",n[i?39:37]="prev",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]="click"},refresh:function(){d.activeFilter.check(o)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var t=(n=d.getSelection())&&n.getStartElement(),e=d.elementPath(t);if(e){for(t=e.block||e.blockLimit||d.document.getBody();e=t&&t.getComputedStyle("back"==r?"background-color":"color")||"transparent","back"==r&&"transparent"==e&&t&&(t=t.getParent()););if(e&&"transparent"!=e||(e="#ffffff"),!1!==f.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(s).setStyle("background-color",e),t=n&&n.getRanges()[0]){var n=new CKEDITOR.dom.walker(t),i=t.collapsed?t.startContainer:n.next();for(t="";i;){if(i.type!==CKEDITOR.NODE_ELEMENT&&(i=i.getParent()),i=c(i.getComputedStyle("back"==r?"background-color":"color")),(t=t||i)!==i){t="";break}i=n.next()}for(n=t,t=a._.getItems(),i=0;i<t.count();i++){var o=t.getItem(i);o.removeAttribute("aria-selected"),n&&n==c(o.getAttribute("data-value"))&&o.setAttribute("aria-selected",!0)}}return e}}})}function l(t,e,n){t=[];var i=f.colorButton_colors.split(","),o=f.colorButton_colorsPerRow||6,r=d.plugins.colordialog&&!1!==f.colorButton_enableMore,a=i.length+(r?2:1),s=CKEDITOR.tools.addFunction(function(t,n){function e(t){var e=f["colorButton_"+n+"Style"];d.removeStyle(new CKEDITOR.style(e,{color:"inherit"})),e.childRule="back"==n?function(t){return h(t)}:function(t){return!(t.is("a")||t.getElementsByTag("a").count())||h(t)},d.focus(),t&&d.applyStyle(new CKEDITOR.style(e,{color:t})),d.fire("saveSnapshot")}if(d.focus(),d.fire("saveSnapshot"),"?"!=t)return e(t);d.getColorFromDialog(function(t){if(t)return e(t)})});for(!1!==f.colorButton_enableAutomatic&&t.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',p.auto,'" onclick="CKEDITOR.tools.callFunction(',s,",null,'",e,"');return false;\" href=\"javascript:void('",p.auto,'\')" role="option" aria-posinset="1" aria-setsize="',a,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td colspan="'+o+'" align="center"><span class="cke_colorbox" id="',n,'"></span>',p.auto,"</td></tr></table></a>"),t.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%">'),n=0;n<i.length;n++){0==n%o&&t.push("</tr><tr>");var l=i[n].split("/"),c=l[0],u=l[1]||c;l=l[1]?c:(c="#"+c.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3"),d.lang.colorbutton.colors[u]||u),t.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',l,'" onclick="CKEDITOR.tools.callFunction(',s,",'",c,"','",e,"'); return false;\" href=\"javascript:void('",l,'\')" data-value="'+u+'" role="option" aria-posinset="',n+2,'" aria-setsize="',a,'"><span class="cke_colorbox" style="background-color:#',u,'"></span></a></td>')}return r&&t.push('</tr><tr><td colspan="'+o+'" align="center"><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',p.more,'" onclick="CKEDITOR.tools.callFunction(',s,",'?','",e,"');return false;\" href=\"javascript:void('",p.more,"')\"",' role="option" aria-posinset="',a,'" aria-setsize="',a,'">',p.more,"</a></td>"),t.push("</tr></table>"),t.join("")}function h(t){return"false"==t.getAttribute("contentEditable")||t.getAttribute("data-nostyle")}function c(t){return CKEDITOR.tools.normalizeHex("#"+CKEDITOR.tools.convertRgbToHex(t||"")).replace(/#/g,"")}var f=d.config,p=d.lang.colorbutton;if(!CKEDITOR.env.hc){t("TextColor","fore",p.textColorTitle,10,{contentTransformations:[[{element:"font",check:"span{color}",left:function(t){return!!t.attributes.color},right:function(t){t.name="span",t.attributes.color&&(t.styles.color=t.attributes.color),delete t.attributes.color}}]]});var e={},n=d.config.colorButton_normalizeBackground;(void 0===n||n)&&(e.contentTransformations=[[{element:"span",left:function(t){var e=CKEDITOR.tools;return!("span"!=t.name||!t.styles||!t.styles.background)&&((t=e.style.parse.background(t.styles.background)).color&&1===e.objectKeys(t).length)},right:function(t){var e=new CKEDITOR.style(d.config.colorButton_backStyle,{color:t.styles.background}).getDefinition();return t.name=e.element,t.styles=e.styles,t.attributes=e.attributes||{},t}}]]),t("BGColor","back",p.bgColorTitle,20,e)}}}),CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000",CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},CKEDITOR.plugins.colordialog={requires:"dialog",init:function(t){var e=new CKEDITOR.dialogCommand("colordialog");e.editorFocus=!1,t.addCommand("colordialog",e),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),t.getColorFromDialog=function(e,n){var i,o,r;i=function(t){o(this),t="ok"==t.name?this.getValueOf("picker","selectedColor"):null,/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(t)&&(t="#"+t),e.call(n,t)},o=function(t){t.removeListener("ok",i),t.removeListener("cancel",i)},r=function(t){t.on("ok",i),t.on("cancel",i)},t.execCommand("colordialog"),t._.storedDialogs&&t._.storedDialogs.colordialog?r(t._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",function(t){if("colordialog"==t.data.name){var e=t.data.definition;t.removeListener(),e.onLoad=CKEDITOR.tools.override(e.onLoad,function(t){return function(){r(this),"function"==typeof(e.onLoad=t)&&t.call(this)}})}})}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog),function(){CKEDITOR.plugins.add("templates",{requires:"dialog",init:function(t){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js")),t.addCommand("templates",new CKEDITOR.dialogCommand("templates")),t.ui.addButton&&t.ui.addButton("Templates",{label:t.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var n={},r={};CKEDITOR.addTemplates=function(t,e){n[t]=e},CKEDITOR.getTemplates=function(t){return n[t]},CKEDITOR.loadTemplates=function(t,e){for(var n=[],i=0,o=t.length;i<o;i++)r[t[i]]||(n.push(t[i]),r[t[i]]=1);n.length?CKEDITOR.scriptLoader.load(n,e):setTimeout(e,0)}}(),CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")],CKEDITOR.config.templates_replaceContent=!0,CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(t){for(var e=t.config.menu_groups.split(","),n=t._.menuGroups={},i=t._.menuItems={},o=0;o<e.length;o++)n[e[o]]=o+1;t.addMenuGroup=function(t,e){n[t]=e||100},t.addMenuItem=function(t,e){n[e.group]&&(i[t]=new CKEDITOR.menuItem(this,t,e))},t.addMenuItems=function(t){for(var e in t)this.addMenuItem(e,t[e])},t.getMenuItem=function(t){return i[t]},t.removeMenuItem=function(t){delete i[t]}}}),function(){function f(t){t.sort(function(t,e){return t.group<e.group?-1:t.group>e.group?1:t.order<e.order?-1:t.order>e.order?1:0})}var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');t=t+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">';var p=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),m=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),g=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(t,e){e=this._.definition=e||{},this.id=CKEDITOR.tools.getNextId(),this.editor=t,this.items=[],this._.listeners=[],this._.level=e.level||1;var n=CKEDITOR.tools.extend({},e.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var t=this.editor.getSelection(),e=t&&t.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var r=i[o](e,t,n);if(r)for(var a in r){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=r[a],this.add(s))}}},onClick:function(t){this.hide(),t.onClick?t.onClick():t.command&&this.editor.execCommand(t.command)},onEscape:function(t){var e=this.parent;return e?e._.panel.hideChild(1):27==t&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(t){var e=this._.subMenu,n=this.items[t];if(n=n.getItems&&n.getItems()){for(var i in e?e.removeAll():((e=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,e._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],e.add(o))}var r=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(t));setTimeout(function(){e.show(r,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(t){t.order||(t.order=this.items.length),this.items.push(t)},removeAll:function(){this.items=[]},show:function(t,e,n,i){if(this.parent||(this._.onShow(),this.items.length)){e=e||("rtl"==this.editor.lang.dir?2:1);var o=this.items,r=this.editor,a=this._.panel,s=this._.element;if(!a)(a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind(function(t){if(!1===this._.onEscape(t))return!1},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(t){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[t])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(t){var e=this.items[t];e.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):e.getItems?this._.showSubMenu(t):this._.onClick(e)},this);f(o);for(var l=['<div class="cke_menu'+((l=r.elementPath())&&l.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,u=c&&o[0].group,d=0;d<c;d++){var h=o[d];u!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),u=h.group),h.render(this,d,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,t,e,n,i):a.showBlock(this.id,t,e,n,i),r.fire("menuShow",[a])}},addListener:function(t){this._.listeners.push(t)},hide:function(t){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(t)},findItemByCommandName:function(e){var t=CKEDITOR.tools.array.filter(this.items,function(t){return e===t.command});return t.length?{item:t=t[0],element:this._.element.findOne("."+t.className)}:null}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(t,e,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+e}),this.group=t._.menuGroups[this.group],this.editor=t,this.name=e},proto:{render:function(t,e,n){var i,o,r=t.id+String(e),a="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,s="",l=this.editor,c=a==CKEDITOR.TRISTATE_ON?"on":a==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(s=' aria-checked="'+(a==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var u=this.getItems,d="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",h=this.name;this.icon&&!/\./.test(this.icon)&&(h=this.icon),this.command&&(i=l.getCommand(this.command),(i=l.getCommandKeystroke(i))&&(o=CKEDITOR.tools.keystrokeToString(l.lang.common.keyboard,i))),t={id:r,name:this.name,iconName:h,label:this.label,cls:this.className||"",state:c,hasPopup:u?"true":"false",disabled:a==CKEDITOR.TRISTATE_DISABLED,title:this.label+(o?" ("+o.display+")":""),ariaShortcut:o?l.lang.common.keyboardShortcut+" "+o.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:t._.itemOverFn,moveOutFn:t._.itemOutFn,clickFn:t._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(h,"rtl"==this.editor.lang.dir,h==this.icon?null:this.icon,this.iconOffset),shortcutHtml:o?g.output({shortcut:o.display}):"",arrowHtml:u?m.output({label:d}):"",role:this.role?this.role:"menuitem",ariaChecked:s},p.output(t,n)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(t){this.base.call(this,t,{panel:{css:t.config.contextmenu_contentsCss,className:"cke_menu_panel",attributes:{"aria-label":t.lang.contextmenu.options}}})},proto:{addTarget:function(t,a){function e(){l=!1}var s,l;if(t.on("contextmenu",function(t){t=t.data;var e=CKEDITOR.env.webkit?s:CKEDITOR.env.mac?t.$.metaKey:t.$.ctrlKey;if(!(a&&e||(t.preventDefault(),l))){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){e=this.editor;(n=new CKEDITOR.dom.elementPath(t.getTarget(),e.editable()).contains(function(t){return t.hasAttribute("contenteditable")},!0))&&"false"==n.getAttribute("contenteditable")&&e.getSelection().fake(n)}var n=t.getTarget().getDocument(),i=t.getTarget().getDocument().getDocumentElement(),o=(e=!n.equals(CKEDITOR.document),n=n.getWindow().getScrollPosition(),e?t.$.clientX:t.$.pageX||n.x+t.$.clientX),r=e?t.$.clientY:t.$.pageY||n.y+t.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(i,null,o,r)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var n=function(){s=0};t.on("keydown",function(t){s=CKEDITOR.env.mac?t.data.$.metaKey:t.data.$.ctrlKey}),t.on("keyup",n),t.on("contextmenu",n)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(t.on("keydown",function(t){t.data.$.shiftKey&&121===t.data.$.keyCode&&(l=!0)},null,null,0),t.on("keyup",e),t.on("contextmenu",e))},open:function(t,e,n,i){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==CKEDITOR.SELECTION_NONE&&(this.editor.focus(),t=t||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(t,e,n,i))}}})},beforeInit:function(t){var e=t.contextMenu=new CKEDITOR.plugins.contextMenu(t);t.on("contentDom",function(){e.addTarget(t.editable(),!1!==t.config.browserContextMenuOnCtrl)}),t.addCommand("contextMenu",{exec:function(t){var e,n=0,i=0;(e=(e=(e=t.getSelection().getRanges())[e.length-1].getClientRects(t.editable().isInline()))[e.length-1])&&(n=e["rtl"===t.lang.dir?"left":"right"],i=e.bottom),t.contextMenu.open(t.document.getBody().getParent(),null,n,i)}}),t.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),t.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function s(t,e,n,i){var o=new CKEDITOR.dom.walker(t);if(!(t=t.startContainer.getAscendant(e,!0)||t.endContainer.getAscendant(e,!0))||(n(t),!i))for(;(t=o.next())&&(!(t=t.getAscendant(e,!0))||(n(t),!i)););}function l(e,t){var n={ul:"ol",ol:"ul"};return-1!==h(t,function(t){return t.element===e||t.element===n[e]})}function t(t){this.styles=null,this.sticky=!1,this.editor=t,this.filter=new CKEDITOR.filter(t,t.config.copyFormatting_allowRules),!0===t.config.copyFormatting_allowRules&&(this.filter.disabled=!0),t.config.copyFormatting_disallowRules&&this.filter.disallow(t.config.copyFormatting_disallowRules)}var h=CKEDITOR.tools.indexOf,i=CKEDITOR.tools.getMouseButton,e=!1;CKEDITOR.plugins.add("copyformatting",{lang:"az,de,en,it,ja,nb,nl,oc,pl,pt-br,ru,sv,tr,zh,zh-cn",icons:"copyformatting",hidpi:!0,init:function(a){var s=CKEDITOR.plugins.copyformatting;s._addScreenReaderContainer(),e||(CKEDITOR.document.appendStyleSheet(this.path+"styles/copyformatting.css"),e=!0),a.addContentsCss&&a.addContentsCss(this.path+"styles/copyformatting.css"),a.copyFormatting=new s.state(a),a.addCommand("copyFormatting",s.commands.copyFormatting),a.addCommand("applyFormatting",s.commands.applyFormatting),a.ui.addButton("CopyFormatting",{label:a.lang.copyformatting.label,command:"copyFormatting",toolbar:"cleanup,0"}),a.on("contentDom",function(){var n=a.editable(),t=n.isInline()?n:a.document,e=a.ui.get("CopyFormatting");n.attachListener(t,"mouseup",function(t){i(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&a.execCommand("applyFormatting")}),n.attachListener(CKEDITOR.document,"mouseup",function(t){var e=a.getCommand("copyFormatting");i(t)!==CKEDITOR.MOUSE_BUTTON_LEFT||e.state!==CKEDITOR.TRISTATE_ON||n.contains(t.data.getTarget())||a.execCommand("copyFormatting")}),e&&(t=CKEDITOR.document.getById(e._.id),n.attachListener(t,"dblclick",function(){a.execCommand("copyFormatting",{sticky:!0})}),n.attachListener(t,"mouseup",function(t){t.data.stopPropagation()}))}),a.config.copyFormatting_keystrokeCopy&&a.setKeystroke(a.config.copyFormatting_keystrokeCopy,"copyFormatting"),a.on("key",function(t){var e=a.getCommand("copyFormatting");(t=t.data.domEvent).getKeystroke&&27===t.getKeystroke()&&e.state===CKEDITOR.TRISTATE_ON&&a.execCommand("copyFormatting")}),a.copyFormatting.on("extractFormatting",function(t){var e=t.data.element;return e.contains(a.editable())||e.equals(a.editable())?t.cancel():(e=s._convertElementToStyleDef(e),a.copyFormatting.filter.check(new CKEDITOR.style(e),!0,!0)?void(t.data.styleDef=e):t.cancel())}),a.copyFormatting.on("applyFormatting",function(t){if(!t.data.preventFormatStripping){var e,n,i=t.data.range,o=s._extractStylesFromRange(a,i),r=s._determineContext(i);if(a.copyFormatting._isContextAllowed(r))for(n=0;n<o.length;n++)r=o[n],e=i.createBookmark(),-1===h(s.preservedElements,r.element)?CKEDITOR.env.webkit&&!CKEDITOR.env.chrome?o[n].removeFromRange(t.data.range,t.editor):o[n].remove(t.editor):l(r.element,t.data.styles)&&s._removeStylesFromElementInRange(i,r.element),i.moveToBookmark(e)}}),a.copyFormatting.on("applyFormatting",function(t){var e=CKEDITOR.plugins.copyformatting,n=e._determineContext(t.data.range);"list"===n&&a.copyFormatting._isContextAllowed("list")?e._applyStylesToListContext(t.editor,t.data.range,t.data.styles):"table"===n&&a.copyFormatting._isContextAllowed("table")?e._applyStylesToTableContext(t.editor,t.data.range,t.data.styles):a.copyFormatting._isContextAllowed("text")&&e._applyStylesToTextContext(t.editor,t.data.range,t.data.styles)},null,null,999)}}),t.prototype._isContextAllowed=function(t){var e=this.editor.config.copyFormatting_allowedContexts;return!0===e||-1!==h(e,t)},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.plugins.copyformatting={state:t,inlineBoundary:"h1 h2 h3 h4 h5 h6 p div".split(" "),excludedAttributes:["id","style","href","data-cke-saved-href","dir"],elementsForInlineTransform:["li"],excludedElementsFromInlineTransform:["table","thead","tbody","ul","ol"],excludedAttributesFromInlineTransform:["value","type"],preservedElements:"ul ol li td th tr thead tbody table".split(" "),breakOnElements:["ul","ol","table"],_initialKeystrokePasteCommand:null,commands:{copyFormatting:{exec:function(t,e){var n=CKEDITOR.plugins.copyformatting,i=t.copyFormatting,o=!!e&&"keystrokeHandler"==e.from,r=!!e&&(e.sticky||o),a=n._getCursorContainer(t),s=CKEDITOR.document.getDocumentElement();if(this.state===CKEDITOR.TRISTATE_ON)return i.styles=null,i.sticky=!1,a.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n._putScreenReaderMessage(t,"canceled"),n._detachPasteKeystrokeHandler(t),this.setState(CKEDITOR.TRISTATE_OFF);i.styles=n._extractStylesFromElement(t,t.elementPath().lastElement),this.setState(CKEDITOR.TRISTATE_ON),o||(a.addClass("cke_copyformatting_active"),s.addClass("cke_copyformatting_tableresize_cursor"),t.config.copyFormatting_outerCursor&&s.addClass("cke_copyformatting_disabled")),i.sticky=r,n._putScreenReaderMessage(t,"copied"),n._attachPasteKeystrokeHandler(t)}},applyFormatting:{editorFocus:!(CKEDITOR.env.ie&&!CKEDITOR.env.edge),exec:function(t,e){var n=t.getCommand("copyFormatting"),i=!!e&&"keystrokeHandler"==e.from,o=CKEDITOR.plugins.copyformatting,r=t.copyFormatting,a=o._getCursorContainer(t),s=CKEDITOR.document.getDocumentElement();if(i||n.state===CKEDITOR.TRISTATE_ON){if(i&&!r.styles)return o._putScreenReaderMessage(t,"failed"),o._detachPasteKeystrokeHandler(t),!1;i=o._applyFormat(t,r.styles),r.sticky||(r.styles=null,a.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n.setState(CKEDITOR.TRISTATE_OFF),o._detachPasteKeystrokeHandler(t)),o._putScreenReaderMessage(t,i?"applied":"canceled")}}}},_getCursorContainer:function(t){return t.elementMode===CKEDITOR.ELEMENT_MODE_INLINE?t.editable():t.editable().getParent()},_convertElementToStyleDef:function(t){var e=CKEDITOR.tools,n=t.getAttributes(CKEDITOR.plugins.copyformatting.excludedAttributes);e=e.parseCssText(t.getAttribute("style"),!0,!0);return{element:t.getName(),type:CKEDITOR.STYLE_INLINE,attributes:n,styles:e}},_extractStylesFromElement:function(t,e){var n={},i=[];do{if(e.type===CKEDITOR.NODE_ELEMENT&&!e.hasAttribute("data-cke-bookmark")&&(n.element=e,t.copyFormatting.fire("extractFormatting",n,t)&&n.styleDef&&i.push(new CKEDITOR.style(n.styleDef)),e.getName&&-1!==h(CKEDITOR.plugins.copyformatting.breakOnElements,e.getName())))break}while((e=e.getParent())&&e.type===CKEDITOR.NODE_ELEMENT);return i},_extractStylesFromRange:function(t,e){for(var n,i=[],o=new CKEDITOR.dom.walker(e);n=o.next();)i=i.concat(CKEDITOR.plugins.copyformatting._extractStylesFromElement(t,n));return i},_removeStylesFromElementInRange:function(t,e){for(var n,i=-1!==h(["ol","ul","table"],e),o=new CKEDITOR.dom.walker(t);(n=o.next())&&(!(n=n.getAscendant(e,!0))||(n.removeAttributes(n.getAttributes()),!i)););},_getSelectedWordOffset:function(t){function c(t,e){return t[e?"getPrevious":"getNext"](function(t){return t.type!==CKEDITOR.NODE_COMMENT})}function u(t){return t.type==CKEDITOR.NODE_ELEMENT?(t=t.getHtml().replace(/<span.*?>&nbsp;<\/span>/g,"")).replace(/<.*?>/g,""):t.getText()}function d(t,e){var n,i,o=t,r=/\s/g,a="p br ol ul li td th div caption body".split(" "),s=!1,l=!1;do{for(n=c(o,e);!n&&o.getParent();){if(o=o.getParent(),-1!==h(a,o.getName())){l=s=!0;break}n=c(o,e)}if(n&&n.getName&&-1!==h(a,n.getName())){s=!0;break}o=n}while(o&&o.getStyle&&("none"==o.getStyle("display")||!o.getText()));for(o||(o=t);o.type!==CKEDITOR.NODE_TEXT;)o=!s||e||l?o.getChild(0):o.getChild(o.getChildCount()-1);for(a=u(o);null!=(l=r.exec(a))&&(i=l.index,e););if("number"!=typeof i&&!s)return d(o,e);if(s)i=e?0:(l=(r=/([\.\b]*$)/).exec(a))?l.index:a.length;else if(e&&(i+=1)>a.length)return d(o);return{node:o,offset:i}}var e,n,i,o,r,a=/\b\w+\b/gi;for(e=u(i=o=r=t.startContainer);null!=(n=a.exec(e));)if(n.index+n[0].length>=t.startOffset)return t=n.index,a=n.index+n[0].length,0===n.index&&(o=(n=d(i,!0)).node,t=n.offset),a>=e.length&&(r=(e=d(i)).node,a=e.offset),{startNode:o,startOffset:t,endNode:r,endOffset:a};return null},_filterStyles:function(t){var e,n,i=CKEDITOR.tools.isEmpty,o=[];for(n=0;n<t.length;n++)e=t[n]._.definition,-1!==CKEDITOR.tools.indexOf(CKEDITOR.plugins.copyformatting.inlineBoundary,e.element)&&(e.element=t[n].element="span"),"span"===e.element&&i(e.attributes)&&i(e.styles)||o.push(t[n]);return o},_determineContext:function(i){function t(t){var e,n=new CKEDITOR.dom.walker(i);if(i.startContainer.getAscendant(t,!0)||i.endContainer.getAscendant(t,!0))return!0;for(;e=n.next();)if(e.getAscendant(t,!0))return!0}return t({ul:1,ol:1})?"list":t("table")?"table":"text"},_applyStylesToTextContext:function(t,e,n){var i,o,r=CKEDITOR.plugins.copyformatting,a=r.excludedAttributesFromInlineTransform;for(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome&&t.getSelection().selectRanges([e]),i=0;i<n.length;i++)if(e=n[i],-1===h(r.excludedElementsFromInlineTransform,e.element)){if(-1!==h(r.elementsForInlineTransform,e.element))for(e.element=e._.definition.element="span",o=0;o<a.length;o++)e._.definition.attributes[a[o]]&&delete e._.definition.attributes[a[o]];e.apply(t)}},_applyStylesToListContext:function(t,e,n){var i,o,r;for(r=0;r<n.length;r++)i=n[r],o=e.createBookmark(),"ol"===i.element||"ul"===i.element?s(e,{ul:1,ol:1},function(t){var e=i;t.getName()!==e.element&&t.renameNode(e.element),e.applyToObject(t)},!0):"li"===i.element?s(e,"li",function(t){i.applyToObject(t)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t,e,[i]),e.moveToBookmark(o)},_applyStylesToTableContext:function(t,e,n){function i(t,e){t.getName()!==e.element&&((e=e.getDefinition()).element=t.getName(),e=new CKEDITOR.style(e)),e.applyToObject(t)}var o,r,a;for(a=0;a<n.length;a++)o=n[a],r=e.createBookmark(),-1!==h(["table","tr"],o.element)?s(e,o.element,function(t){o.applyToObject(t)}):-1!==h(["td","th"],o.element)?s(e,{td:1,th:1},function(t){i(t,o)}):-1!==h(["thead","tbody"],o.element)?s(e,{thead:1,tbody:1},function(t){i(t,o)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t,e,[o]),e.moveToBookmark(r)},_applyFormat:function(t,e){var n,i,o=t.getSelection().getRanges()[0],r=CKEDITOR.plugins.copyformatting;if(!o)return!1;if(o.collapsed){if(i=t.getSelection().createBookmarks(),!(n=r._getSelectedWordOffset(o)))return;(o=t.createRange()).setStart(n.startNode,n.startOffset),o.setEnd(n.endNode,n.endOffset),o.select()}return e=r._filterStyles(e),!!t.copyFormatting.fire("applyFormatting",{styles:e,range:o,preventFormatStripping:!1},t)&&(i&&t.getSelection().selectBookmarks(i),!0)},_putScreenReaderMessage:function(t,e){var n=this._getScreenReaderContainer();n&&n.setText(t.lang.copyformatting.notification[e])},_addScreenReaderContainer:function(){return this._getScreenReaderContainer()?this._getScreenReaderContainer():CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?void 0:CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml('<div class="cke_screen_reader_only cke_copyformatting_notification"><div aria-live="polite"></div></div>')).getChild(0)},_getScreenReaderContainer:function(){if(!CKEDITOR.env.ie6Compat&&!CKEDITOR.env.ie7Compat)return CKEDITOR.document.getBody().findOne(".cke_copyformatting_notification div[aria-live]")},_attachPasteKeystrokeHandler:function(t){var e=t.config.copyFormatting_keystrokePaste;e&&(this._initialKeystrokePasteCommand=t.keystrokeHandler.keystrokes[e],t.setKeystroke(e,"applyFormatting"))},_detachPasteKeystrokeHandler:function(t){var e=t.config.copyFormatting_keystrokePaste;e&&t.setKeystroke(e,this._initialKeystrokePasteCommand||!1)}},CKEDITOR.config.copyFormatting_outerCursor=!0,CKEDITOR.config.copyFormatting_allowRules="b s u i em strong span p div td th ol ul li(*)[*]{*}",CKEDITOR.config.copyFormatting_disallowRules="*[data-cke-widget*,data-widget*,data-cke-realelement](cke_widget*)",CKEDITOR.config.copyFormatting_allowedContexts=!0,CKEDITOR.config.copyFormatting_keystrokeCopy=CKEDITOR.CTRL+CKEDITOR.SHIFT+67,CKEDITOR.config.copyFormatting_keystrokePaste=CKEDITOR.CTRL+CKEDITOR.SHIFT+86}(),CKEDITOR.plugins.add("div",{requires:"dialog",init:function(e){if(!e.blockless){var t=e.lang.div,n="div(*)";CKEDITOR.dialog.isTabEnabled(e,"editdiv","advanced")&&(n+=";div[dir,id,lang,title]{*}"),
e.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:n,requiredContent:"div",contextSensitive:!0,contentTransformations:[["div: alignmentToStyle"]],refresh:function(t,e){this.setState("div"in(t.config.div_wrapTable?e.root:e.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})),e.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"})),e.addCommand("removediv",{requiredContent:"div",exec:function(e){function t(t){(t=CKEDITOR.plugins.div.getSurroundDiv(e,t))&&!t.data("cke-div-added")&&(a.push(t),t.data("cke-div-added"))}for(var n,i=e.getSelection(),o=i&&i.getRanges(),r=i.createBookmarks(),a=[],s=0;s<o.length;s++)(n=o[s]).collapsed?t(i.getStartElement()):((n=new CKEDITOR.dom.walker(n)).evaluator=t,n.lastForward());for(s=0;s<a.length;s++)a[s].remove(!0);i.selectBookmarks(r)}}),e.ui.addButton&&e.ui.addButton("CreateDiv",{label:t.toolbar,command:"creatediv",toolbar:"blocks,50"}),e.addMenuItems&&(e.addMenuItems({editdiv:{label:t.edit,command:"editdiv",group:"div",order:1},removediv:{label:t.remove,command:"removediv",group:"div",order:5}}),e.contextMenu&&e.contextMenu.addListener(function(t){return!t||t.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(e)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:null})),CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js"),CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}}),CKEDITOR.plugins.div={getSurroundDiv:function(t,e){var n=t.elementPath(e);return t.elementPath(n.blockLimit).contains(function(t){return t.is("div")&&!t.isReadOnly()},1)}},CKEDITOR.plugins.add("resize",{init:function(o){function e(t){var e=l.width,n=l.height,i=e+(t.data.$.screenX-s.x)*("rtl"==a?-1:1);t=n+(t.data.$.screenY-s.y),u&&(e=Math.max(r.resize_minWidth,Math.min(i,r.resize_maxWidth))),d&&(n=Math.max(r.resize_minHeight,Math.min(t,r.resize_maxHeight))),o.resize(u?e:null,n)}function n(){CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",n),o.document&&(o.document.removeListener("mousemove",e),o.document.removeListener("mouseup",n))}var r=o.config,i=o.ui.spaceId("resizer"),a=o.element?o.element.getDirection(1):"ltr";if(!r.resize_dir&&(r.resize_dir="vertical"),void 0===r.resize_maxWidth&&(r.resize_maxWidth=3e3),void 0===r.resize_maxHeight&&(r.resize_maxHeight=3e3),void 0===r.resize_minWidth&&(r.resize_minWidth=750),void 0===r.resize_minHeight&&(r.resize_minHeight=250),!1!==r.resize_enabled){var s,l,c=null,u=("both"==r.resize_dir||"horizontal"==r.resize_dir)&&r.resize_minWidth!=r.resize_maxWidth,d=("both"==r.resize_dir||"vertical"==r.resize_dir)&&r.resize_minHeight!=r.resize_maxHeight,h=CKEDITOR.tools.addFunction(function(t){c||(c=o.getResizable()),l={width:c.$.offsetWidth||0,height:c.$.offsetHeight||0},s={x:t.screenX,y:t.screenY},r.resize_minWidth>l.width&&(r.resize_minWidth=l.width),r.resize_minHeight>l.height&&(r.resize_minHeight=l.height),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),o.document&&(o.document.on("mousemove",e),o.document.on("mouseup",n)),t.preventDefault&&t.preventDefault()});o.on("destroy",function(){CKEDITOR.tools.removeFunction(h)}),o.on("uiSpace",function(t){if("bottom"==t.data.space){var e="";u&&!d&&(e=" cke_resizer_horizontal"),!u&&d&&(e=" cke_resizer_vertical");var n='<span id="'+i+'" class="cke_resizer'+e+" cke_resizer_"+a+'" title="'+CKEDITOR.tools.htmlEncode(o.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event)">'+("ltr"==a?"\u25e2":"\u25e3")+"</span>";"ltr"==a&&"ltr"==e?t.data.html+=n:t.data.html=n+t.data.html}},o,null,100),o.on("maximize",function(t){o.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),function(){function n(h,t){function o(t){var e;(t=m.list[t]).equals(h.editable())||"true"==t.getAttribute("contenteditable")?((e=h.createRange()).selectNodeContents(t),e=e.select()):(e=h.getSelection()).selectElement(t),CKEDITOR.env.ie&&h.fire("selectionChange",{selection:e,path:new CKEDITOR.dom.elementPath(t)}),h.focus()}function e(){f&&f.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete m.list}var f,p=h.ui.spaceId("path"),m=h._.elementsPath,g=m.idBase;t.html+='<span id="'+p+'_label" class="cke_voice_label">'+h.lang.elementspath.eleLabel+'</span><span id="'+p+'" class="cke_path" role="group" aria-labelledby="'+p+'_label"><span class="cke_path_empty">&nbsp;</span></span>',h.on("uiReady",function(){var t=h.ui.space("path");t&&h.focusManager.add(t,1)}),m.onClick=o;var v=CKEDITOR.tools.addFunction(o),y=CKEDITOR.tools.addFunction(function(t,e){var n,i=m.idBase;switch(e=new CKEDITOR.dom.event(e),n="rtl"==h.lang.dir,e.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(i+(t+1)))||(n=CKEDITOR.document.getById(i+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(i+(t-1)))||(n=CKEDITOR.document.getById(i+(m.list.length-1))),n.focus(),!1;case 27:return h.focus(),!1;case 13:case 32:return o(t),!1}return!0});h.on("selectionChange",function(t){for(var e=[],n=m.list=[],i=[],o=m.filters,r=!0,a=t.data.path.elements,s=a.length;s--;){var l=a[s],c=0;t=l.data("cke-display-name")?l.data("cke-display-name"):l.data("cke-real-element-type")?l.data("cke-real-element-type"):l.getName(),(r=l.hasAttribute("contenteditable")?"true"==l.getAttribute("contenteditable"):r)||l.hasAttribute("contenteditable")||(c=1);for(var u=0;u<o.length;u++){var d=o[u](l,t);if(!1===d){c=1;break}t=d||t}c||(n.unshift(l),i.unshift(t))}for(n=n.length,o=0;o<n;o++)t=i[o],r=h.lang.elementspath.eleTitle.replace(/%1/,t),t=b.output({id:g+o,label:r,text:t,jsTitle:"javascript:void('"+t+"')",index:o,keyDownFn:y,clickFn:v}),e.unshift(t);f||(f=CKEDITOR.document.getById(p)),(i=f).setHtml(e.join("")+'<span class="cke_path_empty">&nbsp;</span>'),h.fire("elementsPathUpdate",{space:i})}),h.on("readOnly",e),h.on("contentDomUnload",e),h.addCommand("elementsPathFocus",i.toolbarFocus),h.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var i={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(t){(t=CKEDITOR.document.getById(t._.elementsPath.idBase+"0"))&&t.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var b=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+t+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},e.on("uiSpace",function(t){"bottom"==t.data.space&&n(e,t.data)})}})}(),function(){function e(t,e,n){if(n=t.config.forceEnterMode||n,"wysiwyg"==t.mode){e||(e=t.activeEnterMode);var i=t.elementPath();i&&!i.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,n=1),t.fire("saveSnapshot"),e==CKEDITOR.ENTER_BR?y(t,e,null,n):c(t,e,null,n),t.fire("saveSnapshot")}}function g(t){for(var e=(t=t.getSelection().getRanges(!0)).length-1;0<e;e--)t[e].deleteContents();return t[0]}function v(t){var e=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"true"==t.getAttribute("contenteditable")},!0);return t.root.equals(e)?t:((e=new CKEDITOR.dom.range(e)).moveToRange(t),e)}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var t,y,c,b,E=CKEDITOR.dom.walker.whitespaces(),_=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(t,e,n,i){function o(t){var e;return t!==CKEDITOR.ENTER_BR&&-1!==CKEDITOR.tools.indexOf(["td","th"],c.lastElement.getName())&&1===c.lastElement.getChildCount()&&((e=(t=c.lastElement.getChild(0).clone(!0)).getBogus())&&e.remove(),!t.getText().length)}if(n=n||g(t)){var r,a=(n=v(n)).document,s=n.checkStartOfBlock(),l=n.checkEndOfBlock(),c=t.elementPath(n.startContainer),u=c.block,d=e==CKEDITOR.ENTER_DIV?"div":"p";if(s&&l){if(u&&(u.is("li")||u.getParent().is("li"))){u.is("li")||(u=u.getParent()),r=(n=u.getParent()).getParent(),i=!u.hasPrevious();l=!u.hasNext(),s=(d=t.getSelection()).createBookmarks();var h=u.getDirection(1),f=u.getAttribute("class"),p=u.getAttribute("style"),m=r.getDirection(1)!=h;if(t=t.enterMode!=CKEDITOR.ENTER_BR||m||p||f,r.is("li"))i||l?(i&&l&&n.remove(),u[l?"insertAfter":"insertBefore"](r)):u.breakParent(r);else{if(t)c.block.is("li")?(r=a.createElement(e==CKEDITOR.ENTER_P?"p":"div"),m&&r.setAttribute("dir",h),p&&r.setAttribute("style",p),f&&r.setAttribute("class",f),u.moveChildren(r)):r=c.block,i||l?r[i?"insertBefore":"insertAfter"](n):(u.breakParent(n),r.insertAfter(n));else if(u.appendBogus(!0),i||l)for(;a=u[i?"getFirst":"getLast"]();)a[i?"insertBefore":"insertAfter"](n);else for(u.breakParent(n);a=u.getLast();)a.insertAfter(n);u.remove()}return void d.selectBookmarks(s)}if(u&&u.getParent().is("blockquote"))return u.breakParent(u.getParent()),u.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getPrevious().remove(),u.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getNext().remove(),n.moveToElementEditStart(u),void n.select()}else if(u&&u.is("pre")&&!l)return void y(t,e,n,i);if(p=n.splitBlock(d)){if(t=p.previousBlock,u=p.nextBlock,s=p.wasStartOfBlock,l=p.wasEndOfBlock,u?(h=u.getParent()).is("li")&&(u.breakParent(h),u.move(u.getNext(),1)):t&&(h=t.getParent())&&h.is("li")&&(t.breakParent(h),h=t.getNext(),n.moveToElementEditStart(h),t.move(t.getPrevious())),s||l)if(o(e))n.moveToElementEditStart(n.getTouchedStartNode());else{if(t?(t.is("li")||!b.test(t.getName())&&!t.is("pre"))&&(r=t.clone()):u&&(r=u.clone()),r?i&&!r.is("li")&&r.renameNode(d):h&&h.is("li")?r=h:(r=a.createElement(d),t&&(f=t.getDirection())&&r.setAttribute("dir",f)),a=p.elementPath)for(e=0,i=a.elements.length;e<i&&(!(d=a.elements[e]).equals(a.block)&&!d.equals(a.blockLimit));e++)CKEDITOR.dtd.$removeEmpty[d.getName()]&&(d=d.clone(),r.moveChildren(d),r.append(d));r.appendBogus(),r.getParent()||n.insertNode(r),r.is("li")&&r.removeAttribute("value"),!CKEDITOR.env.ie||!s||l&&t.getChildCount()||(n.moveToElementEditStart(l?t:r),n.select()),n.moveToElementEditStart(s&&!l?u:r)}else u.is("li")&&((r=n.clone()).selectNodeContents(u),(r=new CKEDITOR.dom.walker(r)).evaluator=function(t){return!(_(t)||E(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in CKEDITOR.dtd.$inline&&!(t.getName()in CKEDITOR.dtd.$empty))},(h=r.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?a.createElement("br"):a.createText("\xa0")).insertBefore(h)),u&&n.moveToElementEditStart(u);n.select(),n.scrollIntoView()}}},enterBr:function(t,e,n,i){if(n=n||g(t)){var o=n.document,r=n.checkEndOfBlock(),a=new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),s=a.block,l=s&&a.block.getName();i||"li"!=l?(!i&&r&&b.test(l)?(r=s.getDirection())?((o=o.createElement("div")).setAttribute("dir",r),o.insertAfter(s),n.setStart(o,0)):(o.createElement("br").insertAfter(s),CKEDITOR.env.gecko&&o.createText("").insertAfter(s),n.setStartAt(s.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(t="pre"==l&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?o.createText("\r"):o.createElement("br"),n.deleteContents(),n.insertNode(t),CKEDITOR.env.needsBrFiller?(o.createText("\ufeff").insertAfter(t),r&&(s||a.blockLimit).appendBogus(),t.getNext().$.nodeValue="",n.setStartAt(t.getNext(),CKEDITOR.POSITION_AFTER_START)):n.setStartAt(t,CKEDITOR.POSITION_AFTER_END)),n.collapse(!0),n.select(),n.scrollIntoView()):c(t,e,n,i)}}},t=CKEDITOR.plugins.enterkey,y=t.enterBr,c=t.enterBlock,b=/^h[1-6]$/}(),function(){function c(t,i){var o={},r=[],a={nbsp:"\xa0",shy:"\xad",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(t=(t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(t,e){var n=i?"&"+e+";":a[e];return o[n]=i?a[e]:"&"+e+";",r.push(n),""})).replace(/,$/,""),!i&&t){t=t.split(",");var e,n=document.createElement("div");for(n.innerHTML="&"+t.join(";&")+";",e=n.innerHTML,n=null,n=0;n<e.length;n++){var s=e.charAt(n);o[s]="&"+t[n]+";",r.push(s)}}return o.regex=r.join(i?"|":""),o}CKEDITOR.plugins.add("entities",{afterInit:function(t){function e(t){return s[t]}function n(t){return"force"!=i.entities_processNumerical&&r[t]?r[t]:"&#"+t.charCodeAt(0)+";"}var i=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var o=[];!1!==i.basicEntities&&o.push("nbsp,gt,lt,amp"),i.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&o.push(i.entities_additional));var r=c(o.join(",")),a=r.regex?"["+r.regex+"]":"a^";delete r.regex,i.entities&&i.entities_processNumerical&&(a="[^ -~]|"+a);a=new RegExp(a,"g");var s=c("nbsp,gt,lt,amp,shy",!0),l=new RegExp(s.regex,"g");t.addRules({text:function(t){return t.replace(l,e).replace(a,n)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(t,e,n,i){n=n||"70%","string"==typeof(e=e||"80%")&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),e<640&&(e=640),n<420&&(n=420);var o=parseInt((window.screen.height-n)/2,10),r=parseInt((window.screen.width-e)/2,10);i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+e+",height="+n+",top="+o+",left="+r;var a=window.open("",null,i,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(r,o),a.resizeTo(e,n)),a.focus(),a.location.href=t}catch(s){window.open(t,null,i,!0)}return!0}}),function(){function t(t){this.editor=t,this.loaders=[]}function o(t,e,n){var i=t.config.fileTools_defaultFileName;this.editor=t,this.lang=t.lang,this.loaded="string"==typeof e?(this.data=e,this.file=r(this.data),this.total=this.file.size):(this.data=null,this.file=e,this.total=this.file.size,0),n?this.fileName=n:this.file.name?this.fileName=this.file.name:(t=this.file.type.split("/"),i&&(t[0]=i),this.fileName=t.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}function r(t){var e=t.match(s)[1];t=t.replace(s,""),t=atob(t);var n,i,o,r,a=[];for(n=0;n<t.length;n+=512){for(i=t.slice(n,n+512),o=Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);i=new Uint8Array(o),a.push(i)}return new Blob(a,{type:e})}CKEDITOR.plugins.add("filetools",{beforeInit:function(s){s.uploadRepository=new t(s),s.on("fileUploadRequest",function(t){var e=t.data.fileLoader;e.xhr.open("POST",e.uploadUrl,!0),t.data.requestData.upload={file:e.file,name:e.fileName}},null,null,5),s.on("fileUploadRequest",function(t){var e=t.data.fileLoader,n=new FormData;t=t.data.requestData;var i,o,r=s.config.fileTools_requestHeaders;for(o in t){var a=t[o];"object"==typeof a&&a.file?n.append(o,a.file,a.name):n.append(o,a)}if(n.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),r)for(i in r)e.xhr.setRequestHeader(i,r[i]);e.xhr.send(n)},null,null,999),s.on("fileUploadResponse",function(t){var e=t.data.fileLoader,n=e.xhr,i=t.data;try{var o=JSON.parse(n.responseText);if(o.error&&o.error.message&&(i.message=o.error.message),o.uploaded)for(var r in o)i[r]=o[r];else t.cancel()}catch(a){i.message=e.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:n.responseText}),t.cancel()}},null,null,999)}}),t.prototype={create:function(t,e,n){n=n||o;var i=this.loaders.length;return(t=new n(this.editor,t,e)).id=i,this.loaders[i]=t,this.fire("instanceCreated",t),t},isFinished:function(){for(var t=0;t<this.loaders.length;++t)if(!this.loaders[t].isFinished())return!1;return!0}},o.prototype={loadAndUpload:function(e,n){var i=this;this.once("loaded",function(t){t.cancel(),i.once("update",function(t){t.cancel()},null,null,0),i.upload(e,n)},null,null,0),this.load()},load:function(){var e=this,t=this.reader=new FileReader;e.changeStatus("loading"),this.abort=function(){e.reader.abort()},t.onabort=function(){e.changeStatus("abort")},t.onerror=function(){e.message=e.lang.filetools.loadError,e.changeStatus("error")},t.onprogress=function(t){e.loaded=t.loaded,e.update()},t.onload=function(){e.loaded=e.total,e.data=t.result,e.changeStatus("loaded")},t.readAsDataURL(this.file)},upload:function(t,e){var n=e||{};t?(this.uploadUrl=t,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:n})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function t(){"error"!=r.status&&(r.message=r.lang.filetools.networkError,r.changeStatus("error"))}function e(){"abort"!=r.status&&r.changeStatus("abort")}var r=this,a=this.xhr;r.abort=function(){a.abort(),e()},a.onerror=t,a.onabort=e,a.upload?(a.upload.onprogress=function(t){t.lengthComputable&&(r.uploadTotal||(r.uploadTotal=t.total),r.uploaded=t.loaded,r.update())},a.upload.onerror=t,a.upload.onabort=e):(r.uploadTotal=r.total,r.update()),a.onload=function(){if(r.update(),"abort"!=r.status)if(r.uploaded=r.uploadTotal,a.status<200||299<a.status)r.message=r.lang.filetools["httpError"+a.status],r.message||(r.message=r.lang.filetools.httpError.replace("%1",a.status)),r.changeStatus("error");else{for(var t={fileLoader:r},e=["message","fileName","url"],n=r.editor.fire("fileUploadResponse",t),i=0;i<e.length;i++){var o=e[i];"string"==typeof t[o]&&(r[o]=t[o])}r.responseData=t,delete r.responseData.fileLoader,!1===n?r.changeStatus("error"):r.changeStatus("uploaded")}}},changeStatus:function(t){"error"!=(this.status=t)&&"abort"!=t&&"loaded"!=t&&"uploaded"!=t||(this.abort=function(){}),this.fire(t),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.event.implementOn(o.prototype);var s=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:t,fileLoader:o,getUploadUrl:function(t,e){var n=CKEDITOR.tools.capitalize;return e&&t[e+"UploadUrl"]?t[e+"UploadUrl"]:t.uploadUrl?t.uploadUrl:e&&t["filebrowser"+n(e,1)+"UploadUrl"]?t["filebrowser"+n(e,1)+"UploadUrl"]+"&responseType=json":t.filebrowserUploadUrl?t.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(t,e){return!!t.type.match(e)},isFileUploadSupported:"function"==typeof FileReader&&"function"==typeof(new FileReader).readAsDataURL&&"function"==typeof FormData&&"function"==typeof(new FormData).append&&"function"==typeof XMLHttpRequest&&"function"==typeof Blob})}(),function(){function o(t,e){var n=[];if(!e)return t;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return t+(-1!=t.indexOf("?")?"&":"?")+n.join("&")}function l(t){return!t.match(/command=QuickUpload/)||t.match(/(\?|&)responseType=json/)?t:o(t,{responseType:"json"})}function c(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}function u(){var t=(n=this.getDialog()).getParentEditor();t._.filebrowserSe=this;var e=t.config["filebrowser"+c(n.getName())+"WindowWidth"]||t.config.filebrowserWindowWidth||"80%",n=t.config["filebrowser"+c(n.getName())+"WindowHeight"]||t.config.filebrowserWindowHeight||"70%",i=this.filebrowser.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),i=o(this.filebrowser.url,i),t.popup(i,e,n,t.config.filebrowserWindowFeatures||t.config.fileBrowserWindowFeatures)}function d(t){var e=new CKEDITOR.dom.element(t.$.form);e&&((t=e.$.elements.ckCsrfToken)?t=new CKEDITOR.dom.element(t):((t=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),e.append(t)),t.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function h(){var t=this.getDialog();return t.getParentEditor()._.filebrowserSe=this,!(!t.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value||!t.getContentElement(this["for"][0],this["for"][1]).getAction())}function f(t,e,n){var i=n.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),e.action=o(n.url,i),e.filebrowser=n}function p(o,t,e,n){if(n&&n.length)for(var i,r=n.length;r--;)if("hbox"!=(i=n[r]).type&&"vbox"!=i.type&&"fieldset"!=i.type||p(o,t,e,i.children),i.filebrowser)if("string"==typeof i.filebrowser&&(i.filebrowser={action:"fileButton"==i.type?"QuickUpload":"Browse",target:i.filebrowser}),"Browse"==i.filebrowser.action){var a=i.filebrowser.url;void 0===a&&(void 0===(a=o.config["filebrowser"+c(t)+"BrowseUrl"])&&(a=o.config.filebrowserBrowseUrl)),a&&(i.onClick=u,i.filebrowser.url=a,i.hidden=!1)}else if("QuickUpload"==i.filebrowser.action&&i["for"]&&(void 0===(a=i.filebrowser.url)&&(void 0===(a=o.config["filebrowser"+c(t)+"UploadUrl"])&&(a=o.config.filebrowserUploadUrl)),a)){var s=i.onClick;i.onClick=function(t){var e=t.sender,n=e.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement(),i=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;return(!s||!1!==s.call(e,t))&&(!!h.call(e,t)&&("form"!==o.config.filebrowserUploadMethod&&i?((t=o.uploadRepository.create(n.$.files[0])).on("uploaded",function(t){var e=t.sender.responseData;g.call(t.sender.editor,e.url,e.message)}),t.on("error",m.bind(this)),t.on("abort",m.bind(this)),t.loadAndUpload(l(a)),"xhr"):(d(n),!0)))},i.filebrowser.url=a,i.hidden=!1,f(o,e.getContents(i["for"][0]).get(i["for"][1]),i.filebrowser)}}function m(t){var e={};try{e=JSON.parse(t.sender.xhr.response)||{}}catch(n){}this.enable(),alert(e.error?e.error.message:t.sender.message)}function r(t,e,n){if(-1===n.indexOf(";"))return(t=t.getContents(e).get(n).filebrowser)&&t.url;n=n.split(";");for(var i=0;i<n.length;i++)if(r(t,e,n[i]))return!0;return!1}function g(t,e){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe["for"],o=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof e&&!1===e.call(this._.filebrowserSe)||o&&!1===o.call(this._.filebrowserSe,t,e)||("string"==typeof e&&e&&alert(e),t&&(n=(i=this._.filebrowserSe).getDialog(),i=i.filebrowser.target||null)&&(i=i.split(":"),(o=n.getContentElement(i[0],i[1]))&&(o.setValue(t),n.selectPage(i[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(t){t._.filebrowserFn=CKEDITOR.tools.addFunction(g,t),t.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(t){if(t.editor.plugins.filebrowser)for(var e,n=t.data.definition,i=0;i<n.contents.length;++i)(e=n.contents[i])&&(p(t.editor,t.data.name,n,e.elements),e.hidden&&e.filebrowser&&(e.hidden=!r(n,e.id,e.filebrowser)))})}(),CKEDITOR.plugins.add("find",{requires:"dialog",init:function(t){var e=t.addCommand("find",new CKEDITOR.dialogCommand("find")),n=t.addCommand("replace",new CKEDITOR.dialogCommand("find",{tabId:"replace"}));e.canUndo=!1,e.readOnly=1,n.canUndo=!1,t.ui.addButton&&(t.ui.addButton("Find",{label:t.lang.find.find,command:"find",toolbar:"find,10"}),t.ui.addButton("Replace",{label:t.lang.find.replace,command:"replace",toolbar:"find,20"})),CKEDITOR.dialog.add("find",this.path+"dialogs/find.js")}}),CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}},function(){function o(t,e){var n=r.exec(t),i=r.exec(e);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return e}var a=CKEDITOR.htmlParser.cssStyle,s=CKEDITOR.tools.cssLength,r=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,e={elements:{$:function(t){var e=t.attributes;if((e=(e=(e=e&&e["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(e)))&&e.children[0])&&t.attributes["data-cke-resizable"]){var n=new a(t).rules;t=e.attributes;var i=n.width;n=n.height;i&&(t.width=o(t.width,i)),n&&(t.height=o(t.height,n))}return e}}};CKEDITOR.plugins.add("fakeobjects",{init:function(t){t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(t){(t=(t=t.dataProcessor)&&t.htmlFilter)&&t.addRules(e,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(t,e,n,i){var o=(o=this.lang.fakeobjects)[n]||o.unknown;return e={"class":e,"data-cke-realelement":encodeURIComponent(t.getOuterHtml()),"data-cke-real-node-type":t.type,alt:o,title:o,align:t.getAttribute("align")||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,n=new a,i=t.getAttribute("width"),t=t.getAttribute("height"),i&&(n.rules.width=s(i)),t&&(n.rules.height=s(t)),n.populate(e)),this.document.createElement("img",{attributes:e})},CKEDITOR.editor.prototype.createFakeParserElement=function(t,e,n,i){var o,r=(r=this.lang.fakeobjects)[n]||r.unknown;return o=new CKEDITOR.htmlParser.basicWriter,t.writeHtml(o),o=o.getHtml(),e={"class":e,"data-cke-realelement":encodeURIComponent(o),"data-cke-real-node-type":t.type,alt:r,title:r,align:t.attributes.align||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,i=t.attributes,t=new a,n=i.width,i=i.height,void 0!==n&&(t.rules.width=s(n)),void 0!==i&&(t.rules.height=s(i)),t.populate(e)),new CKEDITOR.htmlParser.element("img",e)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var e=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var n=t.getStyle("width");t=t.getStyle("height"),n&&e.setAttribute("width",o(e.getAttribute("width"),n)),t&&e.setAttribute("height",o(e.getAttribute("height"),t))}return e}}(),function(){function i(t){return"application/x-shockwave-flash"==(t=t.attributes).type||e.test(t.src||"")}function o(t,e){return t.createFakeParserElement(e,"cke_flash","flash",!0)}var e=/\.swf(?:$|\?)/i;CKEDITOR.plugins.add("flash",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_flash{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e="object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";CKEDITOR.dialog.isTabEnabled(t,"flash","properties")&&(e+=";object[align]; embed[allowscriptaccess,quality,scale,wmode]"),CKEDITOR.dialog.isTabEnabled(t,"flash","advanced")&&(e+=";object[id]{*}; embed[bgcolor]{*}(*)"),t.addCommand("flash",new CKEDITOR.dialogCommand("flash",{allowedContent:e,requiredContent:"embed"})),t.ui.addButton&&t.ui.addButton("Flash",{label:t.lang.common.flash,command:"flash",toolbar:"insert,20"}),CKEDITOR.dialog.add("flash",this.path+"dialogs/flash.js"),t.addMenuItems&&t.addMenuItems({flash:{label:t.lang.flash.properties,command:"flash",group:"flash"}}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"flash"==e.data("cke-real-element-type")&&(t.data.dialog="flash")}),t.contextMenu&&t.contextMenu.addListener(function(t){if(t&&t.is("img")&&!t.isReadOnly()&&"flash"==t.data("cke-real-element-type"))return{flash:CKEDITOR.TRISTATE_OFF}})},afterInit:function(n){var t=n.dataProcessor;(t=t&&t.dataFilter)&&t.addRules({elements:{"cke:object":function(t){var e=t.attributes;if(e.classid&&String(e.classid).toLowerCase()||i(t))return o(n,t);for(e=0;e<t.children.length;e++)if("cke:embed"==t.children[e].name){if(!i(t.children[e]))break;return o(n,t)}return null},"cke:embed":function(t){return i(t)?o(n,t):null}}},5)}})}(),CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1}),function(){function e(m){var g=m.config,t=m.fire("uiSpace",{space:"top",html:""}).html,v=function(){function n(t,e,n){y.setStyle(e,E(n)),y.setStyle("position",t)}function i(t){var e=r.getDocumentPosition();switch(t){case"top":n("absolute","top",e.y-c-h);break;case"pin":n("fixed","top",p);break;case"bottom":n("absolute","top",e.y+(s.height||s.bottom-s.top)+h)}o=t}var o,r,a,s,l,c,u,d=g.floatSpaceDockedOffsetX||0,h=g.floatSpaceDockedOffsetY||0,f=g.floatSpacePinnedOffsetX||0,p=g.floatSpacePinnedOffsetY||0;return function(t){if(r=m.editable()){var e=t&&"focus"==t.name;e&&y.show(),m.fire("floatingSpaceLayout",{show:e}),y.removeStyle("left"),y.removeStyle("right"),a=y.getClientRect(),s=r.getClientRect(),l=b.getViewPaneSize(),c=a.height,u="pageXOffset"in b.$?b.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,o?(c+h<=s.top?i("top"):c+h>l.height-s.bottom?i("pin"):i("bottom"),t=l.width/2,t=g.floatSpacePreferRight?"right":0<s.left&&s.right<l.width&&s.width>a.width?"rtl"==g.contentsLangDirection?"right":"left":t-s.left>s.right-t?"left":"right",a.width>l.width?(t="left",e=0):(e="left"==t?0<s.left?s.left:0:s.right<l.width?l.width-s.right:0)+a.width>l.width&&(t="left"==t?"right":"left",e=0),y.setStyle(t,E(("pin"==o?f:d)+e+("pin"==o?0:"left"==t?u:-u)))):(i(o="pin"),v(t))}}}();if(t){var e=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(m.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(m.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),y=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(e.output({content:t,id:m.id,langDir:m.lang.dir,langCode:m.langCode,name:m.name,style:"display:none;z-index:"+(g.baseFloatZIndex-1),topId:m.ui.spaceId("top"),voiceLabel:m.title}))),n=CKEDITOR.tools.eventsBuffer(500,v),i=CKEDITOR.tools.eventsBuffer(100,v);y.unselectable(),y.on("mousedown",function(t){(t=t.data).getTarget().hasAscendant("a",1)||t.preventDefault()}),m.on("focus",function(t){v(t),m.on("change",n.input),b.on("scroll",i.input),b.on("resize",i.input)}),m.on("blur",function(){y.hide(),m.removeListener("change",n.input),b.removeListener("scroll",i.input),b.removeListener("resize",i.input)}),m.on("destroy",function(){b.removeListener("scroll",i.input),b.removeListener("resize",i.input),y.clearCustomData(),y.remove()}),m.focusManager.hasFocus&&y.show(),m.focusManager.add(y,1)}}var b=CKEDITOR.document.getWindow(),E=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list"
,'<ul role="presentation" class="cke_panel_list">{items}</ul>'),o=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),r=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(t,e){return this.addBlock(t,new CKEDITOR.ui.listBlock(this.getHolderElement(),e))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(t,e){var n=(e=e||{}).attributes||(e.attributes={});(this.multiSelect=!!e.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(t){var e=this.toggle(t);this.onClick&&this.onClick(t,e)},this)),this._.click}},proto:{add:function(t,e,n){var i=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),t={id:this._.items[t]=i,val:CKEDITOR.tools.htmlEncodeAttr(t).replace(r,"\\'"),onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(n||t),text:e||t},this._.pendingList.push(o.output(t))},startGroup:function(t){this._.close();var e=CKEDITOR.tools.getNextId();this._.groups[t]=e,this._.pendingHtml.push(n.output({id:e,label:t}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(t){var e=this.isMarked(t);return e?this.unmark(t):this.mark(t),!e},hideGroup:function(t){var e=(t=this.element.getDocument().getById(this._.groups[t]))&&t.getNext();t&&(t.setStyle("display","none"),e&&"ul"==e.getName()&&e.setStyle("display","none"))},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle("display","none")},showAll:function(){var t,e=this._.items,n=this._.groups,i=this.element.getDocument();for(t in e)i.getById(e[t]).setStyle("display","");for(var o in n)t=(e=i.getById(n[o])).getNext(),e.setStyle("display",""),t&&"ul"==t.getName()&&t.setStyle("display","")},mark:function(t){this.multiSelect||this.unmarkAll(),t=this._.items[t];var e=this.element.getDocument().getById(t);e.addClass("cke_selected"),this.element.getDocument().getById(t+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(e)},markFirstDisplayed:function(){var t=this;this._.markFirstDisplayed(function(){t.multiSelect||t.unmarkAll()})},unmark:function(t){var e=this.element.getDocument();t=this._.items[t];var n=e.getById(t);n.removeClass("cke_selected"),e.getById(t+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var t,e=this._.items,n=this.element.getDocument();for(t in e){var i=e[t];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")},focus:function(t){this._.focusIndex=-1;var e,n=this.element.getElementsByTag("a"),i=-1;if(t){for(e=this.element.getDocument().getById(this._.items[t]).getFirst();t=n.getItem(++i);)if(t.equals(e)){this._.focusIndex=i;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var t='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="listbox"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var d=CKEDITOR.addTemplate("combo",t);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(t){CKEDITOR.tools.extend(this,t,{canGroup:!1,title:t.label,modes:{wysiwyg:1},editorFocus:1}),t=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.className="cke_combopanel",t.block={multiSelect:t.multiSelect,attributes:t.attributes},t.toolbarRelated=!0,this._={panelDefinition:t,items:{},listeners:[]}},proto:{renderHtml:function(t){var e=[];return this.render(t,e),e.join("")},render:function(i,t){function e(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;i.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var n=CKEDITOR.env,o="cke_"+this.id,r=CKEDITOR.tools.addFunction(function(t){u&&(i.unlockSelection(1),u=0),s.execute(t)},this),a=this,s={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(t){var e=a._;if(e.state!=CKEDITOR.TRISTATE_DISABLED)if(a.createPanel(i),e.on)e.panel.hide();else{a.commit();var n=a.getValue();n?e.list.mark(n):e.list.unmarkAll(),e.panel.showBlock(a.id,new CKEDITOR.dom.element(t),4)}},clickFn:r};this._.listeners.push(i.on("activeFilterChange",e,this)),this._.listeners.push(i.on("mode",e,this)),this._.listeners.push(i.on("selectionChange",e,this)),!this.readOnly&&this._.listeners.push(i.on("readOnly",e,this));var l=CKEDITOR.tools.addFunction(function(t,e){var n=(t=new CKEDITOR.dom.event(t)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(r,e);break;default:s.onkey(s,n)}t.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){s.onfocus&&s.onfocus()}),u=0;return s.keyDownFn=l,n={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:n.gecko&&!n.hc?"":(this.title||"").replace("'",""),keydownFn:l,focusFn:c,clickFn:r},d.output(n,t),this.onRender&&this.onRender(),s},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,i=t.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(e,i,t),a=(t=r.addListBlock(this.id,n),this);r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){this.element.removeClass(o),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},t.onClick=function(t,e){a.onClick&&a.onClick.call(a,t,e),r.hide()},this._.panel=r,this._.list=t,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(t,e){this._.value=t;var n=this.document.getById("cke_"+this.id+"_text");n&&(t||e?n.removeClass("cke_combo_inlinelabel"):(e=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==e?e:t))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(t){this._.list.mark(t)},hideItem:function(t){this._.list.hideItem(t)},hideGroup:function(t){this._.list.hideGroup(t)},showAll:function(){this._.list.showAll()},add:function(t,e,n){this._.items[t]=n||t,this._.list.add(t,e,n)},startGroup:function(t){this._.list.startGroup(t)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(t){if(this._.state!=t){var e=this.document.getById("cke_"+this.id);e.setState(t,"cke_combo"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this._.state=t}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,function(t){t.removeListener()}),this._.listeners=[]}},statics:{handler:{create:function(t){return new CKEDITOR.ui.richCombo(t)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(t,e){this.add(t,CKEDITOR.UI_RICHCOMBO,e)}}(),function(){function n(l,t,e,n,i,r,o,a){var s=l.config,c=new CKEDITOR.style(o),u=i.split(";");i=[];for(var d={},h=0;h<u.length;h++){if(f=u[h]){var f=f.split("/"),p={},m=u[h]=f[0];p[e]=i[h]=f[1]||m,d[m]=new CKEDITOR.style(o,p),d[m]._.definition.name=m}else u.splice(h--,1)}l.ui.addRichCombo(t,{label:n.label,title:n.panelTitle,toolbar:"styles,"+a,defaultValue:"cke-default",allowedContent:c,requiredContent:c,contentTransformations:"span"===o.element?[[{element:"font",check:"span",left:function(t){return!!t.attributes.size||!!t.attributes.align||!!t.attributes.face},right:function(t){var e=" x-small small medium large x-large xx-large 48px".split(" ");t.name="span",t.attributes.size&&(t.styles["font-size"]=e[t.attributes.size],delete t.attributes.size),t.attributes.align&&(t.styles["text-align"]=t.attributes.align,delete t.attributes.align),t.attributes.face&&(t.styles["font-family"]=t.attributes.face,delete t.attributes.face)}}]]:null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){var t;t="("+l.lang.common.optionDefault+")",this.startGroup(n.panelTitle),this.add(this.defaultValue,t,t);for(var e=0;e<u.length;e++)t=u[e],this.add(t,d[t].buildPreview(),t)},onClick:function(t){l.focus(),l.fire("saveSnapshot");var e,n,i,o,r,a=this.getValue(),s=d[t];if(a&&t!=a)if(e=d[a],(a=l.getSelection().getRanges()[0]).collapsed){if(i=(n=l.elementPath()).contains(function(t){return e.checkElementRemovable(t)})){if(o=a.checkBoundaryOfElement(i,CKEDITOR.START),r=a.checkBoundaryOfElement(i,CKEDITOR.END),o&&r){for(o=a.createBookmark();n=i.getFirst();)n.insertBefore(i);i.remove(),a.moveToBookmark(o)}else o||r?a.moveToPosition(i,o?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(a.splitElement(i),a.moveToPosition(i,CKEDITOR.POSITION_AFTER_END)),g(a,n.elements.slice(),i);l.getSelection().selectRanges([a])}}else l.removeStyle(e);t===this.defaultValue?e&&l.removeStyle(e):l.applyStyle(s),l.fire("saveSnapshot")},onRender:function(){l.on("selectionChange",function(t){var e=this.getValue();t=t.data.path.elements;for(var n,i=0;i<t.length;i++)for(var o in n=t[i],d)if(d[o].checkElementMatch(n,!0,l))return void(o!=e&&this.setValue(o));this.setValue("",r)},this)},refresh:function(){l.activeFilter.check(c)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function g(t,e,n){var i=e.pop();if(i){if(n)return g(t,e,i.equals(n)?null:n);n=i.clone(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START),g(t,e)}}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(t){var e=t.config;n(t,"Font","family",t.lang.font,e.font_names,e.font_defaultLabel,e.font_style,30),n(t,"FontSize","size",t.lang.font.fontSize,e.fontSize_sizes,e.fontSize_defaultLabel,e.fontSize_style,40)}})}(),CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",CKEDITOR.config.font_defaultLabel="",CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",CKEDITOR.config.fontSize_defaultLabel="",CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n"),CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")},init:function(o){var r=o.lang,a=0,i={email:1,password:1,search:1,tel:1,text:1,url:1},s={checkbox:"input[type,name,checked,required]",radio:"input[type,name,checked,required]",textfield:"input[type,name,value,size,maxlength,required]",textarea:"textarea[cols,rows,name,required]",select:"select[name,size,multiple,required]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},l={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},t=function(t,e,n){var i={allowedContent:s[e],requiredContent:l[e]};"form"==e&&(i.context="form"),o.addCommand(e,new CKEDITOR.dialogCommand(e,i)),o.ui.addButton&&o.ui.addButton(t,{label:r.common[t.charAt(0).toLowerCase()+t.slice(1)],command:e,toolbar:"forms,"+(a+=10)}),CKEDITOR.dialog.add(e,n)},e=this.path+"dialogs/";!o.blockless&&t("Form","form",e+"form.js"),t("Checkbox","checkbox",e+"checkbox.js"),t("Radio","radio",e+"radio.js"),t("TextField","textfield",e+"textfield.js"),t("Textarea","textarea",e+"textarea.js"),t("Select","select",e+"select.js"),t("Button","button",e+"button.js");var c=o.plugins.image;c&&!o.plugins.image2&&t("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js"),t("HiddenField","hiddenfield",e+"hiddenfield.js"),o.addMenuItems&&(t={checkbox:{label:r.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:r.forms.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:r.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:r.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:r.forms.button.title,command:"button",group:"button"},select:{label:r.forms.select.title,command:"select",group:"select"},textarea:{label:r.forms.textarea.title,command:"textarea",group:"textarea"}},c&&(t.imagebutton={label:r.image.titleButton,command:"imagebutton",group:"imagebutton"}),!o.blockless&&(t.form={label:r.forms.form.menu,command:"form",group:"form"}),o.addMenuItems(t)),o.contextMenu&&(!o.blockless&&o.contextMenu.addListener(function(t,e,n){if((t=n.contains("form",1))&&!t.isReadOnly())return{form:CKEDITOR.TRISTATE_OFF}}),o.contextMenu.addListener(function(t){if(t&&!t.isReadOnly()){var e=t.getName();if("select"==e)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==e)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==e){var n=t.getAttribute("type")||"text";switch(n){case"button":case"submit":case"reset":return{button:CKEDITOR.TRISTATE_OFF};case"checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case"radio":return{radio:CKEDITOR.TRISTATE_OFF};case"image":return c?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(i[n])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==e&&"hiddenfield"==t.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}})),o.on("doubleclick",function(t){var e=t.data.element;if(!o.blockless&&e.is("form"))t.data.dialog="form";else if(e.is("select"))t.data.dialog="select";else if(e.is("textarea"))t.data.dialog="textarea";else if(e.is("img")&&"hiddenfield"==e.data("cke-real-element-type"))t.data.dialog="hiddenfield";else if(e.is("input")){switch(e=e.getAttribute("type")||"text"){case"button":case"submit":case"reset":t.data.dialog="button";break;case"checkbox":t.data.dialog="checkbox";break;case"radio":t.data.dialog="radio";break;case"image":t.data.dialog="imagebutton"}i[e]&&(t.data.dialog="textfield")}})},afterInit:function(e){var t=(n=e.dataProcessor)&&n.htmlFilter,n=n&&n.dataFilter;CKEDITOR.env.ie&&t&&t.addRules({elements:{input:function(t){var e=(t=t.attributes).type;e||(t.type="text"),"checkbox"!=e&&"radio"!=e||"on"!=t.value||delete t.value}}},{applyToAll:!0}),n&&n.addRules({elements:{input:function(t){if("hidden"==t.attributes.type)return e.createFakeParserElement(t,"cke_hidden","hiddenfield")}}},{applyToAll:!0})}}),CKEDITOR.plugins.forms={_setupRequiredAttribute:function(t){this.setValue(t.hasAttribute("required"))}},CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(i){if(!i.blockless){for(var t=i.config,n=i.lang.format,e=t.format_tags.split(";"),o={},r=0,a=[],s=0;s<e.length;s++){var l=e[s],c=new CKEDITOR.style(t["format_"+l]);i.filter.customConfig&&!i.filter.check(c)||(r++,o[l]=c,o[l]._.enterMode=i.config.enterMode,a.push(c))}0!==r&&i.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var t in this.startGroup(n.panelTitle),o){var e=n["tag_"+t];this.add(t,o[t].buildPreview(e),e)}},onClick:function(t){i.focus(),i.fire("saveSnapshot"),t=o[t];var e=i.elementPath();t.checkActive(e,i)||i.applyStyle(t),setTimeout(function(){i.fire("saveSnapshot")},0)},onRender:function(){i.on("selectionChange",function(t){var e=this.getValue();for(var n in t=t.data.path,this.refresh(),o)if(o[n].checkActive(t,i))return void(n!=e&&this.setValue(n,i.lang.format["tag_"+n]));this.setValue("")},this)},onOpen:function(){for(var t in this.showAll(),o)i.activeFilter.check(o[t])||this.hideItem(t)},refresh:function(){var t=i.elementPath();if(t){if(t.isContextFor("p"))for(var e in o)if(i.activeFilter.check(o[e]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},O={canUndo:!1,exec:function(t){var e=t.document.createElement("hr");t.insertElement(e)},allowedContent:"hr",requiredContent:"hr"},CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",O),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}}),CKEDITOR.plugins.add("htmlwriter",{init:function(t){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=t.config.forceSimpleAmpersand,e.indentationChars=t.config.dataIndentationChars||"\t",t.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var t,e=CKEDITOR.dtd;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(t){var e=this._.rules[t];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",t),this._.afterCloser=0},openTagClose:function(t,e){var n=this._.rules[t];e?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==t&&(this._.inPre=1)},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e),this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,"&"))),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){var e=this._.rules[t];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",t,">"),"pre"==t&&(this._.inPre=0),e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace),this._.afterCloser=1},text:function(t){this._.indent&&(this.indentation(),!this._.inPre&&(t=CKEDITOR.tools.ltrim(t))),this._.output.push(t)},comment:function(t){this._.indent&&this.indentation(),this._.output.push("<!--",t,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(t,e){var n=this._.rules[t];n?CKEDITOR.tools.extend(n,e,!0):this._.rules[t]=e}}}),CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e=t.lang.iframe,n="iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";t.plugins.dialogadvtab&&(n+=";iframe"+t.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1})),CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js"),t.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:n,requiredContent:"iframe"})),t.ui.addButton&&t.ui.addButton("Iframe",{label:e.toolbar,command:"iframe",toolbar:"insert,80"}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"iframe"==e.data("cke-real-element-type")&&(t.data.dialog="iframe")}),t.addMenuItems&&t.addMenuItems({iframe:{label:e.title,command:"iframe",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(t){if(t&&t.is("img")&&"iframe"==t.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}})},afterInit:function(e){var t=e.dataProcessor;(t=t&&t.dataFilter)&&t.addRules({elements:{iframe:function(t){return e.createFakeParserElement(t,"cke_iframe","iframe",!0)}}})}}),function(){function e(t){function e(n){var i=!1;a.attachListener(a,"keydown",function(){var t=o.getBody().getElementsByTag(n);if(!i){for(var e=0;e<t.count();e++)t.getItem(e).setCustomData("retain",!0);i=!0}},null,null,1),a.attachListener(a,"keyup",function(){var t=o.getElementsByTag(n);i&&(1==t.count()&&!t.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(t.getItem(0).getAttributes())&&t.getItem(0).remove(1),i=!1)})}var i=this.editor,o=t.document,n=o.body,r=o.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=o.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=o.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),n.contentEditable=!0,CKEDITOR.env.ie&&(n.hideFocus=!0,n.disabled=!0,n.removeAttribute("disabled")),delete this._.isLoadingData,this.$=n,o=new CKEDITOR.dom.document(o),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.getDocumentElement().addClass(o.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.enterMode!=CKEDITOR.ENTER_P?e("p"):CKEDITOR.env.edge&&CKEDITOR.env.version<15&&i.enterMode!=CKEDITOR.ENTER_DIV&&e("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&o.getDocumentElement().on("mousedown",function(t){t.data.getTarget().is("html")&&setTimeout(function(){i.editable().focus()})}),l(i);try{i.document.$.execCommand("2D-position",!1,!0)}catch(s){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==i.document.$.compatMode)&&this.attachListener(this,"keydown",function(t){var e=t.data.getKeystroke();if(33==e||34==e)if(CKEDITOR.env.ie)setTimeout(function(){i.getSelection().scrollIntoView()},0);else if(i.window.$.innerHeight>this.$.offsetHeight){var n=i.createRange();n[33==e?"moveToElementEditStart":"moveToElementEditEnd"](this),n.select(),t.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(o,"blur",function(){try{o.$.selection.empty()}catch(t){}}),CKEDITOR.env.iOS&&this.attachListener(o,"touchend",function(){t.focus()}),(n=i.document.getElementsByTag("title").getItem(0)).data("cke-title",n.getText()),CKEDITOR.env.ie&&(i.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),i.fire("contentDom"),this._.isPendingFocus&&(i.focus(),this._.isPendingFocus=!1),setTimeout(function(){i.fire("dataReady")},0)},0,this)}function l(n){function t(){var e;n.editable().attachListener(n,"selectionChange",function(){var t=n.getSelection().getSelectedElement();t&&(e&&(e.detachEvent("onresizestart",i),e=null),t.$.attachEvent("onresizestart",i),e=t.$)})}function i(t){t.returnValue=!1}if(CKEDITOR.env.gecko)try{var e=n.document.$;e.execCommand("enableObjectResizing",!1,!n.config.disableObjectResizing),e.execCommand("enableInlineTableEditing",!1,!n.config.disableNativeTableHandles)}catch(o){}else CKEDITOR.env.ie&&CKEDITOR.env.version<11&&n.config.disableObjectResizing&&t(n)}function c(){var t=[];if(8<=CKEDITOR.document.$.documentMode){t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var e,n=[];for(e in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+e+"[contenteditable=false]");t.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(t.push("html{height:100% !important}"),t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return t.push("html{cursor:text;*cursor:auto}"),t.push("img,input,textarea{cursor:default}"),t.join("\n")}var u;CKEDITOR.plugins.add("wysiwygarea",{init:function(l){l.config.fullPage&&l.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),l.addMode("wysiwyg",function(e){function t(t){t&&t.removeListener(),l.editable(new u(l,i.$.contentWindow.document.body)),l.setData(l.getData(1),e)}var n="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=(n=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(n)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+n+'" frameBorder="0"></iframe>'));i.setStyles({width:"100%",height:"100%"}),i.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(n=l.ui.space("contents")).append(i);var o=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;o&&i.on("load",t);var r=l.title,a=l.fire("ariaEditorHelpLabel",{}).label;if(r&&(CKEDITOR.env.ie&&a&&(r+=", "+a),i.setAttribute("title",r)),a){r=CKEDITOR.tools.getNextId();var s=CKEDITOR.dom.element.createFromHtml('<span id="'+r+'" class="cke_voice_label">'+a+"</span>");n.append(s,1),i.setAttribute("aria-describedby",r)}l.on("beforeModeUnload",function(t){t.removeListener(),s&&s.remove()}),i.setAttributes({tabIndex:l.tabIndex,allowTransparency:"true"}),!o&&t(),l.fire("ariaWidget",i)})}}),CKEDITOR.editor.prototype.addContentsCss=function(t){var e=this.config,n=e.contentsCss;CKEDITOR.tools.isArray(n)||(e.contentsCss=n?[n]:[]),e.contentsCss.push(t)},u=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(t,e){var n=this.editor;if(e)this.setHtml(t),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,o=i.fullPage,r=i.docType,a=CKEDITOR.tools.buildStyleHtml(c()).replace(/<style>/,'<style data-cke-temp="1">');o||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(t=t.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=r=t,""}).replace(/<\?xml\s[^\?]*\?>/i,function(t){return n.xmlDeclaration=t,""})),t=n.dataProcessor.toHtml(t),t=o?(/<body[\s|>]/.test(t)||(t="<body>"+t),/<html[\s|>]/.test(t)||(t="<html>"+t+"</html>"),/<head[\s|>]/.test(t)?/<title[\s|>]/.test(t)||(t=t.replace(/<head[^>]*>/,"$&<title></title>")):t=t.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(t=t.replace(/<head[^>]*?>/,"$&"+s)),t=t.replace(/<\/head\s*>/,a+"$&"),r+t):i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+t+"</body></html>",CKEDITOR.env.gecko&&(t=t.replace(/<body/,'<body contenteditable="true" '),CKEDITOR.env.version<2e4&&(t=t.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),s&&CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),t=t.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(t)}catch(u){setTimeout(function(){l.write(t)},0)}}},getData:function(t){if(t)return this.getHtml();var e=(t=this.editor).config,n=(r=e.fullPage)&&t.docType,i=r&&t.xmlDeclaration,o=this.getDocument(),r=r?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),r=t.dataProcessor.toDataFormat(r),i&&(r=i+"\n"+r),n&&(r=n+"\n"+r),r},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:u.baseProto.focus.call(this)},detach:function(){var t,e=this.editor,n=e.document;try{t=e.window.getFrame()}catch(i){}u.baseProto.detach.call(this),this.clearCustomData(),n.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),t&&t.getParent()?(t.clearCustomData(),(e=t.removeCustomData("onResize"))&&e.removeListener(),t.remove()):CKEDITOR.warn("editor-destroy-iframe")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,function(){function o(t,e){if(e||(e=t.getSelection().getSelectedElement()),e&&e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly())return e}function r(t){var e=t.getStyle("float")
;return"inherit"!=e&&"none"!=e||(e=0),e||(e=t.getAttribute("align")),e}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.detectConflict("image",["easyimage","image2"])){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var t="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,"image","advanced")&&(t="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:t,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"}),e.on("doubleclick",function(t){var e=t.data.element;!e.is("img")||e.data("cke-realelement")||e.isReadOnly()||(t.data.dialog="image")}),e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(o(e,t))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function t(n){var t=i.getCommand("justify"+n);t&&("left"!=n&&"right"!=n||t.on("exec",function(t){var e=o(i);e&&(r(e)==n?(e.removeStyle("float"),n==r(e)&&e.removeAttribute("align")):e.setStyle("float",n),t.cancel())}),t.on("refresh",function(t){var e=o(i);e&&(e=r(e),this.setState(e==n?CKEDITOR.TRISTATE_ON:"right"==n||"left"==n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),t.cancel())}))}i.plugins.image2||(t("left"),t("right"),t("center"),t("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n,i;t.on("refresh",function(t){var e,n=[o];for(e in t.data.states)n.push(t.data.states[e]);this.setState(CKEDITOR.tools.search(n,r)?r:o)},t,null,100),t.on("exec",function(t){n=e.getSelection(),i=n.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},t,null,0),t.on("exec",function(){e.forceNextSelectionCheck(),n.selectBookmarks(i)},t,null,100)}var o=CKEDITOR.TRISTATE_DISABLED,r=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(l){var t=CKEDITOR.plugins.indent.genericDefinition;e(l,l.addCommand("indent",new t(!0))),e(l,l.addCommand("outdent",new t)),l.ui.addButton&&(l.ui.addButton("Indent",{label:l.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),l.ui.addButton("Outdent",{label:l.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),l.on("dirChanged",function(t){var e=l.createRange(),n=t.data.node;e.setStartBefore(n),e.setEndAfter(n);for(var i,o=new CKEDITOR.dom.walker(e);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(n)&&i.getDirection())e.setStartAfter(i),o=new CKEDITOR.dom.walker(e);else{var r=l.config.indentClasses;if(r)for(var a="ltr"==t.data.dir?["_rtl",""]:["","_rtl"],s=0;s<r.length;s++)i.hasClass(r[s]+a[0])&&(i.removeClass(r[s]+a[0]),i.addClass(r[s]+a[1]));r=i.getStyle("margin-right"),a=i.getStyle("margin-left"),r?i.setStyle("margin-left",r):i.removeStyle("margin-left"),a?i.setStyle("margin-right",a):i.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(t){this.isIndent=!!t,this.startDisabled=!this.isIndent},specificDefinition:function(t,e,n){this.name=e,this.editor=t,this.jobs={},this.enterBr=t.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(t,e){t.on("pluginsLoaded",function(){for(var t in e)!function(e,n){var i,t=e.getCommand(n.relatedGlobal);for(i in n.jobs)t.on("exec",function(t){t.data.done||(e.fire("lockSnapshot"),n.execJob(e,i)&&(t.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(n.database))},this,null,i),t.on("refresh",function(t){t.data.states||(t.data.states={}),t.data.states[n.name+"@"+i]=n.refreshJob(e,i,t.data.path)},this,null,i);e.addFeature(n)}(this,e[t])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(t,e){var n=this.jobs[e];if(n.state!=o)return n.exec.call(this,t)},refreshJob:function(t,e,n){return e=this.jobs[e],t.activeFilter.checkFeature(this)?e.state=e.refresh.call(this,t,n):e.state=o,e.state},getContext:function(t){return t.contains(this.context)}}}(),function(){function i(t,e,n){if(!t.getCustomData("indent_processed")){var i=this.editor,o=this.isIndent;if(e){if(n=0,(i=t.$.className.match(this.classNameRegex))&&(i=i[1],n=CKEDITOR.tools.indexOf(e,i)+1),(n+=o?1:-1)<0)return;n=Math.min(n,e.length),n=Math.max(n,0),t.$.className=CKEDITOR.tools.ltrim(t.$.className.replace(this.classNameRegex,"")),0<n&&t.addClass(e[n-1])}else{e=a(t,n),n=parseInt(t.getStyle(e),10);var r=i.config.indentOffset||40;if(isNaN(n)&&(n=0),(n+=(o?1:-1)*r)<0)return;n=Math.max(n,0),n=Math.ceil(n/r)*r,t.setStyle(e,n?n+(i.config.indentUnit||"px"):""),""===t.getAttribute("style")&&t.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,t,"indent_processed",1)}}function a(t,e){return"ltr"==(e||t.getComputedStyle("direction"))?"margin-left":"margin-right"}var s=CKEDITOR.dtd.$listItem,o=CKEDITOR.dtd.$list,l=CKEDITOR.TRISTATE_DISABLED,c=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(t){function e(){n.specificDefinition.apply(this,arguments),this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:r?null:"margin-left,margin-right",classes:r||null}},this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]],this.enterBr&&(this.allowedContent.div=!0),this.requiredContent=(this.enterBr?"div":"p")+(r?"("+r.join(",")+")":"{margin-left}"),this.jobs={20:{refresh:function(t,e){if(!(n=e.block||e.blockLimit).is(s))var n=(i=n.getAscendant(s))&&e.contains(i)||n;if(n.is(s)&&(n=n.getParent()),this.enterBr||this.getContext(e)){if(r){var i=r,o=(n=n.$.className.match(this.classNameRegex),this.isIndent);return(i=n?!o||n[1]!=i.slice(-1):o)?c:l}return this.isIndent?c:n?CKEDITOR[(parseInt(n.getStyle(a(n)),10)||0)<=0?"TRISTATE_DISABLED":"TRISTATE_OFF"]:l}return l},exec:function(t){var e,n=(n=t.getSelection())&&n.getRanges()[0];if(e=t.elementPath().contains(o))i.call(this,e,r);else for(n=n.createIterator(),t=t.config.enterMode,n.enforceRealBlocks=!0,n.enlargeBr=t!=CKEDITOR.ENTER_BR;e=n.getNextParagraph(t==CKEDITOR.ENTER_P?"p":"div");)e.isReadOnly()||i.call(this,e,r);return!0}}}}var n=CKEDITOR.plugins.indent,r=t.config.indentClasses;n.registerCommands(t,{indentblock:new e(t,"indentblock",!0),outdentblock:new e(t,"outdentblock")}),CKEDITOR.tools.extend(e.prototype,n.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:r?new RegExp("(?:^|\\s+)("+r.join("|")+")(?=$|\\s)"):null})}})}(),function(){function o(d){function t(t){for(var e=h.startContainer,n=h.endContainer;e&&!e.getParent().equals(t);)e=e.getParent();for(;n&&!n.getParent().equals(t);)n=n.getParent();if(!e||!n)return!1;for(var i=[],o=!1;!o;)e.equals(n)&&(o=!0),i.push(e),e=e.getNext();if(i.length<1)return!1;for(e=t.getParents(!0),n=0;n<e.length;n++)if(e[n].getName&&m[e[n].getName()]){t=e[n];break}e=f.isIndent?1:-1,n=i[0],i=i[i.length-1];var r=(o=CKEDITOR.plugins.list.listToArray(t,p))[i.getCustomData("listarray_index")].indent;for(n=n.getCustomData("listarray_index");n<=i.getCustomData("listarray_index");n++)if(o[n].indent+=e,0<e){for(var a=o[n].parent,s=n-1;0<=s;s--)if(o[s].indent===e){a=o[s].parent;break}o[n].parent=new CKEDITOR.dom.element(a.getName(),a.getDocument())}for(n=i.getCustomData("listarray_index")+1;n<o.length&&o[n].indent>r;n++)o[n].indent+=e;var l;if((e=CKEDITOR.plugins.list.arrayToList(o,p,null,d.config.enterMode,t.getDirection()),!f.isIndent)&&((l=t.getParent())&&l.is("li"))){var c,u=[];for(n=(i=e.listNode.getChildren()).count()-1;0<=n;n--)(c=i.getItem(n))&&c.is&&c.is("li")&&u.push(c)}if(e&&e.listNode.replace(t),u&&u.length)for(n=0;n<u.length;n++){for(c=t=u[n];(c=c.getNext())&&c.is&&c.getName()in m;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(g)&&t.append(h.document.createText("\xa0")),t.append(c);t.insertAfter(l)}return e&&d.fire("contentDomInvalidated"),!0}for(var h,f=this,p=this.database,m=this.context,e=((e=d.getSelection())&&e.getRanges()).createIterator();h=e.getNextRange();){for(var n=h.getCommonAncestor();n&&(n.type!=CKEDITOR.NODE_ELEMENT||!m[n.getName()]);){if(d.editable().equals(n)){n=!1;break}n=n.getParent()}if(n||(n=h.startPath().contains(m))&&h.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),!n){var i=h.getEnclosedNode();i&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in m&&(h.setStartAt(i,CKEDITOR.POSITION_AFTER_START),h.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=i)}if(n&&h.startContainer.type==CKEDITOR.NODE_ELEMENT&&h.startContainer.getName()in m&&((i=new CKEDITOR.dom.walker(h)).evaluator=r,h.startContainer=i.next()),n&&h.endContainer.type==CKEDITOR.NODE_ELEMENT&&h.endContainer.getName()in m&&((i=new CKEDITOR.dom.walker(h)).evaluator=r,h.endContainer=i.previous()),n)return t(n)}return 0}function r(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is("li")}function g(t){return e(t)&&n(t)}var e=CKEDITOR.dom.walker.whitespaces(!0),n=CKEDITOR.dom.walker.bookmark(!1,!0),a=CKEDITOR.TRISTATE_DISABLED,s=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function e(i){n.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],i.on("key",function(t){var e=i.elementPath();if("wysiwyg"==i.mode&&t.data.keyCode==this.indentKey&&e){var n=this.getContext(e);!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n)||(i.execCommand(this.relatedGlobal),t.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(t,e){var n=this.getContext(e),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n);return n&&this.isIndent&&!i?s:a}:function(t,e){return!this.getContext(e)||this.isIndent?a:s},exec:CKEDITOR.tools.bind(o,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(t,{indentlist:new e(t,"indentlist",!0),outdentlist:new e(t,"outdentlist")}),CKEDITOR.tools.extend(e.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(t,e,n){var i=e.contains(r);return n||(n=e.contains(t)),n&&i&&i.equals(n.getFirst(r))}}(),CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(t){t.config.smiley_path=t.config.smiley_path||this.path+"images/",t.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"})),t.ui.addButton&&t.ui.addButton("Smiley",{label:t.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"}),CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")}}),CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" "),CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";"),function(){function p(t,e){var n;if(e=void 0===e||e)n=t.getComputedStyle("text-align");else{for(;(!t.hasAttribute||!t.hasAttribute("align")&&!t.getStyle("text-align"))&&(n=t.getParent());)t=n;n=t.getStyle("text-align")||t.getAttribute("align")||""}return n&&(n=n.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!n&&e&&(n="rtl"==t.getComputedStyle("direction")?"right":"left"),n}function r(t,e,n){this.editor=t,this.name=e,this.value=n,this.context="p",e=t.config.justifyClasses;var i=t.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(e){switch(n){case"left":this.cssClassName=e[0];break;case"center":this.cssClassName=e[1];break;case"right":this.cssClassName=e[2];break;case"justify":this.cssClassName=e[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+e.join("|")+")(?=$|\\s)"),this.requiredContent=i+"("+this.cssClassName+")"}else this.requiredContent=i+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},t.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function a(t){var e=t.editor,n=e.createRange();n.setStartBefore(t.data.node),n.setEndAfter(t.data.node);for(var i,o=new CKEDITOR.dom.walker(n);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(t.data.node)&&i.getDirection())n.setStartAfter(i),o=new CKEDITOR.dom.walker(n);else{var r=e.config.justifyClasses;r&&(i.hasClass(r[0])?(i.removeClass(r[0]),i.addClass(r[2])):i.hasClass(r[2])&&(i.removeClass(r[2]),i.addClass(r[0]))),"left"==(r=i.getStyle("text-align"))?i.setStyle("text-align","right"):"right"==r&&i.setStyle("text-align","left")}}r.prototype={exec:function(t){var e=t.getSelection(),n=t.config.enterMode;if(e){for(var i,o,r=e.createBookmarks(),a=e.getRanges(),s=this.cssClassName,l=void 0===(l=t.config.useComputedState)||l,c=a.length-1;0<=c;c--)for((i=a[c].createIterator()).enlargeBr=n!=CKEDITOR.ENTER_BR;o=i.getNextParagraph(n==CKEDITOR.ENTER_P?"p":"div");)if(!o.isReadOnly()){var u,d=o.getName();if(u=t.activeFilter.check(d+"{text-align}"),(d=t.activeFilter.check(d+"("+s+")"))||u){o.removeAttribute("align"),o.removeStyle("text-align");var h=s&&(o.$.className=CKEDITOR.tools.ltrim(o.$.className.replace(this.cssClassRegex,""))),f=this.state==CKEDITOR.TRISTATE_OFF&&(!l||p(o,!0)!=this.value);s&&d?f?o.addClass(s):h||o.removeAttribute("class"):f&&u&&o.setStyle("text-align",this.value)}}t.focus(),t.forceNextSelectionCheck(),e.selectBookmarks(r)}},refresh:function(t,e){var n=e.block||e.blockLimit,i=n.getName(),o=n.equals(t.editable());i=this.cssClassName?t.activeFilter.check(i+"("+this.cssClassName+")"):t.activeFilter.check(i+"{text-align}");o&&1===e.elements.length?this.setState(CKEDITOR.TRISTATE_OFF):!o&&i?this.setState(p(n,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}},CKEDITOR.plugins.add("justify",{init:function(t){if(!t.blockless){var e=new r(t,"justifyleft","left"),n=new r(t,"justifycenter","center"),i=new r(t,"justifyright","right"),o=new r(t,"justifyblock","justify");t.addCommand("justifyleft",e),t.addCommand("justifycenter",n),t.addCommand("justifyright",i),t.addCommand("justifyblock",o),t.ui.addButton&&(t.ui.addButton("JustifyLeft",{label:t.lang.common.alignLeft,command:"justifyleft",toolbar:"align,10"}),t.ui.addButton("JustifyCenter",{label:t.lang.common.center,command:"justifycenter",toolbar:"align,20"}),t.ui.addButton("JustifyRight",{label:t.lang.common.alignRight,command:"justifyright",toolbar:"align,30"}),t.ui.addButton("JustifyBlock",{label:t.lang.common.justify,command:"justifyblock",toolbar:"align,40"})),t.on("dirChanged",a)}}})}(),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var n=this._,t=n.menu;n.state!==CKEDITOR.TRISTATE_DISABLED&&(n.on&&t?t.hide():(n.previousState=n.state,t||((t=n.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}})).onHide=CKEDITOR.tools.bind(function(){var t=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!t||t[e.mode]?n.previousState:CKEDITOR.TRISTATE_DISABLED),n.on=0},this),this.onMenu&&t.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),n.on=1,setTimeout(function(){t.show(CKEDITOR.document.getById(n.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow="menu",this.click=e},statics:{handler:{create:function(t){return new CKEDITOR.ui.menuButton(t)}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(i){var t,e,n,o,r=i.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],a=this,s=i.lang.language,l={};for(i.addCommand("language",{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(t,e){var n=l["language_"+e];n&&t[n.style.checkActive(t.elementPath(),t)?"removeStyle":"applyStyle"](n.style)},refresh:function(t){this.setState(a.getCurrentLangElement(t)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}}),o=0;o<r.length;o++)e=(t=r[o].split(":"))[0],l[n="language_"+e]={label:t[1],langId:e,group:"language",order:o,ltr:"rtl"!=(""+t[2]).toLowerCase(),onClick:function(){i.execCommand("language",this.langId)},role:"menuitemcheckbox"},l[n].style=new CKEDITOR.style({element:"span",attributes:{lang:e,dir:l[n].ltr?"ltr":"rtl"}});l.language_remove={label:s.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:l.length,onClick:function(){var t=a.getCurrentLangElement(i);t&&i.execCommand("language",t.getAttribute("lang"))}},i.addMenuGroup("language",1),i.addMenuGroup("language_remove"),i.addMenuItems(l),i.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:s.button,allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:function(){var t,e={},n=a.getCurrentLangElement(i);for(t in l)e[t]=CKEDITOR.TRISTATE_OFF;return e.language_remove=n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,n&&(e["language_"+n.getAttribute("lang")]=CKEDITOR.TRISTATE_ON),e}}),i.addRemoveFormatFilter&&i.addRemoveFormatFilter(function(t){return!(t.is("span")&&t.getAttribute("dir")&&t.getAttribute("lang"))})},getCurrentLangElement:function(t){var e,n=t.elementPath();if(t=n&&n.elements,n)for(var i=0;i<t.length;i++)n=t[i],!e&&"span"==n.getName()&&n.hasAttribute("dir")&&n.hasAttribute("lang")&&(e=n);return e}}),function(){function d(t){return t.replace(/'/g,"\\$&")}function h(t){for(var e,n=t.length,i=[],o=0;o<n;o++)e=t.charCodeAt(o),i.push(e);return"String.fromCharCode("+i.join(",")+")"}function f(t,e){var n,i,o=t.plugins.link,r=o.compiledProtectionFunction.params;i=[o.compiledProtectionFunction.name,"("];for(var a=0;a<r.length;a++)n=e[o=r[a].toLowerCase()],0<a&&i.push(","),i.push("'",n?d(encodeURIComponent(e[o])):"","'");return i.push(")"),i.join("")}function e(t){var i;return(t=t.config.emailProtection||"")&&"encode"!=t&&(i={},t.replace(/^([^(]+)\(([^)]+)\)$/,function(t,e,n){i.name=e,i.params=[],n.replace(/[^,\s]+/g,function(t){i.params.push(t)})})),i}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function t(t){return n.replace(/%1/g,"rtl"==t?"right":"left").replace(/%2/g,"cke_contents_"+t)}var e="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+e+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+e+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(t("ltr")+t("rtl"))},init:function(n){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(n,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(n,"link","target")&&(t=t.replace("]",",target,onclick]")),n.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),n.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),n.addCommand("unlink",new CKEDITOR.unlinkCommand),n.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),n.setKeystroke(CKEDITOR.CTRL+76,"link"),n.setKeystroke(CKEDITOR.CTRL+75,"link"),n.ui.addButton&&(n.ui.addButton("Link",{label:n.lang.link.toolbar,command:"link",toolbar:"links,10"}),n.ui.addButton("Unlink",{label:n.lang.link.unlink,command:"unlink",toolbar:"links,20"}),n.ui.addButton("Anchor",{label:n.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),n.on("doubleclick",function(t){var e=t.data.element.getAscendant({a:1,img:1},!0);e&&!e.isReadOnly()&&(e.is("a")?(t.data.dialog=!e.getAttribute("name")||e.getAttribute("href")&&e.getChildCount()?"link":"anchor",t.data.link=e):CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,e)&&(t.data.dialog="anchor"))},null,null,0),n.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&n.getSelection().selectElement(t.data.link)},null,null,20),n.addMenuItems&&n.addMenuItems({anchor:{label:n.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:n.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:n.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:n.lang.link.unlink,command:"unlink",group:"link",order:5}}),n.contextMenu&&n.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(!(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t))&&!(t=CKEDITOR.plugins.link.getSelectedLink(n)))return null;var e={};return t.getAttribute("href")&&t.getChildCount()&&(e={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(e.anchor=e.removeAnchor=CKEDITOR.TRISTATE_OFF),e}),this.compiledProtectionFunction=e(n)},afterInit:function(n){n.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:n.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=n._.elementsPath&&n._.elementsPath.filters;t&&t.push(function(t,e){if("a"==e&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"})}});var c=/^javascript:/,u=/^mailto:([^?]+)(?:\?(.+))?$/,p=/subject=([^;?:@&=$,\/]*)/i,m=/body=([^;?:@&=$,\/]*)/i,g=/^#(.*)$/,v=/^((?:http|https|ftp|news):\/\/)?(.*)$/,y=/^(_(?:self|top|parent|blank))$/,b=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,E=/^javascript:([^(]+)\(([^)]+)\)$/,_=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,T=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,C=/^tel:(.*)$/,D={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(t,e){var n,i=t.getSelection(),o=i.getSelectedElement(),r=i.getRanges(),a=[];if(!e&&o&&o.is("a"))return o;for(o=0;o<r.length;o++)if((n=i.getRanges()[o]).shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(n=t.elementPath(n.getCommonAncestor()).contains("a",1))&&e)a.push(n);else if(n)return n;return e?a:null},getEditorAnchors:function(t){for(var e,n=(i=(n=t.editable()).isInline()&&!t.plugins.divarea?t.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),o=[],r=0;e=n.getItem(r++);)(e.data("cke-saved-name")||e.hasAttribute("name"))&&o.push({name:e.data("cke-saved-name")||e.getAttribute("name"),id:e.getAttribute("id")});for(r=0;e=i.getItem(r++);)(e=this.tryRestoreFakeAnchor(t,e))&&o.push({name:e.getAttribute("name"),id:e.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(t,e){if(e&&e.data("cke-real-element-type")&&"anchor"==e.data("cke-real-element-type")){var n=t.restoreRealElement(e);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(t,e){var n,i=e&&(e.data("cke-saved-href")||e.getAttribute("href"))||"",a=t.plugins.link.compiledProtectionFunction,o=t.config.emailProtection,s={};if(i.match(c)&&("encode"==o?i=i.replace(b,function(t,e,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,e.split(","))+n.replace(/\\'/g,"'")}):o&&i.replace(E,function(t,e,n){if(e==a.name){s.type="email",t=s.email={},e=/(^')|('$)/g;for(var i,o=(n=n.match(/[^,\s]+/g)).length,r=0;r<o;r++)i=decodeURIComponent(i=n[r].replace(e,"").replace(/\\'/g,"'")),t[a.params[r].toLowerCase()]=i;t.address=[t.name,t.domain].join("@")}})),!s.type)if(o=i.match(g))s.type="anchor",s.anchor={},s.anchor.name=s.anchor.id=o[1];else if(o=i.match(C))s.type="tel",s.tel=o[1];else if(o=i.match(u)){n=i.match(p),i=i.match(m),s.type="email";var r=s.email={};r.address=o[1],n&&(r.subject=decodeURIComponent(n[1])),i&&(r.body=decodeURIComponent(i[1]))}else i&&(n=i.match(v))&&(s.type="url",s.url={},s.url.protocol=n[1],s.url.url=n[2]);if(e){if(i=e.getAttribute("target"))s.target={type:i.match(y)?i:"frame",name:i};else if(i=(i=e.data("cke-pa-onclick")||e.getAttribute("onclick"))&&i.match(_))for(s.target={type:"popup",name:i[1]};o=T.exec(i[2]);)"yes"!=o[2]&&"1"!=o[2]||o[1]in{height:1,width:1,top:1,left:1}?isFinite(o[2])&&(s.target[o[1]]=o[2]):s.target[o[1]]=!0;null!==e.getAttribute("download")&&(s.download=!0);var l;i={};for(l in D)(o=e.getAttribute(l))&&(i[D[l]]=o);(l=e.data("cke-saved-name")||i.advName)&&(i.advName=l),CKEDITOR.tools.isEmpty(i)||(s.advanced=i)}return s},getLinkAttributes:function(t,e){var n=t.config.emailProtection||"",i={};switch(e.type){case"url":n=e.url&&void 0!==e.url.protocol?e.url.protocol:"http://";var o=e.url&&CKEDITOR.tools.trim(e.url.url)||"";i["data-cke-saved-href"]=0===o.indexOf("/")?o:n+o;break;case"anchor":n=e.anchor&&e.anchor.id,i["data-cke-saved-href"]="#"+(e.anchor&&e.anchor.name||n||"");break;case"email":o=(s=e.email).address;switch(n){case"":case"encode":var r=encodeURIComponent(s.subject||""),a=encodeURIComponent(s.body||""),s=[];r&&s.push("subject="+r),a&&s.push("body="+a),s=s.length?"?"+s.join("&"):"","encode"==n?(n=["javascript:void(location.href='mailto:'+",h(o)],s&&n.push("+'",d(s),"'"),n.push(")")):n=["mailto:",o,s];break;default:n=o.split("@",2),s.name=n[0],s.domain=n[1],n=["javascript:",f(t,s)]}i["data-cke-saved-href"]=n.join("");break;case"tel":i["data-cke-saved-href"]="tel:"+e.tel}if(e.target)if("popup"==e.target.type){n=["window.open(this.href, '",e.target.name||"","', '"];var l="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(o=l.length,r=function(t){e.target[t]&&l.push(t+"="+e.target[t])},s=0;s<o;s++)l[s]+=e.target[l[s]]?"=yes":"=no";r("width"),r("left"),r("height"),r("top"),n.push(l.join(","),"'); return false;"),i["data-cke-pa-onclick"]=n.join("")}else"notSet"!=e.target.type&&e.target.name&&(i.target=e.target.name);if(e.download&&(i.download=""),e.advanced){for(var c in D)(n=e.advanced[D[c]])&&(i[c]=n);i.name&&(i["data-cke-saved-name"]=i.name)}for(var u in i["data-cke-saved-href"]&&(i.href=i["data-cke-saved-href"]),c={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},e.advanced&&CKEDITOR.tools.extend(c,D),i)delete c[u];return{set:i,removed:CKEDITOR.tools.objectKeys(c)}},showDisplayTextForElement:function(t,e){var n={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},i=e.getSelection();return!(e.widgets&&e.widgets.focused||i&&1<i.getRanges().length)&&(!t||!t.getName||!t.is(n))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(t){if(CKEDITOR.env.ie){var e,n=t.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(e=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),t.removeStyle(i),e&&(n.moveToBookmark(e),n.select())},refresh:function(t,e){var n=e.lastElement&&e.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(t){var e,n=t.getSelection(),i=n.createBookmarks();n&&(e=n.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))?e.remove(1):(e=CKEDITOR.plugins.link.getSelectedLink(t))&&(e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function v(e,n,t){function i(t){!(l=u[t?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=n.root[t?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||e.document.createElement("br")[t?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(n.root,t),r=[],a=0;a<n.contents.length;a++){var s=n.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(r.push(s),CKEDITOR.dom.element.setMarker(t,s,"list_item_processed",!0))}for(s=null,a=0;a<r.length;a++)o[s=r[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<o.length;a++)if(o[a].indent>o[a-1].indent+1){for(r=o[a-1].indent+1-o[a].indent,s=o[a].indent;o[a]&&o[a].indent>=s;)o[a].indent+=r,a++;a--}var l,c,u=CKEDITOR.plugins.list.arrayToList(o,t,null,e.config.enterMode,n.root.getAttribute("dir")).listNode;i(!0),i(),u.replace(n.root),e.fire("contentDomInvalidated")}function t(t,e){this.name=t,this.context=this.type=e,this.allowedContent=e+" li",this.requiredContent=e}function c(t,e,n,i){for(var o,r;o=t[i?"getLast":"getFirst"](a);)(r=o.getDirection(1))!==e.getDirection(1)&&o.setAttribute("dir",r),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):e.append(o,i)}function y(n){function t(t){var e=n[t?"getPrevious":"getNext"](I);e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(n.getName())&&(c(n,e,null,!t),n.remove(),n=e)}t(),t(1)}function d(t){return t.type==CKEDITOR.NODE_ELEMENT&&(t.getName()in CKEDITOR.dtd.$block||t.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[t.getName()]["#"]}function h(t,e,n){t.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();e.trim(!1,!0);var o=e.createBookmark(),r=(a=new CKEDITOR.dom.elementPath(e.startContainer)).block,a=a.lastElement.getAscendant("li",1)||r,s=(l=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),l=l.contains(CKEDITOR.dtd.$list);for(r?(r=r.getBogus())&&r.remove():l&&(r=l.getPrevious(I))&&p(r)&&r.remove(),(r=i.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),(r=e.startContainer.getChild(e.startOffset))?i.insertBefore(r):e.startContainer.append(i),s&&(i=f(s))&&(a.contains(s)?(c(i,s.getParent(),s),i.remove()):a.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(l=n.startPath()).block);)i.is("li")&&(a=i.getParent(),i.equals(a.getLast(I))&&i.equals(a.getFirst(I))&&(i=a)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=t.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(t){return I(t)&&!p(t)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$list&&y(n),e.moveToBookmark(o),e.select(),t.fire("saveSnapshot")}function f(t){return(t=t.getLast(I))&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in D?t:null}var D={ol:1,ul:1},e=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark(),I=function(t){return!(e(t)||O(t))},p=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(t,e,n,i,o){if(!D[t.getName()])return[];i||(i=0),n||(n=[]);for(var r=0,a=t.getChildCount();r<a;r++){var s=t.getChild(r);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,e,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:t,indent:i,element:s,contents:[]};o?l.grandparent=o:(l.grandparent=t.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),e&&CKEDITOR.dom.element.setMarker(e,s,"listarray_index",n.length),n.push(l);for(var c,u=0,d=s.getChildCount();u<d;u++)(c=s.getChild(u)).type==CKEDITOR.NODE_ELEMENT&&D[c.getName()]?CKEDITOR.plugins.list.listToArray(c,e,n,i+1,l.grandparent):l.contents.push(c)}}return n},arrayToList:function(t,e,n,i
,o){if(n||(n=0),!t||t.length<n+1)return null;for(var r,a,s,l=t[n].parent.getDocument(),c=new CKEDITOR.dom.documentFragment(l),u=null,d=n,h=Math.max(t[n].indent,0),f=null,p=i==CKEDITOR.ENTER_P?"p":"div";;){var m=t[d];if(r=m.grandparent,a=m.element.getDirection(1),m.indent==h){for(u&&t[d].parent.getName()==u.getName()||(u=t[d].parent.clone(!1,1),o&&u.setAttribute("dir",o),c.append(u)),f=u.append(m.element.clone(0,1)),a!=u.getDirection(1)&&f.setAttribute("dir",a),r=0;r<m.contents.length;r++)f.append(m.contents[r].clone(1,1));d++}else if(m.indent==Math.max(h,0)+1)m=t[d-1].element.getDirection(1),d=CKEDITOR.plugins.list.arrayToList(t,null,d,i,m!=a?a:null),!f.getChildCount()&&CKEDITOR.env.needsNbspFiller&&l.$.documentMode<=7&&f.append(l.createText("\xa0")),f.append(d.listNode),d=d.nextIndex;else{if(-1!=m.indent||n||!r)return null;D[r.getName()]?(f=m.element.clone(!1,!0),a!=r.getDirection(1)&&f.setAttribute("dir",a)):f=new CKEDITOR.dom.documentFragment(l);u=r.getDirection(1)!=a;var g,v,y=m.element,b=y.getAttribute("class"),E=y.getAttribute("style"),_=f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||u||E||b),T=m.contents.length;for(r=0;r<T;r++)if(g=m.contents[r],O(g)&&1<T)_?v=g.clone(1,1):f.append(g.clone(1,1));else if(g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()){u&&!g.getDirection()&&g.setAttribute("dir",a),s=g;var C=y.getAttribute("style");C&&s.setAttribute("style",C.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),b&&g.addClass(b),s=null,v&&(f.append(v),v=null),f.append(g.clone(1,1))}else _?(s||(s=l.createElement(p),f.append(s),u&&s.setAttribute("dir",a)),E&&s.setAttribute("style",E),b&&s.setAttribute("class",b),v&&(s.append(v),v=null),s.append(g.clone(1,1))):f.append(g.clone(1,1));v&&((s||f).append(v),v=null),f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&d!=t.length-1&&(CKEDITOR.env.needsBrFiller&&(a=f.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=f.getLast(I))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||f.append(l.createElement("br"))),"div"!=(a=f.$.nodeName.toLowerCase())&&"p"!=a||f.appendBogus(),c.append(f),u=null,d++}if(s=null,t.length<=d||Math.max(t[d].indent,0)<h)break}if(e)for(t=c.getFirst();t;){if(t.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(e,t),t.getName()in CKEDITOR.dtd.$listItem&&(l=o=i=void 0,i=(n=t).getDirection()))){for(o=n.getParent();o&&!(l=o.getDirection());)o=o.getParent();i==l&&n.removeAttribute("dir")}t=t.getNextSourceNode()}return{listNode:c,nextIndex:d}}};var b=/^h[1-6]$/,a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var e=t.config,n=t.getSelection(),i=n&&n.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((r=t.editable()).getFirst(I)){var o=1==i.length&&i[0];(e=o&&o.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==CKEDITOR.ENTER_BR?r.appendBogus():i[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?"p":"div"),n.selectRanges(i);e=n.createBookmarks(!0);for(var r=[],a={},s=(i=i.createIterator(),0);(o=i.getNextRange())&&++s;){var l=(m=o.getBoundaryNodes()).startNode,c=m.endNode;for(l.type==CKEDITOR.NODE_ELEMENT&&"td"==l.getName()&&o.setStartAt(m.startNode,CKEDITOR.POSITION_AFTER_START),c.type==CKEDITOR.NODE_ELEMENT&&"td"==c.getName()&&o.setEndAt(m.endNode,CKEDITOR.POSITION_BEFORE_END),(o=o.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;m=o.getNextParagraph();)if(!m.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(a,m,"list_block",1);l=(d=t.elementPath(m)).elements,c=0;for(var u,d=d.blockLimit,h=l.length-1;0<=h&&(u=l[h]);h--)if(D[u.getName()]&&d.contains(u)){d.removeCustomData("list_group_object_"+s),(l=u.getCustomData("list_group_object"))?l.contents.push(m):(l={root:u,contents:[m]},r.push(l),CKEDITOR.dom.element.setMarker(a,u,"list_group_object",l)),c=1;break}c||((c=d).getCustomData("list_group_object_"+s)?c.getCustomData("list_group_object_"+s).contents.push(m):(l={root:c,contents:[m]},CKEDITOR.dom.element.setMarker(a,c,"list_group_object_"+s,l),r.push(l)))}}for(u=[];0<r.length;)if(l=r.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(D[l.root.getName()]){for(i=t,s=l,l=a,o=u,c=CKEDITOR.plugins.list.listToArray(s.root,l),d=[],m=0;m<s.contents.length;m++)(h=(h=s.contents[m]).getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(d.push(h),CKEDITOR.dom.element.setMarker(l,h,"list_item_processed",!0));h=s.root.getDocument();for(var f=void 0,p=void 0,m=0;m<d.length;m++){var g=d[m].getCustomData("listarray_index");(f=c[g].parent).is(this.type)||(p=h.createElement(this.type),f.copyAttributes(p,{start:1,type:1}),p.removeStyle("list-style-type"),c[g].parent=p)}for(l=CKEDITOR.plugins.list.arrayToList(c,l,null,i.config.enterMode),c=void 0,d=l.listNode.getChildCount(),m=0;m<d&&(c=l.listNode.getChild(m));m++)c.getName()==this.type&&o.push(c);l.listNode.replace(s.root),i.fire("contentDomInvalidated")}else{for(c=t,m=u,d=(o=l).contents,i=o.root.getDocument(),s=[],1==d.length&&d[0].equals(o.root)&&(l=i.createElement("div"),d[0].moveChildren&&d[0].moveChildren(l),d[0].append(l),d[0]=l),o=o.contents[0].getParent(),h=0;h<d.length;h++)o=o.getCommonAncestor(d[h].getParent());for(f=c.config.useComputedState,c=l=void 0,f=void 0===f||f,h=0;h<d.length;h++)for(p=d[h];g=p.getParent();){if(g.equals(o)){s.push(p),!c&&p.getDirection()&&(c=1),p=p.getDirection(f),null!==l&&(l=l&&l!=p?null:p);break}p=g}if(!(s.length<1)){for(d=s[s.length-1].getNext(),h=i.createElement(this.type),m.push(h),f=m=void 0;s.length;)m=s.shift(),f=i.createElement("li"),(p=m).is("pre")||b.test(p.getName())||"false"==p.getAttribute("contenteditable")?m.appendTo(f):(m.copyAttributes(f),l&&m.getDirection()&&(f.removeStyle("direction"),f.removeAttribute("dir")),m.moveChildren(f),m.remove()),f.appendTo(h);l&&c&&h.setAttribute("dir",l),d?h.insertBefore(d):h.appendTo(o)}}else this.state==CKEDITOR.TRISTATE_ON&&D[l.root.getName()]&&v.call(this,t,l,a);for(h=0;h<u.length;h++)y(u[h]);CKEDITOR.dom.element.clearAllMarkers(a),n.selectBookmarks(e),t.focus()},refresh:function(t,e){var n=e.contains(D,1),i=e.blockLimit||e.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(u){u.blockless||(u.addCommand("numberedlist",new t("numberedlist","ol")),u.addCommand("bulletedlist",new t("bulletedlist","ul")),u.ui.addButton&&(u.ui.addButton("NumberedList",{label:u.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),u.ui.addButton("BulletedList",{label:u.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),u.on("key",function(t){var e,n=t.data.domEvent.getKey();if("wysiwyg"==u.mode&&n in{8:1,46:1}){var i=u.getSelection().getRanges()[0],o=i&&i.startPath();if(i&&i.collapsed){var r,a=8==n,s=u.editable(),l=new CKEDITOR.dom.walker(i.clone());if(l.evaluator=function(t){return I(t)&&!p(t)},l.guard=function(t,e){return!(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("table"))},n=i.clone(),a)if((r=o.contains(D))&&i.checkBoundaryOfElement(r,CKEDITOR.START)&&(r=r.getParent())&&r.is("li")&&(r=f(r))?(r=(e=r).getPrevious(I),n.moveToPosition(r&&p(r)?r:e,CKEDITOR.POSITION_BEFORE_START)):(l.range.setStartAt(s,CKEDITOR.POSITION_AFTER_START),l.range.setEnd(i.startContainer,i.startOffset),(r=l.previous())&&r.type==CKEDITOR.NODE_ELEMENT&&(r.getName()in D||r.is("li"))&&(r.is("li")||(l.range.selectNodeContents(r),l.reset(),l.evaluator=d,r=l.previous()),e=r,n.moveToElementEditEnd(e),n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END))),e)h(u,n,i),t.cancel();else{var c=o.contains(D);c&&i.checkBoundaryOfElement(c,CKEDITOR.START)&&(e=c.getFirst(I),i.checkBoundaryOfElement(e,CKEDITOR.START)&&(r=c.getPrevious(I),f(e)?r&&(i.moveToElementEditEnd(r),i.select()):u.execCommand("outdent"),t.cancel()))}else if(e=o.contains("li")){if(l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),a=(s=e.getLast(I))&&d(s)?s:e,o=0,(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in D&&r.equals(s)?(o=1,r=l.next()):i.checkBoundaryOfElement(a,CKEDITOR.END)&&(o=2),o&&r){if((i=i.clone()).moveToElementEditStart(r),1==o&&(n.optimize(),!n.startContainer.equals(e))){for(e=n.startContainer;e.is(CKEDITOR.dtd.$inline);)e=(c=e).getParent();c&&n.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)}2==o&&(n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END),i.endPath().block&&i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_AFTER_START)),h(u,n,i),t.cancel()}}else l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(D)&&(r=r.getFirst(I),o.block&&i.checkStartOfBlock()&&i.checkEndOfBlock()?(o.block.remove(),i.moveToElementEditStart(r),i.select()):f(r)?(i.moveToElementEditStart(r),i.select()):((i=i.clone()).moveToElementEditStart(r),h(u,n,i)),t.cancel());setTimeout(function(){u.selectionChange(1)})}}}))}})}(),CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(t){var e;t.blockless||(e=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]; li{list-style-type}[value]",contentTransformations:[["ol: listTypeToStyle"]]}),e=t.addCommand("numberedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js"),e=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}",contentTransformations:[["ul: listTypeToStyle"]]}),e=t.addCommand("bulletedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js"),t.addMenuGroup("list",108),t.addMenuItems({numberedlist:{label:t.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:t.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}}),t.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;for(;t;){var e=t.getName();if("ol"==e)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==e)return{bulletedlist:CKEDITOR.TRISTATE_OFF};t=t.getParent()}return null}))}},CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle),function(){function u(t,e,n){return b(e)&&b(n)&&n.equals(e.getNext(function(t){return!(X(t)||Q(t)||E(t))}))}function d(t){this.upper=t[0],this.lower=t[1],this.set.apply(this,t.slice(2))}function c(t){var e=t.element;if(e&&b(e)&&(e=e.getAscendant(t.triggers,!0))&&t.editable.contains(e)){var n=a(e);if("true"==n.getAttribute("contenteditable"))return e;if(n.is(t.triggers))return n}return null}function h(t,e,n){return w(t,e),w(t,n),t=e.size.bottom,n=n.size.top,t&&n?0|(t+n)/2:t||n}function f(e,t,n){return t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!X(t)||b(t)&&!E(t)&&!y(e,t)})}function p(t,e,n){return e<t&&t<n}function a(t,e){if(t.data("cke-editable"))return null;for(e||(t=t.getParent());t&&!t.data("cke-editable");){if(t.hasAttribute("contenteditable"))return t;t=t.getParent()}return null}function m(c){var t=c.doc,e=i('<span contenteditable="false" data-cke-magic-line="1" style="'+V+"position:absolute;border-top:1px dashed "+c.boxColor+'"></span>',t),n=CKEDITOR.getUrl(this.path+"images/"+(A.hidpi?"hidpi/":"")+"icon"+(c.rtl?"-rtl":"")+".png");for(K(e,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(c.editable,!0),this},lineChildren:[K(i('<span title="'+c.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:V+"height:17px;width:17px;"+(c.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+c.boxColor+";cursor:pointer;"+(A.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(A.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),K(i(G,t),{base:Z+"left:0px;border-left-color:"+c.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),K(i(G,t),{base:Z+"right:0px;border-right-color:"+c.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){w(c,this);var t=c.holdDistance,e=this.size;return!!(e&&p(c.mouse.y,e.top-t,e.bottom+t)&&p(c.mouse.x,e.left-t,e.right+t))},place:function(){var t=c.view,e=c.editable,n=c.trigger,i=n.upper,o=n.lower,r=i||o,a=r.getParent(),s={};for(var l in this.trigger=n,i&&w(c,i,!0),o&&w(c,o,!0),w(c,a,!0),c.inInlineMode&&R(c,!0),a.equals(e)?(s.left=t.scroll.x,s.right=-t.scroll.x,s.width=""):(s.left=r.size.left-r.size.margin.left+t.scroll.x-(c.inInlineMode?t.editable.left+t.editable.border.left:0),s.width=r.size.outerWidth+r.size.margin.left+r.size.margin.right+t.scroll.x,s.right=""),i&&o?s.top=i.size.margin.bottom===o.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<o.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-o.size.margin.top:i?o||(s.top=i.size.bottom+i.size.margin.bottom):s.top=o.size.top-o.size.margin.top,n.is(B)||p(s.top,t.scroll.y-15,t.scroll.y+5)?(s.top=c.inInlineMode?0:t.scroll.y,this.look(B)):n.is(j)||p(s.top,t.pane.bottom-5,t.pane.bottom+15)?(s.top=c.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(j)):(c.inInlineMode&&(s.top-=t.editable.top+t.editable.border.top),this.look(z)),c.inInlineMode&&(s.top--,s.top+=t.editable.scroll.top,s.left+=t.editable.scroll.left),s)s[l]=CKEDITOR.tools.cssLength(s[l]);this.setStyles(s)},look:function(t){if(this.oldLook!=t){for(var e,n=this.lineChildren.length;n--;)(e=this.lineChildren[n]).setAttribute("style",e.base+e.looks[0|t/2]);this.oldLook=t}},wrap:new s("span",c.doc)}),t=e.lineChildren.length;t--;)e.lineChildren[t].appendTo(e);e.look(z),e.appendTo(e.wrap),e.unselectable(),e.lineChildren[0].on("mouseup",function(t){e.detach(),g(c,function(t){var e=c.line.trigger;t[e.is(P)?"insertBefore":"insertAfter"](e.is(P)?e.lower:e.upper)},!0),c.editor.focus(),A.ie||c.enterMode==CKEDITOR.ENTER_BR||c.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),e.on("mousedown",function(t){t.data.preventDefault(!0)}),c.line=e}function g(t,e,n){var i,o=new CKEDITOR.dom.range(t.doc),r=t.editor;A.ie&&t.enterMode==CKEDITOR.ENTER_BR?i=t.doc.createText(q):(i=(i=a(t.element,!0))&&i.data("cke-enter-mode")||t.enterMode,(i=new s(l[i],t.doc)).is("br")||t.doc.createText(q).appendTo(i)),n&&r.fire("saveSnapshot"),e(i),o.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),r.getSelection().selectRanges([o]),t.hotNode=i,n&&r.fire("saveSnapshot")}function v(o,r){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(e){var t=A.ie&&A.version<9?" ":q,n=o.hotNode&&o.hotNode.getText()==t&&o.element.equals(o.hotNode)&&o.lastCmdDirection===!!r;g(o,function(t){n&&o.hotNode&&o.hotNode.remove(),t[r?"insertAfter":"insertBefore"](e),t.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!r}),o.lastCmdDirection=!!r}),A.ie||o.enterMode==CKEDITOR.ENTER_BR||o.hotNode.scrollIntoView(),o.line.detach()}return function(t){var e,n;(t=(t=t.getSelection().getStartElement()).getAscendant(W,1),C(o,t)||!t||t.equals(o.editable)||t.contains(o.editable))||((e=a(t))&&"false"==e.getAttribute("contenteditable")&&(t=e),o.element=t,b(e=f(o,t,!r))&&e.is(o.triggers)&&e.is(U)&&(!f(o,e,!r)||(n=f(o,e,!r))&&b(n)&&n.is(o.triggers))?i(e):b(n=c(o,t))&&(f(o,n,!r)?(t=f(o,n,!r))&&b(t)&&t.is(o.triggers)&&i(n):i(n)))}}()}}function y(t,e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||!e.$)return!1;var n=t.line;return n.wrap.equals(e)||n.wrap.contains(e)}function b(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.$}function E(t){return!!b(t)&&((e=_(t))||(e=!!b(t)&&!(!(e={left:1,right:1,center:1})[t.getComputedStyle("float")]&&!e[t.getAttribute("align")])),e);var e}function _(t){return!!{absolute:1,fixed:1}[t.getComputedStyle("position")]}function T(t,e){return b(e)?e.is(t.triggers):null}function C(t,e){if(!e)return!1;for(var n=e.getParents(1),i=n.length;i--;)for(var o=t.tabuList.length;o--;)if(n[i].hasAttribute(t.tabuList[o]))return!0;return!1}function D(e,t,n){return!!(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(o)}))&&(w(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}function O(t){var e=t.editable,n=t.mouse,i=t.view,o=t.triggerOffset;R(t);var r=n.y>(t.inInlineMode?i.editable.top+i.editable.height/2:Math.min(i.editable.height,i.pane.height)/2);return(e=e[r?"getLast":"getFirst"](function(t){return!(X(t)||Q(t))}))?(y(t,e)&&(e=t.line.wrap[r?"getPrevious":"getNext"](function(t){return!(X(t)||Q(t))})),b(e)&&!E(e)&&T(t,e)?(w(t,e),!r&&0<=e.size.top&&p(n.y,0,e.size.top+o)?(t=t.inInlineMode||0===i.scroll.y?B:z,new d([null,e,P,$,t])):r&&e.size.bottom<=i.pane.height&&p(n.y,e.size.bottom-o,i.pane.height)?(t=t.inInlineMode||p(e.size.bottom,i.pane.height-o,i.pane.height)?j:z,new d([e,null,F,$,t])):null):null):null}function I(t){var e=t.mouse,n=t.view,i=t.triggerOffset,o=c(t);if(!o)return null;w(t,o);i=Math.min(i,0|o.size.outerHeight/2);var r,a,s=[];if(p(e.y,o.size.top-1,o.size.top+i))a=!1;else{if(!p(e.y,o.size.bottom-i,o.size.bottom+1))return null;a=!0}if(E(o)||D(t,o,a)||o.getParent().is(H))return null;var l=f(t,o,!a);if(l){if(l&&l.type==CKEDITOR.NODE_TEXT)return null;if(b(l)){if(E(l)||!T(t,l)||l.getParent().is(H))return null;s=[l,o][a?"reverse":"concat"]().concat([M,$])}}else o.equals(t.editable[a?"getLast":"getFirst"](t.isRelevant))?(R(t),a&&p(e.y,o.size.bottom-i,n.pane.height)&&p(o.size.bottom,n.pane.height-i,n.pane.height)?r=j:p(e.y,0,o.size.top+i)&&(r=B)):r=z,s=[null,o][a?"reverse":"concat"]().concat([a?F:P,$,r,o.equals(t.editable[a?"getLast":"getFirst"](t.isRelevant))?a?j:B:z]);return 0 in s?new d(s):null}function k(t,e,n,i){for(var o=e.getDocumentPosition(),r={},a={},s={},l={},c=tt.length;c--;)r[tt[c]]=parseInt(e.getComputedStyle.call(e,"border-"+tt[c]+"-width"),10)||0,s[tt[c]]=parseInt(e.getComputedStyle.call(e,"padding-"+tt[c]),10)||0,a[tt[c]]=parseInt(e.getComputedStyle.call(e,"margin-"+tt[c]),10)||0;return n&&!i||x(t,i),l.top=o.y-(n?0:t.view.scroll.y),l.left=o.x-(n?0:t.view.scroll.x),l.outerWidth=e.$.offsetWidth,l.outerHeight=e.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+r.top+r.bottom),l.width=l.outerWidth-(s.left+s.right+r.left+r.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,t.inInlineMode&&(l.scroll={top:e.$.scrollTop,left:e.$.scrollLeft}),K({border:r,padding:s,margin:a,ignoreScroll:n},l,!0)}function w(t,e,n){if(!b(e))return e.size=null;if(e.size){if(e.size.ignoreScroll==n&&e.size.date>new Date-r)return null}else e.size={};return K(e.size,k(t,e,n),{date:+new Date},!0)}function R(t,e){t.view.editable=k(t,t.editable,e,!0)}function x(t,e){t.view||(t.view={});var n=t.view;if(!(!e&&n&&n.date>new Date-r)){n=(i=t.win).getScrollPosition();var i=i.getViewPaneSize();K(t.view,{scroll:{x:n.x,y:n.y,width:t.doc.$.documentElement.scrollWidth-i.width,height:t.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}function S(t,e,n,i){for(var o=i,r=i,a=0,s=!1,l=!1,c=t.view.pane.height,u=t.mouse;u.y+a<c&&0<u.y-a&&(s||(s=e(o,i)),l||(l=e(r,i)),!s&&0<u.y-a&&(o=n(t,{x:u.x,y:u.y-a})),!l&&u.y+a<c&&(r=n(t,{x:u.x,y:u.y+a})),!s||!l);)a+=2;return new d([o,r,null,null])}CKEDITOR.plugins.add("magicline",{init:function(o){var i,r,a,s=o.config,t=s.magicline_triggerOffset||30,l={editor:o,enterMode:s.enterMode,triggerOffset:t,holdDistance:0|t*(s.magicline_holdDistance||.5),boxColor:s.magicline_color||"#ff0000",rtl:"rtl"==s.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(s.magicline_tabuList||[]),triggers:s.magicline_everywhere?W:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};l.isRelevant=function(t){return b(t)&&!y(l,t)&&!E(t)},o.on("contentDom",function(){var t=o.editable(),e=o.document,n=o.window;K(l,{editable:t,inInlineMode:t.isInline(),doc:e,win:n,hotNode:null},!0),l.boundary=l.inInlineMode?l.editable:l.doc.getDocumentElement(),t.is(L.$inline)||(l.inInlineMode&&!_(t)&&t.setStyles({position:"relative",top:null,left:null}),m.call(this,l),x(l),t.attachListener(o,"beforeUndoImage",function(){l.line.detach()}),t.attachListener(o,"beforeGetData",function(){l.line.wrap.getParent()&&(l.line.detach(),o.once("getData",function(){l.line.attach()},null,null,1e3))},null,null,0),t.attachListener(l.inInlineMode?e:e.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==o.mode)if(l.inInlineMode){var e=t.data.$.clientX;t=t.data.$.clientY,x(l),R(l,!0);var n=l.view.editable,i=l.view.scroll;e>n.left-i.x&&e<n.right-i.x&&t>n.top-i.y&&t<n.bottom-i.y||(clearTimeout(a),a=null,l.line.detach())}else clearTimeout(a),a=null,l.line.detach()}),t.attachListener(t,"keyup",function(){l.hiddenMode=0}),t.attachListener(t,"keydown",function(t){if("wysiwyg"==o.mode)switch(t.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=1,l.line.detach()}}),t.attachListener(l.inInlineMode?t:e,"mousemove",function(t){if(r=!0,"wysiwyg"==o.mode&&!o.readOnly&&!a){var e={x:t.data.$.clientX,y:t.data.$.clientY};a=setTimeout(function(){l.mouse=e,a=l.trigger=null,x(l),r&&!l.hiddenMode&&o.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=Y(l,!0))&&((l.trigger=O(l)||I(l)||J(l))&&!C(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),r=!1)},30)}}),t.attachListener(n,"scroll",function(){"wysiwyg"==o.mode&&(l.line.detach(),A.webkit&&(l.hiddenMode=1,clearTimeout(i),i=setTimeout(function(){l.mouseDown||(l.hiddenMode=0)},50)))}),t.attachListener(N?e:n,"mousedown",function(){"wysiwyg"==o.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),t.attachListener(N?e:n,"mouseup",function(){l.hiddenMode=0,l.mouseDown=0}),o.addCommand("accessPreviousSpace",v(l)),o.addCommand("accessNextSpace",v(l,!0)),o.setKeystroke([[s.magicline_keystrokePrevious,"accessPreviousSpace"],[s.magicline_keystrokeNext,"accessNextSpace"]]),o.on("loadSnapshot",function(){var t,e,n,i;for(i in{p:1,br:1,div:1})for(n=(t=o.document.getElementsByTag(i)).count();n--;)if((e=t.getItem(n)).data("cke-magicline-hot"))return l.hotNode=e,void(l.lastCmdDirection="true"===e.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:g,boxTrigger:d,isLine:y,getAscendantTrigger:c,getNonEmptyNeighbour:f,getSize:k,that:l,triggerEdge:I,triggerEditable:O,triggerExpand:J})},this)}});var K=CKEDITOR.tools.extend,s=CKEDITOR.dom.element,i=s.createFromHtml,A=CKEDITOR.env,N=CKEDITOR.env.ie&&CKEDITOR.env.version<9,L=CKEDITOR.dtd,l={},P=128,F=64,M=32,$=16,B=4,j=2,z=1,q="\xa0",H=L.$listItem,o=L.$tableContent,U=K({},L.$nonEditable,L.$empty),W=L.$block,r=100,V="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",Z=V+"border-color:transparent;display:block;border-style:solid;",G="<span>"+q+"</span>";l[CKEDITOR.ENTER_BR]="br",l[CKEDITOR.ENTER_P]="p",l[CKEDITOR.ENTER_DIV]="div",d.prototype={set:function(t,e,n){return this.properties=t+e+(n||z),this},is:function(t){return(this.properties&t)==t}};var Y=function(){function a(t,e){var n=t.$.elementFromPoint(e.x,e.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,e,n){if(!t.mouse)return null;var i=t.doc,o=t.line.wrap,r=a(i,n=n||t.mouse);return e&&y(t,r)&&(o.hide(),r=a(i,n),o.show()),!r||r.type!=CKEDITOR.NODE_ELEMENT||!r.$||A.ie&&A.version<9&&!t.boundary.equals(r)&&!t.boundary.contains(r)?null:r}}(),X=CKEDITOR.dom.walker.whitespaces(),Q=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),J=function(){function o(e){var t,n,i;if(!b(l=e.element)||l.contains(e.editable)||l.isReadOnly())return null;if(t=(i=S(e,function(t,e){return!e.equals(t)},function(t,e){return Y(t,!0,e)},l)).upper,n=i.lower,u(e,t,n))return i.set(M,8);if(t&&l.contains(t))for(;!t.getParent().equals(l);)t=t.getParent();else t=l.getFirst(function(t){return c(e,t)});if(n&&l.contains(n))for(;!n.getParent().equals(l);)n=n.getParent();else n=l.getLast(function(t){return c(e,t)});if(!t||!n)return null;if(w(e,t),w(e,n),!p(e.mouse.y,t.size.top,n.size.bottom))return null;for(var o,r,a,s,l=Number.MAX_VALUE;n&&!n.equals(t)&&(r=t.getNext(e.isRelevant));)(o=Math.abs(h(e,t,r)-e.mouse.y))<l&&(l=o,a=t,s=r),w(e,t=r);return a&&s&&p(e.mouse.y,a.size.top,s.size.bottom)?(i.upper=a,i.lower=s,i.set(M,8)):null}function c(t,e){return!(e&&e.type==CKEDITOR.NODE_TEXT||Q(e)||E(e)||y(t,e)||e.type==CKEDITOR.NODE_ELEMENT&&e.$&&e.is("br"))}return function(t){var e,n=o(t);if(e=n){e=n.upper;var i=n.lower;e=!(!e||!i||E(i)||E(e)||i.equals(e)||e.equals(i)||i.contains(e)||e.contains(i))&&!!(T(t,e)&&T(t,i)&&u(t,e,i))}return e?n:null}}(),tt=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function r(t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||"form"!=t.getName())return[];for(var e=[],n=["style","className"],i=0;i<n.length;i++){var o=t.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),e.push([o,o.nextSibling]),o.remove())}return e}function a(t,e){if(t&&t.type==CKEDITOR.NODE_ELEMENT&&"form"==t.getName()&&0<e.length)for(var n=e.length-1;0<=n;n--){var i=e[n][0],o=e[n][1];o?i.insertBefore(o):i.appendTo(t)}}function p(t,e){var n=r(t),i={},o=t.$;return e||(i["class"]=o.className||"",o.className=""),i.inline=o.style.cssText||"",e||(o.style.cssText="position: static; overflow: visible"),a(n),i}function m(t,e){var n=r(t),i=t.$;"class"in e&&(i.className=e["class"]),"inline"in e&&(i.style.cssText=e.inline),a(n)}function g(t){if(!t.editable().isInline()){var e,n=CKEDITOR.instances;for(e in n){var i=n[e];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}t.editable().hasFocus&&(t.toolbox.focus(),t.focus())}}CKEDITOR.plugins.add("maximize",{init:function(r){function a(){var t=h.getViewPaneSize();r.resize(t.width,t.height,null,!0)}if(r.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var s,l,c,u=r.lang,d=CKEDITOR.document,h=d.getWindow(),f=CKEDITOR.TRISTATE_OFF;r.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var t=r.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}),e=r.ui.space("contents");if("wysiwyg"==r.mode){var n=r.getSelection();s=n&&n.getRanges(),l=h.getScrollPosition()}else{var i=r.editable().$;s=!CKEDITOR.env.ie&&[i.selectionStart,i.selectionEnd],l=[i.scrollLeft,i.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(h.on("resize",a),c=h.getScrollPosition(),n=r.container;n=n.getParent();)n.setCustomData("maximize_saved_styles",p(n)),n.setStyle("z-index",r.config.baseFloatZIndex-5);e.setCustomData("maximize_saved_styles",p(e,!0)),t.setCustomData("maximize_saved_styles",p(t,!0)),e={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},d.getDocumentElement().setStyles(e),!CKEDITOR.env.gecko&&d.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||d.getBody().setStyles(e),CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(0,0)},0):h.$.scrollTo(0,0),t.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),t.$.offsetLeft,t.setStyles({"z-index":r.config.baseFloatZIndex-5,left:"0px",top:"0px"}),t.addClass("cke_maximized"),a(),e=t.getDocumentPosition(),t.setStyles({left:-1*e.x+"px",top:-1*e.y+"px"}),CKEDITOR.env.gecko&&g(r)}else if(this.state==CKEDITOR.TRISTATE_ON){h.removeListener("resize",a);n=[e,t];for(var o=0;o<n.length;o++)m(n[o],n[o].getCustomData("maximize_saved_styles")),n[o].removeCustomData("maximize_saved_styles");for(n=r.container;n=n.getParent();)m(n,n.getCustomData("maximize_saved_styles")),n.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(c.x,c.y)},0):h.$.scrollTo(c.x,c.y),t.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(t.setStyle("display","inline"),setTimeout(function(){t.setStyle("display","block")},0)),r.fire("resize",{outerHeight:r.container.$.offsetHeight,contentsHeight:e.$.offsetHeight,outerWidth:r.container.$.offsetWidth})}this.toggleState(),(n=this.uiItems[0])&&(e=this.state==CKEDITOR.TRISTATE_OFF?u.maximize.maximize:u.maximize.minimize,(n=CKEDITOR.document.getById(n._.id)).getChild(1).setHtml(e),n.setAttribute("title",e),n.setAttribute("href",'javascript:void("'+e+'");')),"wysiwyg"==r.mode?s?(CKEDITOR.env.gecko&&g(r),r.getSelection().selectRanges(s),(i=r.getSelection().getStartElement())&&i.scrollIntoView(!0)):h.$.scrollTo(l.x,l.y):(s&&(i.selectionStart=s[0],i.selectionEnd=s[1]),i.scrollLeft=l[0],i.scrollTop=l[1]),s=l=null,f=this.state,r.fire("maximize",this.state)},canUndo:!1}),r.ui.addButton&&r.ui.addButton("Maximize",{label:u.maximize.maximize,command:"maximize",toolbar:"tools,10"}),r.on("mode",function(){var t=r.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:f)},null,null,100)}}})}(),CKEDITOR.plugins.add("newpage",{init:function(t){t.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(t){var e=this;t.setData(t.config.newpage_html||"",function(){t.focus(),setTimeout(function(){t.fire("afterCommandExec",{name:"newpage",command:e}),t.selectionChange()},200)})},async:!0}),t.ui.addButton&&t.ui.addButton("NewPage",{label:t.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}}),function(){function a(t){return{"aria-label":t,"class":"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:t}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var t=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+t+"}")},init:function(e){e.blockless||(e.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),e.ui.addButton&&e.ui.addButton("PageBreak",{label:e.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&e.on("contentDom",function(){e.document.on("click",function(t){(t=t.data.getTarget()).is("div")&&t.hasClass("cke_pagebreak")&&e.getSelection().selectElement(t)})}))},afterInit:function(e){function n(t){CKEDITOR.tools.extend(t.attributes,a(e.lang.pagebreak.alt),!0),t.children.length=0}var t=(i=e.dataProcessor)&&i.dataFilter,i=i&&i.htmlFilter,o=/page-break-after\s*:\s*always/i,r=/display\s*:\s*none/i;i&&i.addRules({attributes:{"class":function(t,e){var n=t.replace("cke_pagebreak","");if(n!=t){var i=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];e.children.length=0,e.add(i),delete(i=e.attributes)["aria-label"],delete i.contenteditable,delete i.title}return n}}},{applyToAll:!0,priority:5}),t&&t.addRules({elements:{div:function(t){if(t.attributes["data-cke-pagebreak"])n(t);else if(o.test(t.attributes.style)){var e=t.children[0];e&&"span"==e.name&&r.test(e.attributes.style)&&n(t)}}}})}}),CKEDITOR.plugins.pagebreakCmd={exec:function(t){var e=t.document.createElement("div",{attributes:a(t.lang.pagebreak.alt)});t.insertElement(e)},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(t){return(t=t.parent)&&"div"==t.name&&t.styles&&t.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"}}(),I={canUndo:!1,async:!0,exec:function(t,e){var n=t.lang,i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,t.getCommandKeystroke(CKEDITOR.env.ie?t.commands.paste:this)),o=e&&"undefined"!=typeof e.notification?e.notification:!e||!e.from||"keystrokeHandler"===e.from&&CKEDITOR.env.ie;n=o&&"string"==typeof o?o:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>");t.execCommand("paste",{type:"text",notification:!!o&&n})}},CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(e){var t=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;e.addCommand("pastetext",I),e.setKeystroke(t,"pastetext"),CKEDITOR.plugins.clipboard.addPasteButton(e,"PasteText",{label:e.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),e.config.forcePasteAsPlainText&&e.on("beforePaste",function(t){"html"!=t.data.type&&(t.data.type="text")}),e.on("pasteState",function(t){e.getCommand("pastetext").setState(t.data)})}}),function(){function c(t,e,n){var i=CKEDITOR.cleanWord;return i?n():(t=CKEDITOR.getUrl(t.config.pasteFromWordCleanupFile||e+"filter/default.js"),CKEDITOR.scriptLoader.load(t,n,null,!0)),!i}
CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(a){function t(t){var e,n=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,i=[];if(n&&t.editor.filter.check("img[src]")&&(0!==(e=n.extractTagsFromHtml(t.data.dataValue)).length&&(0!==(n=n.extractFromRtf(t.data.dataTransfer["text/rtf"])).length&&(CKEDITOR.tools.array.forEach(n,function(t){i.push(t.type?"data:"+t.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(t.hex)):null)},this),e.length===i.length))))for(n=0;n<e.length;n++)0===e[n].indexOf("file://")&&i[n]&&(t.data.dataValue=t.data.dataValue.replace(e[n],i[n]))}var s=0,l=this.path,e=void 0===a.config.pasteFromWord_inlineImages||a.config.pasteFromWord_inlineImages;a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(t,e){s=1,t.execCommand("paste",{type:"html",notification:!e||"undefined"==typeof e.notification||e.notification})}}),CKEDITOR.plugins.clipboard.addPasteButton(a,"PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),a.on("paste",function(t){var e=t.data,n=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?e.dataTransfer.getData("text/html",!0):null,i=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?e.dataTransfer.getData("text/rtf"):null,o={dataValue:n=n||e.dataValue,dataTransfer:{"text/rtf":i}};i=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,i=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(n)||i.test(n);if(n&&(s||i)&&(!1!==a.fire("pasteFromWord",o)||s)){e.dontFilter=!0;var r=c(a,l,function(){r?a.fire("paste",e):(!a.config.pasteFromWordPromptCleanup||s||confirm(a.lang.pastefromword.confirmCleanup))&&(o.dataValue=CKEDITOR.cleanWord(o.dataValue,a),a.fire("afterPasteFromWord",o),e.dataValue=o.dataValue,!0===a.config.forcePasteAsPlainText?e.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==a.config.forcePasteAsPlainText||(e.type="html")),s=0});r&&t.cancel()}},null,null,3),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&e&&a.on("afterPasteFromWord",t)}})}(),w={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(t){var e,n=(i=t.config).baseHref?'<base href="'+i.baseHref+'"/>':"";if(i.fullPage)e=t.getData().replace(/<head>/,"$&"+n).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+t.lang.preview.preview);else{var i="<body ";(r=t.document&&t.document.getBody())&&(r.getAttribute("id")&&(i+='id="'+r.getAttribute("id")+'" '),r.getAttribute("class")&&(i+='class="'+r.getAttribute("class")+'" ')),i+=">",e=t.config.docType+'<html dir="'+t.config.contentsLangDirection+'"><head>'+n+"<title>"+t.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(t.config.contentsCss)+"</head>"+i+t.getData()+"</body></html>"}n=640,i=420,r=80;try{var o=window.screen,r=(n=Math.round(.8*o.width),i=Math.round(.7*o.height),Math.round(.1*o.width))}catch(w){}if(!1===t.fire("contentPreview",t={dataValue:e}))return!1;var a;o="";return CKEDITOR.env.ie&&(window._cke_htmlToLoad=t.dataValue,a="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",o=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=t.dataValue,o=CKEDITOR.getUrl(k+"preview.html")),o=window.open(o,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+n+",height="+i+",left="+r),CKEDITOR.env.ie&&o&&(o.location=a),CKEDITOR.env.ie||CKEDITOR.env.gecko||((a=o.document).open(),a.write(t.dataValue),a.close()),!0}},CKEDITOR.plugins.add("preview",{init:function(t){t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(k=this.path,t.addCommand("preview",w),t.ui.addButton&&t.ui.addButton("Preview",{label:t.lang.preview.preview,command:"preview",toolbar:"document,40"}))}}),CKEDITOR.plugins.add("print",{init:function(t){t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(t.addCommand("print",CKEDITOR.plugins.print),t.ui.addButton&&t.ui.addButton("Print",{label:t.lang.print.toolbar,command:"print",toolbar:"document,50"}))}}),CKEDITOR.plugins.print={exec:function(t){CKEDITOR.env.gecko?t.window.$.print():t.document.$.execCommand("Print")},canUndo:!1,readOnly:1,modes:{wysiwyg:1}},CKEDITOR.plugins.add("removeformat",{init:function(t){t.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),t.ui.addButton&&t.ui.addButton("RemoveFormat",{label:t.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(r){for(var t,a=r._.removeFormatRegex||(r._.removeFormatRegex=new RegExp("^(?:"+r.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=r._.removeAttributes||(r._.removeAttributes=r.config.removeFormatAttributes.split(",")),s=CKEDITOR.plugins.removeformat.filter,n=r.getSelection().getRanges(),i=n.createIterator(),o=function(t){return t.type==CKEDITOR.NODE_ELEMENT};t=i.getNextRange();){t.collapsed||t.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=t.createBookmark(),c=l.startNode,u=l.endNode,d=function(t){for(var e,n=r.elementPath(t),i=n.elements,o=1;(e=i[o])&&!e.equals(n.block)&&!e.equals(n.blockLimit);o++)a.test(e.getName())&&s(r,e)&&t.breakParent(e)};if(d(c),u)for(d(u),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(u);)if(c.isReadOnly()){if(c.getPosition(u)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(o)}else d=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!s(r,c)||(a.test(c.getName())?c.remove(1):(c.removeAttributes(e),r.fire("removeFormatCleanup",c))),c=d;t.moveToBookmark(l)}r.forceNextSelectionCheck(),r.getSelection().selectRanges(n)}}},filter:function(t,e){for(var n=t._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(t)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",R={readOnly:1,modes:{wysiwyg:1,source:1},exec:function(t){if(t.fire("save")&&(t=t.element.$.form))try{t.submit()}catch(R){t.submit.click&&t.submit.click()}}},CKEDITOR.plugins.add("save",{init:function(t){t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.addCommand("save",R).startDisabled=!t.element.$.form,t.ui.addButton&&t.ui.addButton("Save",{label:t.lang.save.toolbar,command:"save",toolbar:"document,10"}))}}),CKEDITOR.plugins.add("selectall",{init:function(t){t.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(t){var e=t.editable();if(e.is("textarea"))t=e.$,CKEDITOR.env.ie&&t.createTextRange?t.createTextRange().execCommand("SelectAll"):(t.selectionStart=0,t.selectionEnd=t.value.length),t.focus();else{if(e.is("body"))t.document.$.execCommand("SelectAll",!1,null);else{var n=t.createRange();n.selectNodeContents(e),n.select()}t.forceNextSelectionCheck(),t.selectionChange()}},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SelectAll",{label:t.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}}),x={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state!=CKEDITOR.TRISTATE_ON||t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!t.focusManager.hasFocus?"removeClass":"attachClass";t.editable()[e]("cke_show_blocks")}}},CKEDITOR.plugins.add("showblocks",{onLoad:function(){var t,e,n,i,o,r,a="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),s=CKEDITOR.getUrl(this.path),l=!(CKEDITOR.env.ie&&CKEDITOR.env.version<9),c=l?":not([contenteditable=false]):not(.cke_show_blocks_off)":"";for(t=e=n=i="";o=a.pop();)t+=".cke_show_blocks "+o+c+(r=a.length?",":""),n+=".cke_show_blocks.cke_contents_ltr "+o+c+r,i+=".cke_show_blocks.cke_contents_rtl "+o+c+r,e+=".cke_show_blocks "+o+c+"{background-image:url("+CKEDITOR.getUrl(s+"images/block_"+o+".png")+")}";CKEDITOR.addCss((t+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(e,n+"{background-position:top left;padding-left:8px}",i+"{background-position:top right;padding-right:8px}")),l||CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(t){function e(){n.refresh(t)}if(!t.blockless){var n=t.addCommand("showblocks",x);n.canUndo=!1,t.config.startupOutlineBlocks&&n.setState(CKEDITOR.TRISTATE_ON),t.ui.addButton&&t.ui.addButton("ShowBlocks",{label:t.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"}),t.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(t.on("focus",e),t.on("blur",e)),t.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)})}}}),S={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";t.editable()[e]("cke_show_borders")}}},CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var t;t=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(t)},init:function(e){var t=e.addCommand("showborders",S);(t.canUndo=!1)!==e.config.startupShowBorders&&t.setState(CKEDITOR.TRISTATE_ON),e.on("mode",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)},null,null,100),e.on("contentDom",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)}),e.on("removeFormatCleanup",function(t){t=t.data,e.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&t.is("table")&&(!t.hasAttribute("border")||parseInt(t.getAttribute("border"),10)<=0)&&t.addClass("cke_show_border")})},afterInit:function(t){var e=t.dataProcessor;t=e&&e.dataFilter,e=e&&e.htmlFilter,t&&t.addRules({elements:{table:function(t){var e=(t=t.attributes)["class"],n=parseInt(t.border,10);n&&!(n<=0)||e&&-1!=e.indexOf("cke_show_border")||(t["class"]=(e||"")+" cke_show_border")}}}),e&&e.addRules({elements:{table:function(t){var e=(t=t.attributes)["class"];e&&(t["class"]=e.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;"table"!=e&&"tableProperties"!=e||((e=(t=t.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(e.commit,function(i){return function(t,e){i.apply(this,arguments);var n=parseInt(this.getValue(),10);e[!n||n<=0?"addClass":"removeClass"]("cke_show_border")}}),(t=(t=t.getContents("advanced"))&&t.get("advCSSClasses"))&&(t.setup=CKEDITOR.tools.override(t.setup,function(t){return function(){t.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),t.commit=CKEDITOR.tools.override(t.commit,function(n){return function(t,e){n.apply(this,arguments),parseInt(e.getAttribute("border"),10)||e.addClass("cke_show_border")}})))}),function(){CKEDITOR.plugins.add("sourcearea",{init:function(n){function i(){var t=e&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),t&&this.focus()}if(n.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var t=CKEDITOR.plugins.sourcearea;n.addMode("source",function(t){var e=n.ui.space("contents").getDocument().createElement("textarea");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",n.config.sourceAreaTabSize||4))),e.setAttribute("dir","ltr"),e.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),n.ui.space("contents").append(e),(e=n.editable(new o(n,e))).setData(n.getData(1)),CKEDITOR.env.ie&&(e.attachListener(n,"resize",i,e),e.attachListener(CKEDITOR.document.getWindow(),"resize",i,e),CKEDITOR.tools.setTimeout(i,0,e)),n.fire("ariaWidget",this),t()}),n.addCommand("source",t.commands.source),n.ui.addButton&&n.ui.addButton("Source",{label:n.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),n.on("mode",function(){n.getCommand("source").setState("source"==n.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var o=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(t){this.setValue(t),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(t){this[(t?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){o.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(t){"wysiwyg"==t.mode&&t.fire("saveSnapshot"),t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),t.setMode("source"==t.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var n=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,n.langEntries[t]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(t){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime(),"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"),CKEDITOR.document.appendStyleSheet(this.path+"dialogs/dialog.css")},init:function(i){var o=this,n=CKEDITOR.plugins.scayt;this.bindEvents(i),this.parseConfig(i),this.addRule(i),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(i);var t=i.lang.scayt,e=CKEDITOR.env;i.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:t.text_title,title:i.plugins.wsc?i.lang.wsc.title:t.text_title,modes:{wysiwyg:!(e.ie&&(e.version<8||e.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=i.ui.instances.Scayt.getState();i.scayt&&(t=n.state.scayt[i.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),i.fire("scaytButtonState",t)},onRender:function(){var e=this;i.on("scaytButtonState",function(t){void 0!==typeof t.data&&e.setState(t.data)})},onMenu:function(){var t=i.scayt;i.getMenuItem("scaytToggle").label=i.lang.scayt[t&&n.state.scayt[i.name]?"btn_disable":"btn_enable"];var e={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:i.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.config.scayt_uiTabs[0]||delete e.scaytOptions,i.config.scayt_uiTabs[1]||delete e.scaytLangs,i.config.scayt_uiTabs[2]||delete e.scaytDict,t&&!CKEDITOR.plugins.scayt.isNewUdSupported(t)&&(delete e.scaytDict,i.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),e}}),i.contextMenu&&i.addMenuItems&&(i.contextMenu.addListener(function(){var t,e,n=i.scayt;return n&&(e=n.getSelectionNode())&&(t=o.menuGenerator(i,e),n.showBanner("."+i.contextMenu._.definition.panel.className.split(" ").join(" ."))),t}),i.contextMenu._.onHide=CKEDITOR.tools.override(i.contextMenu._.onHide,function(e){return function(){var t=i.scayt;return t&&t.hideBanner(),e.apply(this)}}))},addMenuItems:function(i){var e=this,n=CKEDITOR.plugins.scayt;i.addMenuGroup("scaytButton");for(var t=i.config.scayt_contextMenuItemsOrder.split("|"),o=0;o<t.length;o++)t[o]="scayt_"+t[o];if((t=["grayt_description","grayt_suggest","grayt_control"].concat(t))&&t.length)for(o=0;o<t.length;o++)i.addMenuGroup(t[o],o-10);i.addCommand("scaytToggle",{exec:function(t){var e=t.scayt;n.state.scayt[t.name]=!n.state.scayt[t.name],!0===n.state.scayt[t.name]?e||n.createScayt(t):e&&n.destroy(t)}}),i.addCommand("scaytAbout",{exec:function(t){t.scayt.tabToOpen="about",n.openDialog(e.dialogName,t)}}),i.addCommand("scaytOptions",{exec:function(t){t.scayt.tabToOpen="options",n.openDialog(e.dialogName,t)}}),i.addCommand("scaytLangs",{exec:function(t){t.scayt.tabToOpen="langs",n.openDialog(e.dialogName,t)}}),i.addCommand("scaytDict",{exec:function(t){t.scayt.tabToOpen="dictionaries",n.openDialog(e.dialogName,t)}}),t={scaytToggle:{label:i.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:i.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:i.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:i.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:i.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},i.plugins.wsc&&(t.WSC={label:i.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,e=i.scayt,n=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.container.getText():i.document.getBody().getText();(n=n.replace(/\s/g,""))?(e&&t.state.scayt[i.name]&&e.setMarkupPaused&&e.setMarkupPaused(!0),i.lockSelection(),i.execCommand("checkspell")):alert("Nothing to check!")}}),i.addMenuItems(t)},bindEvents:function(r){var a=CKEDITOR.plugins.scayt,o=r.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,e=function(){a.destroy(r)},s=function(){!a.state.scayt[r.name]||r.readOnly||r.scayt||a.createScayt(r)},n=function(){var t=r.editable();t.attachListener(t,"focus",function(t){var e,n;if(CKEDITOR.plugins.scayt&&!r.scayt&&setTimeout(s,0),t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[r.name]&&r.scayt,(o||t)&&r._.savedSelection){t=!(t=r._.savedSelection.getSelectedElement())&&r._.savedSelection.getRanges();for(var i=0;i<t.length;i++)"string"==typeof(n=t[i]).startContainer.$.nodeValue&&(((e=n.startContainer.getText().length)<n.startOffset||e<n.endOffset)&&r.unlockSelection(!1))}},this,null,-10)},t=function(){o?r.config.scayt_inlineModeImmediateMarkup?s():(r.on("blur",function(){setTimeout(e,0)}),r.on("focus",s),r.focusManager.hasFocus&&s()):s(),n();var t=r.editable();t.attachListener(t,"mousedown",function(t){t=t.data.getTarget();var e=r.widgets&&r.widgets.getByElement(t);e&&(e.wrapper=t.getAscendant(function(t){return t.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};r.on("contentDom",t),r.on("beforeCommandExec",function(t){var e=r.scayt,n=!1,i=!1,o=!0;t.data.name in a.options.disablingCommandExec&&"wysiwyg"==r.mode?e&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==t.data.name&&"italic"!==t.data.name&&"underline"!==t.data.name&&"strike"!==t.data.name&&"subscript"!==t.data.name&&"superscript"!==t.data.name&&"enter"!==t.data.name&&"cut"!==t.data.name&&"language"!==t.data.name||!e||("cut"===t.data.name&&(i=!(o=!1)),"language"===t.data.name&&(i=n=!0),r.fire("reloadMarkupScayt",{removeOptions:{removeInside:o,forceBookmark:i,language:n},timeout:0}))}),r.on("beforeSetMode",function(t){"source"==t.data&&((t=r.scayt)&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),r.document&&r.document.getBody().removeAttribute("_jquid"))}),r.on("afterCommandExec",function(t){"wysiwyg"!=r.mode||"undo"!=t.data.name&&"redo"!=t.data.name||setTimeout(function(){a.reloadMarkup(r.scayt)},250)}),r.on("readOnly",function(t){var e;t&&(e=r.scayt,!0===t.editor.readOnly?e&&e.fire("removeMarkupInDocument",{}):e?a.reloadMarkup(e):"wysiwyg"==t.editor.mode&&!0===a.state.scayt[t.editor.name]&&(a.createScayt(r),t.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),r.on("beforeDestroy",e),r.on("setData",function(){e(),(r.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||r.plugins.divarea)&&t()},this,null,50),r.on("reloadMarkupScayt",function(t){var e=t.data&&t.data.removeOptions,n=t.data&&t.data.timeout,i=t.data&&t.data.language,o=r.scayt;o&&setTimeout(function(){i&&(e.selectionNode=r.plugins.language.getCurrentLangElement(r),e.selectionNode=e.selectionNode&&e.selectionNode.$||null),o.removeMarkupInSelectionNode(e),a.reloadMarkup(o)},n||0)}),r.on("insertElement",function(){r.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),r.on("insertHtml",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("insertText",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("scaytDialogShown",function(t){t.data.selectPage(r.scayt.tabToOpen)})},parseConfig:function(t){if((i=CKEDITOR.plugins.scayt).replaceOldOptionsNames(t.config),"boolean"!=typeof t.config.scayt_autoStartup&&(t.config.scayt_autoStartup=!1),i.state.scayt[t.name]=t.config.scayt_autoStartup,"boolean"!=typeof t.config.grayt_autoStartup&&(t.config.grayt_autoStartup=!1),"boolean"!=typeof t.config.scayt_inlineModeImmediateMarkup&&(t.config.scayt_inlineModeImmediateMarkup=!1),i.state.grayt[t.name]=t.config.grayt_autoStartup,t.config.scayt_contextCommands||(t.config.scayt_contextCommands="ignoreall|add"),t.config.scayt_contextMenuItemsOrder||(t.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),t.config.scayt_sLang||(t.config.scayt_sLang="en_US"),(void 0===t.config.scayt_maxSuggestions||"number"!=typeof t.config.scayt_maxSuggestions||t.config.scayt_maxSuggestions<0)&&(t.config.scayt_maxSuggestions=3),(void 0===t.config.scayt_minWordLength||"number"!=typeof t.config.scayt_minWordLength||t.config.scayt_minWordLength<1)&&(t.config.scayt_minWordLength=3),void 0!==t.config.scayt_customDictionaryIds&&"string"==typeof t.config.scayt_customDictionaryIds||(t.config.scayt_customDictionaryIds=""),void 0!==t.config.scayt_userDictionaryName&&"string"==typeof t.config.scayt_userDictionaryName||(t.config.scayt_userDictionaryName=null),"string"==typeof t.config.scayt_uiTabs&&3===t.config.scayt_uiTabs.split(",").length){var e=[],n=[];t.config.scayt_uiTabs=t.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(t.config.scayt_uiTabs,function(t){1===Number(t)||0===Number(t)?(n.push(!0),e.push(Number(t))):n.push(!1)}),null===CKEDITOR.tools.search(n,!1)?t.config.scayt_uiTabs=e:t.config.scayt_uiTabs=[1,1,1]}else t.config.scayt_uiTabs=[1,1,1];if("string"!=typeof t.config.scayt_serviceProtocol&&(t.config.scayt_serviceProtocol=null),"string"!=typeof t.config.scayt_serviceHost&&(t.config.scayt_serviceHost=null),"string"!=typeof t.config.scayt_servicePort&&(t.config.scayt_servicePort=null),"string"!=typeof t.config.scayt_servicePath&&(t.config.scayt_servicePath=null),t.config.scayt_moreSuggestions||(t.config.scayt_moreSuggestions="on"),"string"!=typeof t.config.scayt_customerId&&(t.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof t.config.scayt_customPunctuation&&(t.config.scayt_customPunctuation="-"),"string"!=typeof t.config.scayt_srcUrl&&(i=-1!=(i=document.location.protocol).search(/https?:/)?i:"http:",t.config.scayt_srcUrl=i+"//svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,"boolean"!=typeof t.config.scayt_multiLanguageMode&&(t.config.scayt_multiLanguageMode=!1),"object"!=typeof t.config.scayt_multiLanguageStyles&&(t.config.scayt_multiLanguageStyles={}),t.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof t.config.scayt_ignoreAllCapsWords&&(t.config.scayt_ignoreAllCapsWords=!1),t.config.scayt_ignoreDomainNames&&"boolean"!=typeof t.config.scayt_ignoreDomainNames&&(t.config.scayt_ignoreDomainNames=!1),t.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof t.config.scayt_ignoreWordsWithMixedCases&&(t.config.scayt_ignoreWordsWithMixedCases=!1),t.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof t.config.scayt_ignoreWordsWithNumbers&&(t.config.scayt_ignoreWordsWithNumbers=!1),t.config.scayt_disableOptionsStorage){var i=CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage)?t.config.scayt_disableOptionsStorage:"string"==typeof t.config.scayt_disableOptionsStorage?[t.config.scayt_disableOptionsStorage]:void 0,r="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),a=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,l=CKEDITOR.tools.indexOf;t.config.scayt_disableOptionsStorage=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=!!s(t,"options");if(!s(r,i)||o&&s(a,function(t){if("lang"===t)return!1}))return;if(s(a,i)&&a.splice(l(a,i),1),"all"===i||o&&s(t,"lang"))return[];"options"===i&&(a=["lang"])}return e.concat(a)}(i)}},addRule:function(n){var i=CKEDITOR.plugins.scayt,t=(o=n.dataProcessor)&&o.htmlFilter,e=n._.elementsPath&&n._.elementsPath.filters,o=o&&o.dataFilter,r=n.addRemoveFormatFilter,a=function(t){if(n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute)))return!1},s=function(t){var e=!0;return n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute))&&(e=!1),e};e&&e.push(a),o&&o.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),t&&t.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),r&&r.call(n,s)},scaytMenuDefinition:function(t){var e=this,n=CKEDITOR.plugins.scayt;return{scayt:{scayt_ignore:{label:(t=t.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(t){t.scayt.ignoreWord()}},scayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(t){t.scayt.ignoreAllWords()}},scayt_add:{label:t.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(t){var e=t.scayt;setTimeout(function(){e.addWordToUserDictionary()},10)}},scayt_option:{label:t.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(t){t.scayt.tabToOpen="options",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[0]}},scayt_language:{label:t.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(t){t.scayt.tabToOpen="langs",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[1]}},scayt_dictionary:{label:t.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(t){t.scayt.tabToOpen="dictionaries",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[2]}},scayt_about:{label:t.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(t){t.scayt.tabToOpen="about",n.openDialog(e.dialogName,t)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(){}},grayt_ignore:{label:t.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(t){t.scayt.ignorePhrase()}},grayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(t){t.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(t,e,n){var i={},o={},r=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=t.scayt;if(0<e.length&&"no_any_suggestions"!==e[0])if(n)for(n=0;n<e.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),n<t.config.scayt_maxSuggestions?(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF):(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_moresuggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF,"on"===t.config.scayt_moreSuggestions&&(t.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return o}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<e.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),t.addMenuItem(l,{label:e[n],command:l,group:"grayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF;else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,t.addCommand("no_scayt_suggest",{exec:function(){}}),t.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(t,e){var n,i,o,r,a=t.scayt,s=this.scaytMenuDefinition(t),l={},c=t.config.scayt_contextCommands.split("|"),u=e.getAttribute(a.getLangAttribute())||a.getLang();if(i=a.isScaytNode(e),o=a.isGraytNode(e),i?(s=s.scayt,n=e.getAttribute(a.getScaytNodeAttributeName()),a.fire("getSuggestionsList",{lang:u,word:n}),l=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)):o&&(s=s.grayt,l=e.getAttribute(a.getGraytNodeAttributeName()),a.getGraytNodeRuleAttributeName?(n=e.getAttribute(a.getGraytNodeRuleAttributeName()),a.getProblemDescriptionText(l,n,u)):a.getProblemDescriptionText(l,u),r=a.getProblemDescriptionText(l,n,u),s.grayt_problemdescription&&r&&(r=r.replace(/([.!?])\s/g,"$1<br>"),s.grayt_problemdescription.label=r),a.fire("getGrammarSuggestionsList",{lang:u,phrase:l,rule:n}),l=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)),
i&&"off"==t.config.scayt_contextCommands)return l;for(var d in s)i&&-1==CKEDITOR.tools.indexOf(c,d.replace("scayt_",""))&&"all"!=t.config.scayt_contextCommands||o&&"grayt_problemdescription"!==d&&-1==CKEDITOR.tools.indexOf(c,d.replace("grayt_",""))&&"all"!=t.config.scayt_contextCommands||(l[d]="undefined"!=typeof s[d].state?s[d].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof s[d].verification||s[d].verification(t)||delete l[d],t.addCommand(d,{exec:s[d].exec}),t.addMenuItem(d,{label:t.lang.scayt[s[d].label]||s[d].label,command:d,group:s[d].group,order:s[d].order}));return l},createCommand:function(n,i,o){return{exec:function(t){t=t.scayt;var e={};e[i]=n,t.replaceSelectionNode(e),"startGrammarCheck"===o&&t.removeMarkupInSelectionNode({grammarOnly:!0}),t.fire(o)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var t;if(n=(n=CKEDITOR.version.match(/^\d(\.\d*)*/))&&n[0]){t="4.5.7";var e,n=n.replace(/\./g,"");t=t.replace(/\./g,""),e=0<=(e=n.length-t.length)?e:0,t=parseInt(n)>=parseInt(t)*Math.pow(10,e)}return t?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:"",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:function(t,e){var n=e.scayt;n.isAllModulesReady&&!1===n.isAllModulesReady()||(e.lockSelection(),e.openDialog(t))},alarmCompatibilityMessage:function(){this.warningCounter<5&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(t){return!!t.getUserDictionary},reloadMarkup:function(t){var e;t&&(e=t.getScaytLangList(),t.reloadMarkup?t.reloadMarkup():(this.alarmCompatibilityMessage(),e&&e.ltr&&e.rtl&&t.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(t){for(var e in t)e in this.backCompatibilityMap&&(t[this.backCompatibilityMap[e]]=t[e],delete t[e])},createScayt:function(t){var r=this,a=CKEDITOR.plugins.scayt;this.loadScaytLibrary(t,function(i){function t(t){return new SCAYT.CKSCAYT(t,function(){},function(){})}var e;if(i.window&&(e="BODY"==i.editable().$.nodeName?i.window.getFrame():i.editable()),e){var n;e={lang:i.config.scayt_sLang,container:e.$,customDictionary:i.config.scayt_customDictionaryIds,userDictionaryName:i.config.scayt_userDictionaryName,localization:i.langCode,customer_id:i.config.scayt_customerId,customPunctuation:i.config.scayt_customPunctuation,debug:i.config.scayt_debug,data_attribute_name:r.options.data_attribute_name,misspelled_word_class:r.options.misspelled_word_class,problem_grammar_data_attribute:r.options.problem_grammar_data_attribute,problem_grammar_class:r.options.problem_grammar_class,"options-to-restore":i.config.scayt_disableOptionsStorage,focused:i.editable().hasFocus,ignoreElementsRegex:i.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:i.config.grayt_elementsToIgnore,minWordLength:i.config.scayt_minWordLength,multiLanguageMode:i.config.scayt_multiLanguageMode,multiLanguageStyles:i.config.scayt_multiLanguageStyles,graytAutoStartup:i.config.grayt_autoStartup,charsToObserve:a.charsToObserve},i.config.scayt_serviceProtocol&&(e.service_protocol=i.config.scayt_serviceProtocol),i.config.scayt_serviceHost&&(e.service_host=i.config.scayt_serviceHost),i.config.scayt_servicePort&&(e.service_port=i.config.scayt_servicePort),i.config.scayt_servicePath&&(e.service_path=i.config.scayt_servicePath),"boolean"==typeof i.config.scayt_ignoreAllCapsWords&&(e["ignore-all-caps-words"]=i.config.scayt_ignoreAllCapsWords),"boolean"==typeof i.config.scayt_ignoreDomainNames&&(e["ignore-domain-names"]=i.config.scayt_ignoreDomainNames),"boolean"==typeof i.config.scayt_ignoreWordsWithMixedCases&&(e["ignore-words-with-mixed-cases"]=i.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof i.config.scayt_ignoreWordsWithNumbers&&(e["ignore-words-with-numbers"]=i.config.scayt_ignoreWordsWithNumbers);try{n=t(e)}catch(o){r.alarmCompatibilityMessage(),delete e.charsToObserve,n=t(e)}n.subscribe("suggestionListSend",function(t){for(var e={},n=[],i=0;i<t.suggestionList.length;i++)e["word_"+t.suggestionList[i]]||(e["word_"+t.suggestionList[i]]=t.suggestionList[i],n.push(t.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n}),n.subscribe("selectionIsChanged",function(t){i.getSelection().isLocked&&"restoreSelection"!==t.action&&i.lockSelection(),"restoreSelection"===t.action&&i.selectionChange(!0)}),n.subscribe("graytStateChanged",function(t){a.state.grayt[i.name]=t.state}),n.addMarkupHandler&&n.addMarkupHandler(function(t){var e=i.editable(),n=e.getCustomData(t.charName);n&&(n.$=t.node,e.setCustomData(t.charName,n))}),i.scayt=n,i.fire("scaytButtonState",i.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else a.state.scayt[i.name]=!1})},destroy:function(t){t.scayt&&t.scayt.destroy(),delete t.scayt,t.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(t,e){var n,i=function(){CKEDITOR.fireOnce("scaytReady"),t.scayt||"function"==typeof e&&e(t)};"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(n=t.config.scayt_srcUrl+"?"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(n,function(t){t&&i()})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&i()}},CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;t=t.data.definition.dialog,"scaytDialog"!==e&&"checkspell"!==e&&(t.on("show",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0)}),t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1)})),"scaytDialog"===e&&t.on("cancel",function(){return!1},this,null,-1),"checkspell"===e&&t.on("cancel",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),t.unlockSelection()},this,null,-2),"link"===e&&t.on("ok",function(t){var e=t.sender&&t.sender.getParentEditor();e&&setTimeout(function(){e.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)}),"replace"===e&&t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;t&&setTimeout(function(){n&&(n.fire("removeMarkupInDocument",{}),e.reloadMarkup(n))},0)})}),CKEDITOR.on("scaytReady",function(){!0===CKEDITOR.config.scayt_handleCheckDirty&&((t=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(t.checkDirty,function(i){return function(){var t=null,e=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(t="ready"==this.status){var n=e.removeMarkupFromString(this.getSnapshot());e=e.removeMarkupFromString(this._.previousValue),t=t&&e!==n}}else t=i.call(this);return t}}),t.resetDirty=CKEDITOR.tools.override(t.resetDirty,function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}}));if(!0===CKEDITOR.config.scayt_handleUndoRedo){var t,e="function"==typeof(t=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";t[e]=CKEDITOR.tools.override(t[e],function(r){return function(t){var e=t.editor.scayt,n=this.contents,i=t.contents,o=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.editor.name]&&t.editor.scayt&&(this.contents=e.removeMarkupFromString(n)||"",t.contents=e.removeMarkupFromString(i)||""),o=r.apply(this,arguments),this.contents=n,t.contents=i,o}})}}),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(a){var s=a.config,l=a.lang.stylescombo,c={},u=[],d=[];a.on("stylesSet",function(t){if(t=t.data.styles){for(var e,n,i,o=0,r=t.length;o<r;o++)e=t[o],a.blockless&&e.element in CKEDITOR.dtd.$block||"string"==typeof e.type&&!CKEDITOR.style.customHandlers[e.type]||(n=e.name,e=new CKEDITOR.style(e),a.filter.customConfig&&!a.filter.check(e))||(e._name=n,e._.enterMode=s.enterMode,e._.type=i=e.assignedTo||e.type,e._.weight=o+1e3*(i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?2:3),c[n]=e,u.push(e),d.push(e));u.sort(function(t,e){return t._.weight-e._.weight})}}),a.ui.addRichCombo("Styles",{label:l.label,title:l.panelTitle,toolbar:"styles,10",allowedContent:d,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!0,attributes:{"aria-label":l.panelTitle}},init:function(){var t,e,n,i,o,r;for(o=0,r=u.length;o<r;o++)e=(t=u[o])._name,(i=t._.type)!=n&&(this.startGroup(l["panelTitle"+String(i)]),n=i),this.add(e,t.type==CKEDITOR.STYLE_OBJECT?e:t.buildPreview(),e);this.commit()},onClick:function(t){a.focus(),a.fire("saveSnapshot"),t=c[t];var e=a.elementPath();t.group&&t.removeStylesFromSameGroup(a)?a.applyStyle(t):a[t.checkActive(e,a)?"removeStyle":"applyStyle"](t),a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(t){for(var e,n=this.getValue(),i=0,o=(t=t.data.path.elements).length;i<o;i++)for(var r in e=t[i],c)if(c[r].checkElementRemovable(e,!0,a))return void(r!=n&&this.setValue(r));this.setValue("")},this)},onOpen:function(){var t=(t=a.getSelection()).getSelectedElement()||t.getStartElement()||a.editable(),e=(t=a.elementPath(t),[0,0,0,0]);for(var n in this.showAll(),this.unmarkAll(),c){var i=c[n],o=i._.type;i.checkApplicable(t,a,a.activeFilter)?e[o]++:this.hideItem(n),i.checkActive(t,a)&&this.mark(n)}e[CKEDITOR.STYLE_BLOCK]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),e[CKEDITOR.STYLE_INLINE]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),e[CKEDITOR.STYLE_OBJECT]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=a.elementPath();if(t){for(var e in c)if(c[e].checkApplicable(t,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={},u=[]}})}}),function(){function o(s){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var e,n=t.getSelection();if(e=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){n=t.createRange();if((o=CKEDITOR.tools.tryThese(function(){var t=e.getParent().$.cells[e.$.cellIndex+(s?-1:1)];return t.parentNode.parentNode,t},function(){var t;return(t=(t=e.getParent()).getAscendant("table").$.rows[t.$.rowIndex+(s?-1:1)]).cells[s?t.cells.length-1:0]}))||s){if(!o)return!0;o=new CKEDITOR.dom.element(o),n.moveToElementEditStart(o),n.checkStartOfBlock()&&n.checkEndOfBlock()||n.selectNodeContents(o)}else{for(var i=e.getAscendant("table").$,o=e.getParent().$.cells,r=(i=new CKEDITOR.dom.element(i.insertRow(-1),t.document),0),a=o.length;r<a;r++)i.append(new CKEDITOR.dom.element(o[r],t.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(i)}return n.select(!0),!0}}return!1}}}var r={editorFocus:!1,modes:{wysiwyg:1,source:1}},a={exec:function(t){t.container.focusNext(!0,t.tabIndex)}},s={exec:function(t){t.container.focusPrevious(!0,t.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(e){for(var t=!1!==e.config.enableTabKeyTools,n=e.config.tabSpaces||0,i="";n--;)i+="\xa0";i&&e.on("key",function(t){9==t.data.keyCode&&(e.insertText(i),t.cancel())}),t&&e.on("key",function(t){(9==t.data.keyCode&&e.execCommand("selectNextCell")||t.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand("selectPreviousCell"))&&t.cancel()}),e.addCommand("blur",CKEDITOR.tools.extend(a,r)),e.addCommand("blurBack",CKEDITOR.tools.extend(s,r)),e.addCommand("selectNextCell",o()),e.addCommand("selectPreviousCell",o(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(t,e){var n,i,o,r,a,s,l=void 0===e?this.getTabIndex():e;if(l<=0)for(a=this.getNextSourceNode(t,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){o=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&a.equals(this)){if(i=!0,t){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(a)&&(n=1);if(a.isVisible()&&!((s=a.getTabIndex())<0)){if(n&&s==l){o=a;break}l<s&&(!o||!r||s<r)?(o=a,r=s):o||0!==s||(o=a,r=s)}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(t,e){for(var n,i,o,r,a=void 0===e?this.getTabIndex():e,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&l.equals(this)){if(i=!0,t){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(l)&&(n=1);if(l.isVisible()&&!((r=l.getTabIndex())<0))if(a<=0){if(n&&0===r){o=l;break}s<r&&(o=l,s=r)}else{if(n&&r==a){o=l;break}r<a&&(!o||s<r)&&(o=l,s=r)}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(t){function e(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!t.blockless){var n=t.lang.table;t.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(t.plugins.dialogadvtab?"table"+t.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(t){if(t.styles){var e;if(t.styles.border)e=CKEDITOR.tools.style.parse.border(t.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var n=t.styles;n["border-left"]&&n["border-left"]===n["border-right"]&&n["border-right"]===n["border-top"]&&n["border-top"]===n["border-bottom"]&&(e=CKEDITOR.tools.style.parse.border(n["border-top"]))}e&&e.style&&"solid"===e.style&&e.width&&0!==parseFloat(e.width)&&(t.attributes.border=1),"collapse"==t.styles["border-collapse"]&&(t.attributes.cellspacing=0)}}}]]})),t.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",e())),t.addCommand("tableDelete",e({exec:function(t){var e=t.elementPath().contains("table",1);if(e){var n=e.getParent(),i=t.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(e=n),(t=t.createRange()).moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),t.select()}}})),t.ui.addButton&&t.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),t.addMenuItems&&t.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),t.on("doubleclick",function(t){t.data.element.is("table")&&(t.data.dialog="tableProperties")}),t.contextMenu&&t.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function _(t,e){function n(t){return!e||e.contains(t)&&t.getAscendant("table",!0).equals(e)}function i(t){0<o.length||t.type!=CKEDITOR.NODE_ELEMENT||!g.test(t.getName())||t.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,t,"selected_cell",!0),o.push(t))}var o=[],r={};if(!t)return o;for(var a=t.getRanges(),s=0;s<a.length;s++){var l,c;if((l=a[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&o.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(r,c,"selected_cell",!0),o.push(c))}return CKEDITOR.dom.element.clearAllMarkers(r),o}function r(t,e){var n=(i=(a=v(t)?t:_(t))[0]).getAscendant("table"),i=i.getDocument(),o=(s=a[0].getParent()).$.rowIndex,r=(a=a[a.length-1]).getParent().$.rowIndex+a.$.rowSpan-1,a=new CKEDITOR.dom.element(n.$.rows[r]),s=(o=e?o:r,e?s:a);for(n=(a=CKEDITOR.tools.buildTableMap(n))[o],o=e?a[o-1]:a[o+1],a=a[0].length,i=i.createElement("tr"),r=0;n[r]&&r<a;r++){var l;1<n[r].rowSpan&&o&&n[r]==o[r]?(l=n[r]).rowSpan+=1:((l=new CKEDITOR.dom.element(n[r]).clone()).removeAttribute("rowSpan"),l.appendBogus(),i.append(l),l=l.$),r+=l.colSpan-1}return e?i.insertBefore(s):i.insertAfter(s),i}function h(t){if(t instanceof CKEDITOR.dom.selection){var e=t.getRanges(),n=(a=_(t))[0].getAscendant("table"),i=CKEDITOR.tools.buildTableMap(n),o=a[0].getParent().$.rowIndex,r=(a=a[a.length-1]).getParent().$.rowIndex+a.$.rowSpan-1,a=[];for(t.reset(),t=o;t<=r;t++){for(var s=i[t],l=new CKEDITOR.dom.element(n.$.rows[t]),c=0;c<s.length;c++){var u=new CKEDITOR.dom.element(s[c]),d=u.getParent().$.rowIndex;1==u.$.rowSpan?u.remove():(--u.$.rowSpan,d==t&&((d=i[t+1])[c-1]?u.insertAfter(new CKEDITOR.dom.element(d[c-1])):new CKEDITOR.dom.element(n.$.rows[t+1]).append(u,1))),c+=u.$.colSpan-1}a.push(l)}for(i=n.$.rows,e[0].moveToPosition(n,CKEDITOR.POSITION_BEFORE_START),o=new CKEDITOR.dom.element(i[r+1]||(0<o?i[o-1]:null)||n.$.parentNode),t=a.length;0<=t;t--)h(a[t]);return n.$.parentNode?o:(e[0].select(),null)}return t instanceof CKEDITOR.dom.element&&(1==(n=t.getAscendant("table")).$.rows.length?n.remove():t.remove()),null}function a(t){for(var e=t.getParent().$.cells,n=0,i=0;i<e.length;i++){var o=e[i];n=n+o.colSpan;if(o==t.$)break}return n-1}function c(t,e){for(var n=e?Infinity:0,i=0;i<t.length;i++){var o=a(t[i]);(e?o<n:n<o)&&(n=o)}return n}function s(t,e){for(var n=(o=v(t)?t:_(t))[0].getAscendant("table"),i=c(o,1),o=c(o),r=e?i:o,a=CKEDITOR.tools.buildTableMap(n),s=(n=[],i=[],o=[],a.length),l=0;l<s;l++)n.push(a[l][r]),i.push(e?a[l][r-1]:a[l][r+1]);for(l=0;l<s;l++)n[l]&&(1<n[l].colSpan&&i[l]==n[l]?(a=n[l]).colSpan+=1:((a=(r=new CKEDITOR.dom.element(n[l])).clone()).removeAttribute("colSpan"),a.appendBogus(),a[e?"insertBefore":"insertAfter"].call(a,r),o.push(a),a=a.$),l+=a.rowSpan-1);return o}function l(t){function e(t){var e,n,i;if(1!==(e=t.getRanges()).length)return t;if((e=e[0]).collapsed||0!==e.endOffset)return t;if("td"!==(i=(n=e.endContainer).getName().toLowerCase())&&"th"!==i)return t;for((i=n.getPrevious())||(i=n.getParent().getPrevious().getLast());i.type!==CKEDITOR.NODE_TEXT&&"br"!==i.getName().toLowerCase();)if(!(i=i.getLast()))return t;return e.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),e.select()}CKEDITOR.env.webkit&&!t.isFake&&(t=e(t));var n,i,o=t.getRanges(),r=(s=_(t))[0],a=s[s.length-1],s=r.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(s),c=[];t.reset();var u=0;for(t=l.length;u<t;u++)for(var d=0,h=l[u].length;d<h;d++)void 0===n&&l[u][d]==r.$&&(n=d),l[u][d]==a.$&&(i=d);for(u=n;u<=i;u++)for(d=0;d<l.length;d++)a=l[d],r=new CKEDITOR.dom.element(s.$.rows[d]),(a=new CKEDITOR.dom.element(a[u])).$&&(1==a.$.colSpan?a.remove():--a.$.colSpan,d+=a.$.rowSpan-1,r.$.cells.length||c.push(r));return n=l[0].length-1>i?new CKEDITOR.dom.element(l[0][i+1]):n&&-1!==l[0][n-1].cellIndex?new CKEDITOR.dom.element(l[0][n-1]):new CKEDITOR.dom.element(s.$.parentNode),c.length==t&&(o[0].moveToPosition(s,CKEDITOR.POSITION_AFTER_END),o[0].select(),s.remove()),n}function u(t,e){var n=t.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),e?i.insertBefore(n):i.insertAfter(n)}}function d(t){if(t instanceof CKEDITOR.dom.selection){var e,n=t.getRanges(),i=_(t),o=i[0]&&i[0].getAscendant("table");t:{var r=0;e=i.length-1;for(var a,s,l={};a=i[r++];)CKEDITOR.dom.element.setMarker(l,a,"delete_cell",!0);for(r=0;a=i[r++];)if((s=a.getPrevious())&&!s.getCustomData("delete_cell")||(s=a.getNext())&&!s.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(l),e=s;break t}CKEDITOR.dom.element.clearAllMarkers(l),e=(r=(r=i[0].getParent()).getPrevious())?r.getLast():(r=(r=i[e].getParent()).getNext())?r.getChild(0):null}for(t.reset(),t=i.length-1;0<=t;t--)d(i[t]);e?f(e,!0):o&&(n[0].moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),n[0].select(),o.remove())}else t instanceof CKEDITOR.dom.element&&(1==(n=t.getParent()).getChildCount()?n.remove():t.remove())}function f(t,e){var n=t.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(e?"End":"Start")](t)||(n.selectNodeContents(t),n.collapse(!e)),n.select(!0)}function T(t,e,n){if(t=t[e],void 0===n)return t;for(e=0;t&&e<t.length;e++){if(n.is&&t[e]==n.$)return e;if(e==n)return new CKEDITOR.dom.element(t[e])}return n.is?-1:null}function C(t,e,n){var i,o,r=_(t);if((e?1!=r.length:r.length<2)||(i=t.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;i=(t=r[0]).getAscendant("table");var a=CKEDITOR.tools.buildTableMap(i),s=a.length,l=a[0].length,c=t.getParent().$.rowIndex,u=T(a,c,t);if(e){var d;try{var h=parseInt(t.getAttribute("rowspan"),10)||1;o=parseInt(t.getAttribute("colspan"),10)||1,d=a["up"==e?c-h:"down"==e?c+h:c]["left"==e?u-o:"right"==e?u+o:u]}catch(C){return!1}if(!d||t.$==d)return!1;r["up"==e||"left"==e?"unshift":"push"](new CKEDITOR.dom.element(d))}e=t.getDocument();var f=c,p=(h=d=0,!n&&new CKEDITOR.dom.documentFragment(e)),m=0;for(e=0;e<r.length;e++){var g=(o=r[e]).getParent(),v=o.getFirst(),y=o.$.colSpan,b=o.$.rowSpan,E=T(a,g=g.$.rowIndex,o);m=m+y*b,h=Math.max(h,E-u+y);d=Math.max(d,g-c+b),n||((b=(y=o).getBogus())&&b.remove(),y.trim(),o.getChildren().count()&&(g==f||!v||v.isBlockBoundary&&v.isBlockBoundary({br:1})||(!(f=p.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||f.is&&f.is("br")||p.append("br")),o.moveChildren(p)),e?o.remove():o.setHtml("")),f=g}if(n)return d*h==m;for(p.moveChildren(t),t.appendBogus(),l<=h?t.removeAttribute("rowSpan"):t.$.rowSpan=d,s<=d?t.removeAttribute("colSpan"):t.$.colSpan=h,e=(r=(n=new CKEDITOR.dom.nodeList(i.$.rows)).count())-1;0<=e;e--)(i=n.getItem(e)).$.cells.length||(i.remove(),r++);return t}function p(t,e){if(1<(n=_(t)).length)return!1;if(e)return!0;var n,i,o=(l=(n=n[0]).getParent()).getAscendant("table"),r=T(c=CKEDITOR.tools.buildTableMap(o),u=l.$.rowIndex,n);if(1<(s=n.$.rowSpan)){i=Math.ceil(s/2);for(var a,s=Math.floor(s/2),l=u+i,c=(o=new CKEDITOR.dom.element(o.$.rows[l]),T(c,l)),u=(l=n.clone(),0);u<c.length;u++){if((a=c[u]).parentNode==o.$&&r<u){l.insertBefore(new CKEDITOR.dom.element(a));break}a=null}a||o.append(l)}else for(s=i=1,(o=l.clone()).insertAfter(l),o.append(l=n.clone()),a=T(c,u),r=0;r<a.length;r++)a[r].rowSpan++;return l.appendBogus(),n.$.rowSpan=i,l.$.rowSpan=s,1==i&&n.removeAttribute("rowSpan"),1==s&&l.removeAttribute("rowSpan"),l}function m(t,e){if(1<(n=_(t)).length)return!1;if(e)return!0;var n,i=(n=n[0]).getParent(),o=i.getAscendant("table"),r=T(o=CKEDITOR.tools.buildTableMap(o),i.$.rowIndex,n);if(1<(a=n.$.colSpan))i=Math.ceil(a/2),a=Math.floor(a/2);else{for(var a=i=1,s=[],l=0;l<o.length;l++){var c=o[l];s.push(c[r]),1<c[r].rowSpan&&(l+=c[r].rowSpan-1)}for(o=0;o<s.length;o++)s[o].colSpan++}return(o=n.clone()).insertAfter(n),o.appendBogus(),n.$.colSpan=i,o.$.colSpan=a,1==i&&n.removeAttribute("colSpan"),1==a&&o.removeAttribute("colSpan"),o}var g=/^(?:td|th)$/,v=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function t(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function e(t,e){var n=i.addCommand(t,e);i.addFeature(n)}var n=i.lang.table,o=CKEDITOR.tools.style.parse;e("cellProperties",new CKEDITOR.dialogCommand("cellProperties",t({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table",contentTransformations:[[{element:"td",left:function(t){return t.styles.background&&o.background(t.styles.background).color},right:function(t){t.styles["background-color"]=o.background(t.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(t){return t.attributes&&t.attributes.valign},right:function(t){t.styles["vertical-align"]=t.attributes.valign,delete t.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(t){return t.styles&&t.styles.height},right:function(e){CKEDITOR.tools.array.forEach(e.children,function(t){t.name in{td:1,th:1}&&(t.attributes["cke-row-height"]=e.styles.height)}),delete e.styles.height}}],[{element:"td",check:"td{height}",left:function(t){return(t=t.attributes)&&t["cke-row-height"]},right:function(t){t.styles.height=t.attributes["cke-row-height"],delete t.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),e("rowDelete",t({requiredContent:"table",exec:function(t){(t=h(t=t.getSelection()))&&f(t)}})),e("rowInsertBefore",t({requiredContent:"table",exec:function(t){r(t=_(t=t.getSelection()),!0)}})),e("rowInsertAfter",t({requiredContent:"table",exec:function(t){r(t=_(t=t.getSelection()))}})),e("columnDelete",t({requiredContent:"table",exec:function(t){(t=l(t=t.getSelection()))&&f(t,!0)}})),e("columnInsertBefore",t({requiredContent:"table",exec:function(t){s(t=_(t=t.getSelection()),!0)}})),e("columnInsertAfter",t({requiredContent:"table",exec:function(t){s(t=_(t=t.getSelection()))}})),e("cellDelete",t({requiredContent:"table",exec:function(t){d(t=t.getSelection())}})),e("cellMerge",t({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(t,e){e.cell=C(t.getSelection()),f(e.cell,!0)}})),e("cellMergeRight",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t,e){e.cell=C(t.getSelection(),"right"),f(e.cell,!0)}})),e("cellMergeDown",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t,e){e.cell=C(t.getSelection(),"down"),f(e.cell,!0)}})),e("cellVerticalSplit",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){f(m(t.getSelection()))}})),e("cellHorizontalSplit",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){f(p(t.getSelection()))}})),e("cellInsertBefore",t({requiredContent:"table",exec:function(t){u(t=t.getSelection(),!0)}})),e("cellInsertAfter",t({requiredContent:"table",exec:function(t){u(t=t.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:n.cell.menu,group:"tablecell",order:1,getItems:function(){var t=i.getSelection(),e=_(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:C(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:C(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:C(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:m(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:p(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<e.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:n.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:n.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:n.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:n.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:n.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:n.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:n.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:n.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:n.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:n.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:n.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:n.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:n.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:n.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:n.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:n.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:n.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener(function(t,e,n){return(t=n.contains({td:1,th:1},1))&&!t.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:a,insertRow:r,insertColumn:s,getSelectedCells:_},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(t,e,n,i,o){t=t.$.rows,n=n||0,i="number"==typeof i?i:t.length-1,o="number"==typeof o?o:-1;var r=-1,a=[];for(e=e||0;e<=i;e++){!a[++r]&&(a[r]=[]);for(var s=-1,l=n;l<=(-1===o?t[e].cells.length-1:o);l++){if(!(u=t[e].cells[l]))break;for(s++;a[r][s];)s++;for(var c=isNaN(u.colSpan)?1:u.colSpan,u=isNaN(u.rowSpan)?1:u.rowSpan,d=0;d<u&&!(i<e+d);d++){a[r+d]||(a[r+d]=[]);for(var h=0;h<c;h++)a[r+d][s+h]=t[e].cells[l]}if(s+=c-1,-1!==o&&o<=s)break}}return a},function(){function u(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function d(t,e){var n,i,o=t.getAscendant("table"),r=e.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(o),s=y(t),l=y(e),c=[],u={};for(o.contains(r)&&(l=y(e=e.getAscendant({td:1,th:1}))),l<s&&(o=s,s=l,l=o,o=t,t=e,e=o),o=0;o<a[s].length;o++)if(t.$===a[s][o]){n=o;break}for(o=0;o<a[l].length;o++)if(e.$===a[l][o]){i=o;break}for(i<n&&(o=n,n=i,i=o),o=s;o<=l;o++)for(s=n;s<=i;s++)(r=new CKEDITOR.dom.element(a[o][s])).$&&!r.getCustomData("selected_cell")&&(c.push(r),CKEDITOR.dom.element.setMarker(u,r,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(u),c}function h(t){if(t)return(t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),(t=t.getEnclosedNode())&&t.is&&t.is(CKEDITOR.dtd.$tableContent)}function f(t){return(t=t.editable().findOne(".cke_table-faked-selection"))&&t.getAscendant("table")}function p(t,e){var n,i=t.editable().find(".cke_table-faked-selection");for(t.fire("lockSnapshot"),t.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<i.count();n++)i.getItem(n).removeClass("cke_table-faked-selection");0<i.count()&&i.getItem(0).getAscendant("table").data("cke-table-faked-selection-table",!1),t.fire("unlockSnapshot"),e&&(C={active:!1},t.getSelection().isInTable()&&t.getSelection().reset())}function m(t,e){var n,i,o=[];for(i=0;i<e.length;i++)(n=t.createRange()).setStartBefore(e[i]),n.setEndAfter(e[i]),o.push(n);t.getSelection().selectRanges(o)}function g(t){var e=t.editable().find(".cke_table-faked-selection");e.count()<1||m(t,e=d(e.getItem(0),e.getItem(e.count()-1)))}function v(t,e,n){var i,o=_(t.getSelection(!0));if(e=e.is("table")?null:e,(i=C.active&&!C.first)&&!(i=e)&&(i=t.getSelection().getRanges(),i=!!(1<o.length||i[0]&&!i[0].collapsed)),i)C.first=e||o[0],C.dirty=!e&&1!==o.length;else if(C.active&&e&&C.first.getAscendant("table").equals(e.getAscendant("table"))){if(o=d(C.first,e),!C.dirty&&1===o.length&&!u(n.data.getTarget()))return p(t,"mouseup"===n.name);C.dirty=!0,C.last=e,m(t,o)}}function o(t){var e,n=(t=t.editor||t.sender.editor)&&t.getSelection(),i=n&&n.getRanges()||[];if(n&&(p(t),n.isInTable()&&n.isFake)){for(1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table")&&(e=i[0]._getTableElement()),e=_(n,e),t.fire("lockSnapshot"),n=0;n<e.length;n++)e[n].addClass("cke_table-faked-selection");0<e.length&&(t.editable().addClass(
"cke_table-faked-selection-editor"),e[0].getAscendant("table").data("cke-table-faked-selection-table","")),t.fire("unlockSnapshot")}}function y(t){return t.getAscendant("tr",!0).$.rowIndex}function b(t){function e(t,e){return!(!t||!e)&&(t.equals(e)||t.contains(e)||e.contains(t)||t.getCommonAncestor(e).is(c))}function o(t){return!t.getAscendant("table",!0)&&t.getDocument().equals(i.document)}function n(t,e,n,i){return!("mousedown"!==t.name||CKEDITOR.tools.getMouseButton(t)!==CKEDITOR.MOUSE_BUTTON_LEFT&&i)||((e=t.name===(CKEDITOR.env.gecko?"mousedown":"mouseup")&&!o(t.data.getTarget()))&&(e=!((t=t.data.getTarget().getAscendant({td:1,th:1},!0))&&t.hasClass("cke_table-faked-selection"))),e)}if(t.data.getTarget().getName&&("mouseup"===t.name||!u(t.data.getTarget()))){var i=t.editor||t.listenerData.editor,r=i.getSelection(1),a=f(i),s=(l=t.data.getTarget())&&l.getAscendant({td:1,th:1},!0),l=l&&l.getAscendant("table",!0),c={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};n(t,r,a,l)&&p(i,!0),!C.active&&"mousedown"===t.name&&CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&l&&(C={active:!0},CKEDITOR.document.on("mouseup",b,null,{editor:i})),(s||l)&&v(i,s||l,t),"mouseup"===t.name&&(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&(o(t.data.getTarget())||e(a,l))&&g(i),C={active:!1},CKEDITOR.document.removeListener("mouseup",b))}}function r(t){var e=t.data.getTarget().getAscendant({td:1,th:1},!0);e&&!e.hasClass("cke_table-faked-selection")&&(t.cancel(),t.data.preventDefault())}function n(t,e){function n(t){t.cancel()}var i,o,r,a,s=t.getSelection(),l=s.createBookmarks(),c=t.document,u=t.createRange(),d=c.getDocumentElement().$,h=CKEDITOR.env.ie&&CKEDITOR.env.version<9,f=t.blockless||CKEDITOR.env.ie?"span":"div";c.getById("cke_table_copybin")||(i=c.createElement(f),(o=c.createElement(f)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),i.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),i.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),i.setHtml(t.getSelectedHtml(!0)),t.fire("lockSnapshot"),o.append(i),t.editable().append(o),a=t.on("selectionChange",n,null,null,0),h&&(r=d.scrollTop),u.selectNodeContents(i),u.select(),h&&(d.scrollTop=r),setTimeout(function(){o.remove(),s.selectBookmarks(l),a.removeListener(),t.fire("unlockSnapshot"),e&&(t.extractSelectedHtml(),t.fire("saveSnapshot"))},100))}function a(t){var e=t.editor||t.sender.editor;e.getSelection().isInTable()&&n(e,"cut"===t.name)}function E(t){this._reset(),t&&this.setSelectedCells(t)}function t(e,n,i){e.on("beforeCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&(t.data.selectedCells=_(e.getSelection()))}),e.on("afterCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&i(e,t.data)})}var e,_,T,l,s,C={active:!1};E.prototype={},E.prototype._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},E.prototype.setSelectedCells=function(t){this._reset(),t=t.slice(0),this._arraySortByDOMOrder(t),this.cells.all=t,this.cells.first=t[0],this.cells.last=t[t.length-1],this.rows.first=t[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},E.prototype.getTableMap=function(){var t,e=T(this.cells.first);t:{var n,i=(t=this.cells.last).getAscendant("table"),o=y(t);i=CKEDITOR.tools.buildTableMap(i);for(n=0;n<i[o].length;n++)if(new CKEDITOR.dom.element(i[o][n]).equals(t)){t=n;break t}t=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),y(this.rows.first),e,y(this.rows.last),t)},E.prototype._getTable=function(){return this.rows.first.getAscendant("table")},E.prototype.insertRow=function(t,e,n){if(void 0===t)t=1;else if(t<=0)return;for(var i,o=this.cells.first.$.cellIndex,r=this.cells.last.$.cellIndex,a=n?[]:this.cells.all,s=0;s<t;s++)i=l(n?this.cells.all:a,e),i=CKEDITOR.tools.array.filter(i.find("td, th").toArray(),function(t){return!!n||t.$.cellIndex>=o&&t.$.cellIndex<=r}),a=e?i.concat(a):a.concat(i);this.setSelectedCells(a)},E.prototype.insertColumn=function(t){function e(t){return t=y(t),i<=t&&t<=o}if(void 0===t)t=1;else if(t<=0)return;for(var n=(r=this.cells).all,i=y(r.first),o=y(r.last),r=0;r<t;r++)n=n.concat(CKEDITOR.tools.array.filter(s(n),e));this.setSelectedCells(n)},E.prototype.emptyCells=function(t){t=t||this.cells.all;for(var e=0;e<t.length;e++)t[e].setHtml("")},E.prototype._arraySortByDOMOrder=function(t){t.sort(function(t,e){return t.getPosition(e)&CKEDITOR.POSITION_PRECEDING?-1:1})};var c={onPaste:function(t){function e(t){return Math.max.apply(null,CKEDITOR.tools.array.map(t,function(t){return t.length},0))}function n(t){var e=r.createRange();e.selectNodeContents(t),e.select()}var i,o,r=t.editor,a=r.getSelection(),s=_(a),l=this.findTableInPastedContent(r,t.data.dataValue),c=a.isInTable(!0)&&this.isBoundarySelection(a);!s.length||1===s.length&&!h(a.getRanges()[0])&&!c||c&&!l||(s=s[0].getAscendant("table"),i=new E(_(a,s)),r.once("afterPaste",function(){var t;if(o){t=new CKEDITOR.dom.element(o[0][0]);var e=o[o.length-1];t=d(t,new CKEDITOR.dom.element(e[e.length-1]))}else t=i.cells.all;m(r,t)}),l?(t.stop(),c?(i.insertRow(1,1===c,!0),a.selectElement(i.rows.first)):(i.emptyCells(),m(r,i.cells.all)),t=i.getTableMap(),o=CKEDITOR.tools.buildTableMap(l),i.insertRow(o.length-t.length),i.insertColumn(e(o)-e(t)),t=i.getTableMap(),this.pasteTable(i,t,o),r.fire("saveSnapshot"),setTimeout(function(){r.fire("afterPaste")},0)):(n(i.cells.first),r.once("afterPaste",function(){r.fire("lockSnapshot"),i.emptyCells(i.cells.all.slice(1)),m(r,i.cells.all),r.fire("unlockSnapshot")})))},isBoundarySelection:function(t){var e=(t=t.getRanges()[0]).endContainer.getAscendant("tr",!0);if(e&&t.collapsed){if(t.checkBoundaryOfElement(e,CKEDITOR.START))return 1;if(t.checkBoundaryOfElement(e,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(t,e){var n=t.dataProcessor,i=new CKEDITOR.dom.element("body");return n||(n=new CKEDITOR.htmlDataProcessor(t)),i.setHtml(n.toHtml(e),{fixForBody:!1}),1<i.getChildCount()?null:i.findOne("table")},pasteTable:function(t,e,n){var i,o,r,a,s,l=T(t.cells.first),c=t._getTable(),u={};for(a=0;a<n.length;a++)for(o=new CKEDITOR.dom.element(c.$.rows[t.rows.first.$.rowIndex+a]),s=0;s<n[a].length;s++)r=new CKEDITOR.dom.element(n[a][s]),i=e[a]&&e[a][s]?new CKEDITOR.dom.element(e[a][s]):null,r&&!r.getCustomData("processed")?(i&&i.getParent()?r.replace(i):(0===s||n[a][s-1])&&((i=0!==s?new CKEDITOR.dom.element(n[a][s-1]):null)&&o.equals(i.getParent())?r.insertAfter(i):0<l?o.$.cells[l]?r.insertAfter(new CKEDITOR.dom.element(o.$.cells[l])):o.append(r):o.append(r,!0)),CKEDITOR.dom.element.setMarker(u,r,"processed",!0)):r.getCustomData("processed")&&i&&i.remove();CKEDITOR.dom.element.clearAllMarkers(u)}};CKEDITOR.plugins.tableselection={getCellsBetween:d,keyboardIntegration:function(o){function h(t){var e=t.getEnclosedNode();e&&"function"==typeof e.is&&e.is({td:1,th:1})?e.setText(""):t.deleteContents(),CKEDITOR.tools.array.forEach(t._find("td"),function(t){t.appendBogus()})}var t=o.editable();t.attachListener(t,"keydown",function(u){function l(t,e){if(!e.length)return null;var n=u.createRange(),i=CKEDITOR.dom.range.mergeRanges(e);CKEDITOR.tools.array.forEach(i,function(t){t.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var o=(r=i[0].getBoundaryNodes()).startNode,r=r.endNode;if(o&&o.is&&o.is(d)){for(var a=o.getAscendant("table",!0),s=o.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,a),l=!1,c=function(t){return!o.contains(t)&&t.is&&t.is("td","th")};s&&!c(s);)s=s.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,a);return!s&&r&&r.is&&!r.is("table")&&r.getNext()&&(s=r.getNext().findOne("td, th"),l=!0),s?n["moveToElementEdit"+(l?"Start":"End")](s):(n.setStartBefore(o.getAscendant("table",!0)),n.collapse(!0)),i[0].deleteContents(),[n]}return o?(n.moveToElementEditablePosition(o),[n]):void 0}var c={37:1,38:1,39:1,40:1,8:1,46:1,13:1},d=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete d.td,delete d.th,function(t){var e,n,i,o,r=t.data.getKey(),a=t.data.getKeystroke(),s=37===r||38==r;if(c[r]&&!u.readOnly&&(e=u.getSelection())&&e.isInTable()&&e.isFake)if(i=(n=e.getRanges())[0]._getTableElement(),o=n[n.length-1]._getTableElement(),(13!==r||u.plugins.enterkey)&&(t.data.preventDefault(),t.cancel()),36<r&&r<41)n[0].moveToElementEditablePosition(s?i:o,!s),e.selectRanges([n[0]]);else if(13!==r||13===a||a===CKEDITOR.SHIFT+13){for(t=0;t<n.length;t++)h(n[t]);(t=l(i,n))?n=t:n[0].moveToElementEditablePosition(i),e.selectRanges(n),13===r&&u.plugins.enterkey?(u.fire("lockSnapshot"),13===a?u.execCommand("enter"):u.execCommand("shiftEnter"),u.fire("unlockSnapshot"),u.fire("saveSnapshot")):13!==r&&u.fire("saveSnapshot")}}}(o),null,null,-1),t.attachListener(t,"keypress",function(t){var e,n=o.getSelection(),i=t.data.$.charCode||13===t.data.getKey();if(!o.readOnly&&n&&n.isInTable()&&n.isFake&&i&&!(t.data.getKeystroke()&CKEDITOR.CTRL)){for(i=(t=n.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),e=0;e<t.length;e++)h(t[e]);i&&(t[0].moveToElementEditablePosition(i),n.selectRanges([t[0]]))}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&CKEDITOR.env.version<11)},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",onLoad:function(){e=CKEDITOR.plugins.tabletools,_=e.getSelectedCells,T=e.getCellColIndex,l=e.insertRow,s=e.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(i){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(i.addContentsCss&&i.addContentsCss(this.path+"styles/tableselection.css"),i.on("contentDom",function(){var t=i.editable(),e=t.isInline()?t:i.document,n={editor:i};t.attachListener(e,"mousedown",b,null,n),t.attachListener(e,"mousemove",b,null,n),t.attachListener(e,"mouseup",b,null,n),t.attachListener(t,"dragstart",r),t.attachListener(i,"selectionCheck",o),CKEDITOR.plugins.tableselection.keyboardIntegration(i),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(t.attachListener(t,"cut",a),t.attachListener(t,"copy",a))}),i.on("paste",c.onPaste,c),t(i,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(t,e){m(t,e.selectedCells)}),t(i,["cellMerge","cellMergeRight","cellMergeDown"],function(t,e){m(t,[e.commandData.cell])}),t(i,["cellDelete"],function(t){p(t,!0)}))}})}(),function(){var s=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],n={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function e(t){i.enabled&&!1!==t.data.command.canUndo&&i.save()}function n(){i.enabled=!t.readOnly&&"wysiwyg"==t.mode,i.onChange()}var i=t.undoManager=new l(t),o=i.editingHandler=new c(i),r=t.addCommand("undo",{exec:function(){i.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),a=t.addCommand("redo",{exec:function(){i.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[s[0],"undo"],[s[1],"redo"],[s[2],"redo"]]),i.onChange=function(){r.setState(i.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a.setState(i.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",e),t.on("afterCommandExec",e),t.on("saveSnapshot",function(t){i.save(t.data&&t.data.contentOnly)}),t.on("contentDom",o.attachListeners,o),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&i.save(!0)}),t.on("mode",n),t.on("readOnly",n),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){i.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){i.currentImage&&i.update()}),t.on("lockSnapshot",function(t){t=t.data,i.lock(t&&t.dontUpdate,t&&t.forceUpdate)}),t.on("unlockSnapshot",i.unlock,i)}}),CKEDITOR.plugins.undo={};var l=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this.editor=t,this.reset()};l.prototype={type:function(t,e){var n=l.getKeyGroup(t),i=this.strokesRecorded[n]+1;e=e||i>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(i=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[n]=i,this.previousKeyGroup=n},keyGroupChanged:function(t){return l.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,n){var i=this.editor;if(this.locked||"ready"!=i.status||"wysiwyg"!=i.mode)return!1;var o=i.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,e||(e=new r(i)),!1===e.contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==n&&i.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(e)-1,this.currentImage=e,!1!==n&&this.refreshState(),!0},restoreImage:function(t){var e,n=this.editor;t.bookmarks&&(n.focus(),e=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&((e=this.editor.document.getBody().$.createTextRange()).collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(t){var e,n=this.snapshots,i=this.currentImage;if(i)if(t){for(e=this.index-1;0<=e;e--)if(t=n[e],!i.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<n.length;e++)if(t=n[e],!i.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t||(t=new r(this.editor));for(var e=this.index,n=this.snapshots;0<e&&this.currentImage.equalsContent(n[e-1]);)--e;n.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,n=e[e.length-1];return!(!n.equalsContent(t)||n.equalsSelection(t))&&(this.currentImage=e[e.length-1]=t,!0)},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var n=null;if(e)n=!0;else{var i=new r(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(i)&&(n=i)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var t=this.locked.update;if(!(this.locked=null)===t)this.update();else if(t){var e=new r(this.editor,!0);t.equalsContent(e)||this.update()}}}},l.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},l.keyGroups={PRINTABLE:0,FUNCTIONAL:1},l.isNavigationKey=function(t){return!!l.navigationKeyCodes[t]},l.getKeyGroup=function(t){var e=l.keyGroups;return n[t]?e.FUNCTIONAL:e.PRINTABLE},l.getOppositeKeyGroup=function(t){var e=l.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},l.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&l.getKeyGroup(t)==l.keyGroups.FUNCTIONAL};var r=CKEDITOR.plugins.undo.Image=function(t,e){(this.editor=t).fire("beforeUndoImage");var n=t.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,e||(this.bookmarks=(n=n&&t.getSelection())&&n.createBookmarks2(!0)),t.fire("afterUndoImage")},i=/\b(?:href|src|name)="[^"]*?"/gi;r.prototype={equalsContent:function(t){var e=this.contents;return t=t.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(i,""),t=t.replace(i,"")),e==t},equalsSelection:function(t){var e=this.bookmarks;if(t=t.bookmarks,e||t){if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var c=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new e,this.lastKeydownImage=null};c.prototype={onKeydown:function(t){var e=t.data.getKey();229!==e&&(-1<CKEDITOR.tools.indexOf(s,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new r(t.editor),(l.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t||(t=this.keyEventsStack.push(0)),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager;t=t.data.getKey();var n=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),l.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new r(e.editor,!0))||(0<n?e.type(t):l.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;!t&&e.save(!0,null,!1)||e.updateSelection(new r(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),n=this;e.attachListener(e,"keydown",function(t){n.onKeydown(t),l.ieFunctionalKeysBug(t.data.getKey())&&n.onInput()},null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999),e.attachListener(e,"keyup",n.onKeyup,n,null,999),e.attachListener(e,"paste",n.ignoreInputEventListener,n,null,999),e.attachListener(e,"drop",n.ignoreInputEventListener,n,null,999),t.on("afterPaste",n.activateInputEventListener,n,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999),e.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var e=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};e.prototype={push:function(t){return t=this.stack.push({keyCode:t,inputs:0}),this.stack[t-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return-1!=(t=this.getLastIndex(t))?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){-1!=(t=this.getLastIndex(t))&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){(t=t.data.$).ctrlKey||t.metaKey||this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),function(){function t(t,e){CKEDITOR.tools.extend(this,{editor:t,editable:t.editable(),doc:t.document,win:t.window},e,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function e(t,e){CKEDITOR.tools.extend(this,e,{editor:t},!0)}function n(t,e){var n=t.editable();CKEDITOR.tools.extend(this,{editor:t,editable:n,inline:n.isInline(),doc:t.document,win:t.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},e,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var i=CKEDITOR.tools.bind(this.queryViewport,this),o=CKEDITOR.tools.bind(this.hideVisible,this),r=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",i),n.attachListener(this.winTop,"scroll",i),n.attachListener(this.winTop,"resize",o),n.attachListener(this.win,"scroll",o),n.attachListener(this.inline?n:this.frame,"mouseout",function(t){var e=t.data.$.clientX;t=t.data.$.clientY,this.queryViewport(),(e<=this.rect.left||e>=this.rect.right||t<=this.rect.top||t>=this.rect.bottom)&&this.hideVisible(),(e<=0||e>=this.winTopPane.width||t<=0||t>=this.winTopPane.height)&&this.hideVisible()},this),n.attachListener(t,"resize",i),n.attachListener(t,"mode",r),t.on("destroy",r),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},u,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},c,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},c,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function l(t){var e;return(e=t&&t.type==CKEDITOR.NODE_ELEMENT)&&(e=!(d[t.getComputedStyle("float")]||d[t.getAttribute("align")])),e&&!h[t.getComputedStyle("position")]}var i,o,r,a,s;CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,t.prototype={start:function(t){var e,n,i,o,r=this,a=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,function(){a.readOnly||"wysiwyg"!=a.mode||(r.relations={},(n=s.$.elementFromPoint(i,o))&&n.nodeType&&(e=new CKEDITOR.dom.element(n),r.traverseSearch(e),isNaN(i+o)||r.pixelSearch(e,i,o),t&&t(r.relations,i,o)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(t){i=t.data.$.clientX,o=t.data.$.clientY,l.input()}),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){l.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:(i={},i[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,i[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,i[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(t){var e=this.editor.createRange();return e.moveToPosition(this.relations[t.uid].element,i[t.type]),e}),store:function(){function i(t,e,n){var i=t.getUniqueId();i in n?n[i].type|=e:n[i]={element:t,type:e}}return function(t,e){var n;e&CKEDITOR.LINEUTILS_AFTER&&l(n=t.getNext())&&n.isVisible()&&(i(n,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_AFTER),e&CKEDITOR.LINEUTILS_INSIDE&&l(n=t.getFirst())&&n.isVisible()&&(i(n,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_INSIDE),i(t,e,this.relations)}}(),traverseSearch:function(t){var e,n,i;do{if(!((i=t.$["data-cke-expando"])&&i in this.relations)){if(t.equals(this.editable))break;if(l(t))for(e in this.lookups)(n=this.lookups[e](t))&&this.store(t,n)}}while((!t||t.type!=CKEDITOR.NODE_ELEMENT||"true"!=t.getAttribute("contenteditable"))&&(t=t.getParent()))},pixelSearch:function(){function r(t,e,n,i,o){for(var r,a=0;o(n)&&(n+=i,25!=++a);)if(r=this.doc.$.elementFromPoint(e,n))if(r==t)a=0;else if(s(t,r)&&(a=0,l(r=new CKEDITOR.dom.element(r))))return r}var s=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(t,e){return t.contains(e)}:function(t,e){return!!(16&t.compareDocumentPosition(e))};return function(t,e,n){var i=this.win.getViewPaneSize().height,o=r.call(this,t.$,e,n,-1,function(t){return 0<t});if(e=r.call(this,t.$,e,n,1,function(t){return t<i}),o)for(this.traverseSearch(o);!o.getParent().equals(t);)o=o.getParent();if(e)for(this.traverseSearch(e);!e.getParent().equals(t);)e=e.getParent();for(;(o||e)&&(o&&(o=o.getNext(l)),o&&!o.equals(e))&&(this.traverseSearch(o),e&&(e=e.getPrevious(l)),e&&!e.equals(o));)this.traverseSearch(e)}}(),greedySearch:function(){this.relations={};for(var t,e,n,i=this.editable.getElementsByTag("*"),o=0;t=i.getItem(o++);)if(!t.equals(this.editable)&&t.type==CKEDITOR.NODE_ELEMENT&&(t.hasAttribute("contenteditable")||!t.isReadOnly())&&l(t)&&t.isVisible())for(n in this.lookups)(e=this.lookups[n](t))&&this.store(t,e);return this.relations}},e.prototype={locate:function(){function i(t,e){var n=t.element[e===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&l(n)?(t.siblingRect=n.getClientRect(),e==CKEDITOR.LINEUTILS_BEFORE?(t.siblingRect.bottom+t.elementRect.top)/2:(t.elementRect.bottom+t.siblingRect.top)/2):e==CKEDITOR.LINEUTILS_BEFORE?t.elementRect.top:t.elementRect.bottom}return function(t){var e;for(var n in this.locations={},t)(e=t[n]).elementRect=e.element.getClientRect(),e.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(n,CKEDITOR.LINEUTILS_BEFORE,i(e,CKEDITOR.LINEUTILS_BEFORE)),e.type&CKEDITOR.LINEUTILS_AFTER&&this.store(n,CKEDITOR.LINEUTILS_AFTER,i(e,CKEDITOR.LINEUTILS_AFTER)),e.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(n,CKEDITOR.LINEUTILS_INSIDE,(e.elementRect.top+e.elementRect.bottom)/2);return this.locations}}(),sort:function(t,e){for(var n in o=this.locations,r=[],o)for(var i in o[n])if(a=Math.abs(t-o[n][i]),r.length){for(s=0;s<r.length;s++)if(a<r[s].dist){r.splice(s,0,{uid:+n,type:i,dist:a});break}s==r.length&&r.push({uid:+n,type:i,dist:a})}else r.push({uid:+n,type:i,dist:a});return void 0!==e?r.slice(0,e):r},store:function(t,e,n){this.locations[t]||(this.locations[t]={}),this.locations[t][e]=n}};var c={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},u={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var t in this.hidden)this.hidden[t].remove(),delete this.hidden[t];for(t in this.visible)this.visible[t].remove(),delete this.visible[t]},hideLine:function(t){var e=t.getUniqueId();t.hide(),this.hidden[e]=t,delete this.visible[e]},showLine:function(t){var e=t.getUniqueId();t.show(),this.visible[e]=t,delete this.hidden[e]},hideVisible:function(){for(var t in this.visible)this.hideLine(this.visible[t])},placeLine:function(t,e){var n,i,o;if(n=this.getStyle(t.uid,t.type)){for(o in this.visible)if(this.visible[o].getCustomData("hash")!==this.hash){i=this.visible[o];break}if(!i)for(o in this.hidden)if(this.hidden[o].getCustomData("hash")!==this.hash){this.showLine(i=this.hidden[o]);break}i||this.showLine(i=this.addLine()),i.setCustomData("hash",this.hash),(this.visible[i.getUniqueId()]=i).setStyles(n),e&&e(i)}},getStyle:function(t,e){var n=this.relations[t],i=this.locations[t][e],o={};if(o.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,o.top=this.inline?i+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+i,o.top-this.winTopScroll.y<this.rect.top||o.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var r in this.inline?o.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?o.left=this.rect.left+n.elementRect.left:(o.width+=n.elementRect.left,o.left=this.rect.left),0<(n=o.left+o.width-(this.rect.left+this.winPane.width))&&(o.width-=n)),o.left+=this.winTopScroll.x,o)o[r]=CKEDITOR.tools.cssLength(o[r]);return o},addLine:function(){var t=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return t.appendTo(this.container),t},prepare:function(t,e){this.relations=t,this.locations=e,this.hash=Math.random()},cleanup:function(){var t,e;for(e in this.visible)(t=this.visible[e]).getCustomData("hash")!==this.hash&&this.hideLine(t)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(t){t=t.getClientRect();var e=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return t.relativeX=t.relativeY=0,"static"!=n&&(t.relativeY=e.y,t.relativeX=e.x,t.top-=t.relativeY,t.bottom-=t.relativeY,t.left-=t.relativeX,t.right-=t.relativeX),t}};var d={left:1,right:1,center:1},h={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:t,locator:e,liner:n}}(),function(){function o(t){return t.getName&&!t.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(t){if(CKEDITOR.env.webkit){var n=CKEDITOR.plugins.widgetselection;t.on("contentDom",function(t){var e=(t=t.editor).editable();e.attachListener(e,"keydown",function(t){t.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){n.addFillers(e)||n.removeFillers(e)},0)},null,null,-1),t.on("selectionCheck",function(t){n.removeFillers(t.editor.editable())}),t.on("paste",function(t){t.data.dataValue=n.cleanPasteData(t.data.dataValue)}),"selectall"in t.plugins&&n.addSelectAllIntegration(t)})}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(t){var e=t.editor;if(!this.isWholeContentSelected(t)&&0<t.getChildCount()){var n=t.getFirst(o),i=t.getLast(o);if(n&&n.type==CKEDITOR.NODE_ELEMENT&&!n.isEditable()&&(this.startFiller=this.createFiller(),t.append(this.startFiller,1)),i&&i.type==CKEDITOR.NODE_ELEMENT&&!i.isEditable()&&(this.endFiller=this.createFiller(!0),t.append(this.endFiller,0)),this.hasFiller(t))return(e=e.createRange()).selectNodeContents(t),e.select(),!0}return!1},removeFillers:function(t){if(this.hasFiller(t)&&!this.isWholeContentSelected(t)){var e=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&e&&this.startFiller.equals(e)?this.removeFiller(this.startFiller,t):this.startFiller=e,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,t):this.endFiller=n}},cleanPasteData:function(t){return t&&t.length&&(t=t.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),t},isWholeContentSelected:function(t){var e=t.editor.getSelection().getRanges()[0];return!(!e||e&&e.collapsed)&&((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(e&&t&&e.startContainer&&e.endContainer&&0===e.startOffset&&e.endOffset===t.getChildCount()&&e.startContainer.equals(t)&&e.endContainer.equals(t)))},hasFiller:function(t){return 0<t.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(t){var e=new CKEDITOR.dom.element(this.fillerTagName);return e.setHtml(this.fillerContent),e.setAttribute(this.fillerAttribute,t?"end":"start"),e.setAttribute("data-cke-temp",1),e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),e},removeFiller:function(t,e){if(t){var n,i,o=e.editor,r=e.editor.getSelection().getRanges()[0].startPath(),a=o.createRange();r.contains(t)&&(n=t.getHtml(),i=!0),r="start"==t.getAttribute(this.fillerAttribute),t.remove(),n&&0<n.length&&n!=this.fillerContent?(e.insertHtmlIntoRange(n,o.getSelection().getRanges()[0]),a.setStartAt(e.getChild(e.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),o.getSelection().selectRanges([a])):i&&(r?a.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):a.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([a]))}},createFillerRegex:function(t){var e=this.createFiller(t).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((t?"":"^")+e+(t?"$":""))},addSelectAllIntegration:function(n){var i=this;n.editable().attachListener(n,"beforeCommandExec",function(t){var e=n.editable();"selectAll"==t.data.name&&e&&i.addFillers(e)},null,null,9999)}}}(),function(){function e(t){this.editor=t,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},I(this),O(this),this.on("checkWidgets",r),this.editor.on("contentDomInvalidated",this.checkWidgets,this),D(this),_(this),T(this),E(this),C(this)}function c(t,e,n,i,o){var r=t.editor;CKEDITOR.tools.extend(this,i,{editor:r,id:e,inline:"span"==n.getParent().getName(),element:n,data:CKEDITOR.tools.extend({},
"function"==typeof i.defaults?i.defaults():i.defaults),dataReady:!1,inited:!1,ready:!1,edit:c.prototype.edit,focusedEditable:null,definition:i,repository:t,draggable:!1!==i.draggable,_:{downcastFn:i.downcast&&"string"==typeof i.downcast?i.downcasts[i.downcast]:i.downcast}},!0),t.fire("instanceCreated",this),j(this,i),this.init&&this.init(),this.inited=!0,(t=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(t))),o&&this.setData(o),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,q(this),this.fire("data",this.data),this.isInited()&&r.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function i(t,e,n){CKEDITOR.dom.element.call(this,e.$),this.editor=t,this._={},e=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=e?e.getAllowedEnterMode(t.enterMode):t.enterMode,this.shiftEnterMode=e?e.getAllowedEnterMode(t.shiftEnterMode,!0):t.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function n(t,s){t.addCommand(s.name,{exec:function(i,t){function o(){i.widgets.finalizeCreation(a)}if((e=i.widgets.focused)&&e.name==s.name)e.edit();else if(s.insert)s.insert({editor:i,commandData:t});else if(s.template){var r,e="function"==typeof s.defaults?s.defaults():s.defaults,n=(e=CKEDITOR.dom.element.createFromHtml(s.template.output(e)),i.widgets.wrapElement(e,s.name)),a=new CKEDITOR.dom.documentFragment(n.getDocument());a.append(n),(r=i.widgets.initOn(e,s,t&&t.startupData))?(e=r.once("edit",function(t){t.data.dialog?r.once("dialog",function(t){var e,n;t=t.data,e=t.once("ok",o,null,null,20),n=t.once("cancel",function(t){t.data&&!1===t.data.hide||i.widgets.destroy(r,!0)}),t.once("hide",function(){e.removeListener(),n.removeListener()})}):o()},null,null,999),r.edit(),e.removeListener()):o()}},allowedContent:s.allowedContent,requiredContent:s.requiredContent,contentForms:s.contentForms,contentTransformations:s.contentTransformations})}function o(o,r){function t(t,e){var n,i,o=r.upcast.split(",");for(i=0;i<o.length;i++)if((n=o[i])===t.name)return r.upcasts[n].call(this,t,e);return!1}function e(t,e,n){var i=CKEDITOR.tools.getIndex(o._.upcasts,function(t){return t[2]>n});i<0&&(i=o._.upcasts.length),o._.upcasts.splice(i,0,[CKEDITOR.tools.bind(t,e),e.name,n])}var n=r.upcast,i=r.upcastPriority||10;n&&e("string"==typeof n?t:n,r,i)}function l(t,e){if(t.focused=null,e.isInited()){var n=e.editor.checkDirty();t.fire("widgetBlurred",{widget:e}),e.setFocused(!1),!n&&e.editor.resetDirty()}}function r(t){if(t=t.data,"wysiwyg"==this.editor.mode){var e,n,i,o,r=this.editor.editable(),a=this.instances;if(r){for(e in a)a[e].isReady()&&!r.contains(a[e].wrapper)&&this.destroy(a[e],!0);if(t&&t.initOnlyNew)a=this.initOnAll();else{var s=r.find(".cke_widget_wrapper");a=[];for(e=0,n=s.count();e<n;e++){if(i=s.getItem(e),o=!this.getByElement(i,!0)){t:{o=g;for(var l=i;l=l.getParent();)if(o(l)){o=!0;break t}o=!1}o=!o}o&&r.contains(i)&&(i.addClass("cke_widget_new"),a.push(this.initOn(i.getFirst(c.isDomWidgetElement))))}}t&&t.focusInited&&1==a.length&&a[0].focus()}}}function a(t){if("undefined"!=typeof t.attributes&&t.attributes["data-widget"]){var e=u(t),n=d(t),i=!1;e&&e.value&&e.value.match(/^\s/g)&&(e.parent.attributes["data-cke-white-space-first"]=1,e.value=e.value.replace(/^\s/g,"&nbsp;"),i=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),i=!0),i&&(t.attributes["data-cke-widget-white-space"]=1)}}function u(t){return t.find(function(t){return 3===t.type},!0).shift()}function d(t){return t.find(function(t){return 3===t.type},!0).pop()}function s(t,e,n){if(!n.allowedContent&&!n.disallowedContent)return null;var i=this._.filters[t];return i||(this._.filters[t]=i={}),(t=i[e])||(t=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),i[e]=t,n.disallowedContent&&t.disallow(n.disallowedContent)),t}function h(t){var a=[],s=t._.upcasts,l=t._.upcastCallbacks;return{toBeWrapped:a,iterator:function(t){var e,n,i,o,r;if("data-cke-widget-wrapper"in t.attributes)return(t=t.getFirst(c.isParserWidgetElement))&&a.push([t]),!1;if("data-widget"in t.attributes)return a.push([t]),!1;if(r=s.length){if(t.attributes["data-cke-widget-upcasted"])return!1;for(o=0,e=l.length;o<e;++o)if(!1===l[o](t))return;for(o=0;o<r;++o)if(i={},n=(e=s[o])[0](t,i))return n instanceof CKEDITOR.htmlParser.element&&(t=n),t.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(i)),t.attributes["data-cke-widget-upcasted"]=1,a.push([t,e[1]]),!1}}}}function f(t,e){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(t?"inline":"block")+(e?" cke_widget_"+e:"")}}function p(t,e,n){if(t.type==CKEDITOR.NODE_ELEMENT&&((i=CKEDITOR.dtd[t.name])&&!i[n.name])){var i=t.split(e),o=t.parent;return e=i.getIndex(),t.children.length||(--e,t.remove()),i.children.length||i.remove(),p(o,e,n)}t.add(n,e)}function m(t,e){return"boolean"==typeof t.inline?t.inline:!!CKEDITOR.dtd.$inline[e]}function g(t){return t.hasAttribute("data-cke-temp")}function v(t,e,n,i){var o=t.editor;o.fire("lockSnapshot"),n?(i=n.data("cke-widget-editable"),i=e.editables[i],(t.widgetHoldingFocusedEditable=e).focusedEditable=i,n.addClass("cke_widget_editable_focused"),i.filter&&o.setActiveFilter(i.filter),o.setActiveEnterMode(i.enterMode,i.shiftEnterMode)):(i||e.focusedEditable.removeClass("cke_widget_editable_focused"),e.focusedEditable=null,t.widgetHoldingFocusedEditable=null,o.setActiveFilter(null),o.setActiveEnterMode(null,null)),o.fire("unlockSnapshot")}function y(e){e.contextMenu&&e.contextMenu.addListener(function(t){if(t=e.widgets.getByElement(t,!0))return t.fire("contextMenu",{})})}function b(t,e){return CKEDITOR.tools.trim(e)}function E(o){var r=o.editor,t=CKEDITOR.plugins.lineutils;r.on("dragstart",function(t){var e=t.data.target;c.isDomDragHandler(e)&&(e=o.getByElement(e),t.data.dataTransfer.setData("cke/widget-id",e.id),r.focus(),e.focus())}),r.on("drop",function(t){var e=(i=t.data.dataTransfer).getData("cke/widget-id"),n=i.getTransferType(r),i=r.createRange();""!==e&&n===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?t.cancel():""!==e&&n==CKEDITOR.DATA_TRANSFER_INTERNAL&&(e=o.instances[e])&&(i.setStartBefore(e.wrapper),i.setEndAfter(e.wrapper),t.data.dragRange=i,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,t.data.dataTransfer.setData("text/html",r.editable().getHtmlFromRange(i).getHtml()),r.widgets.destroy(e,!0))}),r.on("contentDom",function(){var n=r.editable();CKEDITOR.tools.extend(o,{finder:new t.finder(r,{lookups:{"default":function(t){if(!t.is(CKEDITOR.dtd.$listItem)&&t.is(CKEDITOR.dtd.$block)&&!c.isDomNestedEditable(t)&&!o._.draggedWidget.wrapper.contains(t)){var e=c.getNestedEditable(n,t);if(e){if(t=o._.draggedWidget,o.getByElement(e)==t)return;if(e=CKEDITOR.filter.instances[e.data("cke-filter")],t=t.requiredContent,e&&t&&!e.check(t))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new t.locator(r),liner:new t.liner(r,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function _(o){var r=o.editor;r.on("contentDom",function(){var n,i,t=r.editable(),e=t.isInline()?t:r.document;t.attachListener(e,"mousedown",function(t){var e=t.data.getTarget();n=e instanceof CKEDITOR.dom.element?o.getByElement(e):null,i=0,n&&(n.inline&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-drag-handler")?(i=1,o.focused!=n&&r.getSelection().removeAllRanges()):c.getNestedEditable(n.wrapper,e)?n=null:(t.data.preventDefault(),CKEDITOR.env.ie||n.focus()))}),t.attachListener(e,"mouseup",function(){i&&n&&n.wrapper&&(i=0,n.focus())}),CKEDITOR.env.ie&&t.attachListener(e,"mouseup",function(){setTimeout(function(){n&&n.wrapper&&t.contains(n.wrapper)&&(n.focus(),n=null)})})}),r.on("doubleclick",function(t){var e=o.getByElement(t.data.element);if(e&&!c.getNestedEditable(e.wrapper,t.data.element))return e.fire("doubleclick",{element:t.data.element})},null,null,1)}function T(o){o.editor.on("key",function(t){var e,n=o.focused,i=o.widgetHoldingFocusedEditable;return n?e=n.fire("key",{keyCode:t.data.keyCode}):i&&(n=t.data.keyCode,t=i.focusedEditable,e=n==CKEDITOR.CTRL+65?(n=t.getBogus(),(i=i.editor.createRange()).selectNodeContents(t),n&&i.setEndAt(n,CKEDITOR.POSITION_BEFORE_START),i.select(),!1):8==n||46==n?(i=(e=i.editor.getSelection().getRanges())[0],!(1==e.length&&i.collapsed&&i.checkBoundaryOfElement(t,CKEDITOR[8==n?"START":"END"]))):void 0),e},null,null,1)}function C(e){function n(t){e.focused&&x(e.focused,"cut"==t.name)}var i=e.editor;i.on("contentDom",function(){var t=i.editable();t.attachListener(t,"copy",n),t.attachListener(t,"cut",n)})}function D(i){var o=i.editor;o.on("selectionCheck",function(){i.fire("checkSelection")}),i.on("checkSelection",i.checkSelection,i),o.on("selectionChange",function(t){var e=(t=c.getNestedEditable(o.editable(),t.data.selection.getStartElement()))&&i.getByElement(t),n=i.widgetHoldingFocusedEditable;n?n===e&&n.focusedEditable.equals(t)||(v(i,n,null),e&&t&&v(i,e,t)):e&&t&&v(i,e,t)}),o.on("dataReady",function(){k(i).commit()}),o.on("blur",function(){var t;(t=i.focused)&&l(i,t),(t=i.widgetHoldingFocusedEditable)&&v(i,t,null)})}function O(r){var t=r.editor,s={};t.on("toDataFormat",function(t){var e=CKEDITOR.tools.getNextNumber(),o=[];t.data.downcastingSessionId=e,s[e]=o,t.data.dataValue.forEach(function(t){var e,n=t.attributes;if("data-cke-widget-white-space"in n){e=u(t);var i=d(t);e.parent.attributes["data-cke-white-space-first"]&&(e.value=e.value.replace(/^&nbsp;/g," ")),i.parent.attributes["data-cke-white-space-last"]&&(i.value=i.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in n)(n=r.instances[n["data-cke-widget-id"]])&&(e=t.getFirst(c.isParserWidgetElement),o.push({wrapper:t,element:e,widget:n,editables:{}}),"1"!=e.attributes["data-cke-widget-keep-attr"]&&delete e.attributes["data-widget"]);else if("data-cke-widget-editable"in n)return o[o.length-1].editables[n["data-cke-widget-editable"]]=t,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8),t.on("toDataFormat",function(t){if(t.data.downcastingSessionId){t=s[t.data.downcastingSessionId];for(var e,n,i,o,r,a;e=t.shift();){for(a in n=e.widget,i=e.element,o=n._.downcastFn&&n._.downcastFn.call(n,i),e.editables)delete(r=e.editables[a]).attributes.contenteditable,r.setHtml(n.editables[a].getData());o||(o=i),e.wrapper.replaceWith(o)}}},null,null,13),t.on("contentDomUnload",function(){r.destroyAll(!0)})}function I(r){var a,s,l=r.editor;l.on("toHtml",function(t){var e,n=h(r);for(t.data.dataValue.forEach(n.iterator,CKEDITOR.NODE_ELEMENT,!0);e=n.toBeWrapped.pop();){var i=e[0],o=i.parent;o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"]&&o.replaceWith(i),r.wrapElement(e[0],e[1])}a=t.data.protectedWhitespaces?3==t.data.dataValue.children.length&&c.isParserWidgetWrapper(t.data.dataValue.children[1]):1==t.data.dataValue.children.length&&c.isParserWidgetWrapper(t.data.dataValue.children[0])},null,null,8),l.on("dataReady",function(){if(s)for(var t,e,n=l.editable().find(".cke_widget_wrapper"),i=0,o=n.count();i<o;++i)(e=(t=n.getItem(i)).getFirst(c.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&e.data("widget")?(e.replace(t),r.wrapElement(e)):t.remove();s=0,r.destroyAll(!0),r.initOnAll()}),l.on("loadSnapshot",function(t){/data-cke-widget/.test(t.data)&&(s=1),r.destroyAll(!0)},null,null,9),l.on("paste",function(t){(t=t.data).dataValue=t.dataValue.replace(H,b),t.range&&(t=c.getNestedEditable(l.editable(),t.range.startContainer))&&(t=CKEDITOR.filter.instances[t.data("cke-filter")])&&l.setActiveFilter(t)}),l.on("afterInsertHtml",function(t){t.data.intoRange?r.checkWidgets({initOnlyNew:!0}):(l.fire("lockSnapshot"),r.checkWidgets({initOnlyNew:!0,focusInited:a}),l.fire("unlockSnapshot"))})}function k(i){var o=i.selected,r=[],a=o.slice(0),s=null;return{select:function(t){return CKEDITOR.tools.indexOf(o,t)<0&&r.push(t),0<=(t=CKEDITOR.tools.indexOf(a,t))&&a.splice(t,1),this},focus:function(t){return s=t,this},commit:function(){var t,e,n=i.focused!==s;for(i.editor.fire("lockSnapshot"),n&&(t=i.focused)&&l(i,t);t=a.pop();)o.splice(CKEDITOR.tools.indexOf(o,t),1),t.isInited()&&(e=t.editor.checkDirty(),t.setSelected(!1),!e&&t.editor.resetDirty());for(n&&s&&(e=i.editor.checkDirty(),i.focused=s,i.fire("widgetFocused",{widget:s}),s.setFocused(!0),!e&&i.editor.resetDirty());t=r.pop();)o.push(t),t.setSelected(!0);i.editor.fire("unlockSnapshot")}}}function w(t,e,n){var i=0;e=S(e);var o,r=t.data.classes||{};if(e){for(r=CKEDITOR.tools.clone(r);o=e.pop();)n?r[o]||(i=r[o]=1):r[o]&&(delete r[o],i=1);i&&t.setData("classes",r)}}function R(t){t.cancel()}function x(t,e){var n=t.editor,i=n.document,o=CKEDITOR.env.edge&&16<=CKEDITOR.env.version;if(!i.getById("cke_copybin")){var r=!n.blockless&&!CKEDITOR.env.ie||o?"div":"span",a=(o=i.createElement(r),i.createElement(r));r=CKEDITOR.env.ie&&CKEDITOR.env.version<9;a.setAttributes({id:"cke_copybin","data-cke-temp":"1"}),o.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),o.setStyle("ltr"==n.config.contentsLangDirection?"left":"right","-5000px");var s=n.createRange();s.setStartBefore(t.wrapper),s.setEndAfter(t.wrapper),o.setHtml('<span data-cke-copybin-start="1">\u200b</span>'+n.editable().getHtmlFromRange(s).getHtml()+'<span data-cke-copybin-end="1">\u200b</span>'),n.fire("saveSnapshot"),n.fire("lockSnapshot"),a.append(o),n.editable().append(a);var l=n.on("selectionChange",R,null,null,0),c=t.repository.on("checkSelection",R,null,null,0);if(r)var u=i.getDocumentElement().$,d=u.scrollTop;(s=n.createRange()).selectNodeContents(o),s.select(),r&&(u.scrollTop=d),setTimeout(function(){e||t.focus(),a.remove(),l.removeListener(),c.removeListener(),n.fire("unlockSnapshot"),e&&!n.readOnly&&(t.repository.del(t),n.fire("saveSnapshot"))},100)}}function S(t){return(t=(t=t.getDefinition().attributes)&&t["class"])?t.split(/\s+/):null}function K(){var t=CKEDITOR.document.getActive(),e=this.editor,n=e.editable();(n.isInline()?n:e.document.getWindow().getFrame()).equals(t)&&e.focusManager.focus(n)}function A(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function N(t){var n=null;t.on("data",function(){var t,e=this.data.classes;if(n!=e){for(t in n)e&&e[t]||this.removeClass(t);for(t in e)this.addClass(t);n=e}})}function L(e){e.on("data",function(){if(e.wrapper){var t=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());e.wrapper.setAttribute("role","region"),e.wrapper.setAttribute("aria-label",t)}},null,null,9999)}function P(t){if(t.draggable){var e,n=t.editor,i=t.wrapper.getLast(c.isDomDragHandlerContainer);i?e=i.findOne("img"):((i=new CKEDITOR.dom.element("span",n.document)).setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+n.plugins.widget.path+"images/handle.png)"}),(e=new CKEDITOR.dom.element("img",n.document)).setAttributes({"class":"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:n.lang.widget.move,height:15,role:"presentation"}),t.inline&&e.setAttribute("draggable","true"),i.append(e),t.wrapper.append(i)),t.wrapper.on("dragover",function(t){t.data.preventDefault()}),t.wrapper.on("mouseenter",t.updateDragHandlerPosition,t),setTimeout(function(){t.on("data",t.updateDragHandlerPosition,t)},50),!t.inline&&(e.on("mousedown",F,t),CKEDITOR.env.ie&&CKEDITOR.env.version<9)&&e.on("dragstart",function(t){t.data.preventDefault(!0)}),t.dragHandlerContainer=i}}function F(a){function t(){var t;for(h.reset();t=c.pop();)t.removeListener();var e=u;t=a.sender;var n=this.repository.finder,i=this.repository.liner,o=this.editor,r=this.editor.editable();CKEDITOR.tools.isEmpty(i.visible)||(e=n.getRange(e[0]),this.focus(),o.fire("drop",{dropRange:e,target:e.startContainer})),r.removeClass("cke_widget_dragging"),i.hideVisible(),o.fire("dragend",{target:t})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var e,n,i=this.repository.finder,o=this.repository.locator,r=this.repository.liner,s=this.editor,l=s.editable(),c=[],u=[];this.repository._.draggedWidget=this;var d=i.greedySearch(),h=CKEDITOR.tools.eventsBuffer(50,function(){e=o.locate(d),(u=o.sort(n,1)).length&&(r.prepare(d,e),r.placeLine(u[0]),r.cleanup())});l.addClass("cke_widget_dragging"),c.push(l.on("mousemove",function(t){n=t.data.$.clientY,h.input()})),s.fire("dragstart",{target:a.sender}),c.push(s.document.once("mouseup",t,this)),l.isInline()||c.push(CKEDITOR.document.once("mouseup",t,this))}}function M(t){var e,n,i=t.editables;if(t.editables={},t.editables)for(e in i)n=i[e],t.initEditable(e,"string"==typeof n?{selector:n}:n)}function $(t){if(t.mask){var e=t.wrapper.findOne(".cke_widget_mask");e||((e=new CKEDITOR.dom.element("img",t.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),t.wrapper.append(e)),t.mask=e}}function B(t){if(t.parts){var e,n,i={};for(n in t.parts)e=t.wrapper.findOne(t.parts[n]),i[n]=e;t.parts=i}}function j(n,t){z(n),B(n),M(n),$(n),P(n),N(n),L(n),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&n.wrapper.on("dragstart",function(t){var e=t.data.getTarget();c.getNestedEditable(n,e)||n.inline&&c.isDomDragHandler(e)||t.data.preventDefault()}),n.wrapper.removeClass("cke_widget_new"),n.element.addClass("cke_widget_element"),n.on("key",function(t){if(13==(t=t.data.keyCode))n.edit();else{if(t==CKEDITOR.CTRL+67||t==CKEDITOR.CTRL+88)return void x(n,t==CKEDITOR.CTRL+88);if(t in U||CKEDITOR.CTRL&t||CKEDITOR.ALT&t)return}return!1},null,null,999),n.on("doubleclick",function(t){n.edit()&&t.cancel()}),t.data&&n.on("data",t.data),t.edit&&n.on("edit",t.edit)}function z(t){(t.wrapper=t.element.getParent()).setAttribute("data-cke-widget-id",t.id)}function q(t){t.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(t.data)))}function t(){function t(){}function e(t,e,n){return!(!n||!this.checkElement(t))&&((t=n.widgets.getByElement(t,!0))&&t.checkStyleActive(this))}var s={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(t){if(this.widget=t.widget,this.group="string"==typeof t.group?[t.group]:t.group){var e;t=this.widget,s[t]||(s[t]={});for(var n=0,i=this.group.length;n<i;n++)e=this.group[n],s[t][e]||(s[t][e]=[]),s[t][e].push(this)}},apply:function(t){var e;t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&(e=t.widgets.focused,this.group&&this.removeStylesFromSameGroup(t),e.applyStyle(this))},remove:function(t){t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&t.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(t){var e,n,i=!1;if(!(t instanceof CKEDITOR.editor))return!1;if(n=t.elementPath(),this.checkApplicable(n,t))for(var o=0,r=this.group.length;o<r;o++){e=s[this.widget][this.group[o]];for(var a=0;a<e.length;a++)e[a]!==this&&e[a].checkActive(n,t)&&(t.widgets.focused.removeStyle(e[a]),i=!0)}return i},checkActive:function(t,e){return this.checkElementMatch(t.lastElement,0,e)},checkApplicable:function(t,e){return e instanceof CKEDITOR.editor&&this.checkElement(t.lastElement)},checkElementMatch:e,checkElementRemovable:e,checkElement:function(t){return!!c.isDomWidgetWrapper(t)&&((t=t.getFirst(c.isDomWidgetElement))&&t.data("widget")==this.widget)},buildPreview:function(t){return t||this._.definition.name},toAllowedContentRules:function(t){if(!t)return null;var e,n={};return(t=t.widgets.registered[this.widget])?t.styleableElements?(e=this.getClassesArray())?(n[t.styleableElements]={classes:e,propertiesOnly:!0},n):null:t.styleToAllowedContentRules?t.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var t=this._.definition.attributes&&this._.definition.attributes["class"];return t?CKEDITOR.tools.trim(t).split(/\s+/):null},applyToRange:t,removeFromRange:t,applyToObject:t})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}"),t())},beforeInit:function(t){void 0!==CKEDITOR.document.$.querySelectorAll&&(t.widgets=new e(t))},afterInit:function(t){if(void 0!==CKEDITOR.document.$.querySelectorAll){var e,n,i,o=t.widgets.registered;for(n in o)(i=(e=o[n]).button)&&t.ui.addButton&&t.ui.addButton(CKEDITOR.tools.capitalize(e.name,!0),{label:i,command:e.name,toolbar:"insert,10"});y(t)}}}),e.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(t,e){return(e=CKEDITOR.tools.prototypedCopy(e)).name=t,e._=e._||{},this.editor.fire("widgetDefinition",e),e.template&&(e.template=new CKEDITOR.template(e.template)),n(this.editor,e),o(this,e),this.registered[t]=e},addUpcastCallback:function(t){this._.upcastCallbacks.push(t)},checkSelection:function(){var t,e=this.editor.getSelection(),n=e.getSelectedElement(),i=k(this);if(n&&(t=this.getByElement(n,!0)))return i.focus(t).select(t).commit();if(!(e=e.getRanges()[0])||e.collapsed)return i.commit();for((e=new CKEDITOR.dom.walker(e)).evaluator=c.isDomWidgetWrapper;n=e.next();)i.select(this.getByElement(n));i.commit()},checkWidgets:function(t){this.fire("checkWidgets",CKEDITOR.tools.copy(t||{}))},del:function(t){if(this.focused===t){var e,n=t.editor,i=n.createRange();(e=i.moveToClosestEditablePosition(t.wrapper,!0))||(e=i.moveToClosestEditablePosition(t.wrapper,!1)),e&&n.getSelection().selectRanges([i])}t.wrapper.remove(),this.destroy(t,!0)},destroy:function(t,e){this.widgetHoldingFocusedEditable===t&&v(this,t,null,e),t.destroy(e),delete this.instances[t.id],this.fire("instanceDestroyed",t)},destroyAll:function(t,e){var n,i,o=this.instances;if(e&&!t){o=(i=e.find(".cke_widget_wrapper")).count();for(var r=0;r<o;++r)(n=this.getByElement(i.getItem(r),!0))&&this.destroy(n)}else for(i in o)n=o[i],this.destroy(n,t)},finalizeCreation:function(t){(t=t.getFirst())&&c.isDomWidgetWrapper(t)&&(this.editor.insertElement(t),(t=this.getByElement(t)).ready=!0,t.fire("ready"),t.focus())},getByElement:function(){function o(t){return t.is(e)&&t.data("cke-widget-id")}var e={div:1,span:1};return function(t,e){if(!t)return null;var n=o(t);if(!e&&!n)for(var i=this.editor.editable();(t=t.getParent())&&!t.equals(i)&&!(n=o(t)););return this.instances[n]||null}}(),initOn:function(t,e,n){if(e?"string"==typeof e&&(e=this.registered[e]):e=this.registered[t.data("widget")],!e)return null;var i=this.wrapElement(t,e.name);return i?i.hasClass("cke_widget_new")?(t=new c(this,this._.nextId++,t,e,n)).isInited()?this.instances[t.id]=t:null:this.getByElement(t):null},initOnAll:function(t){for(var e,n=[],i=(t=(t||this.editor.editable()).find(".cke_widget_new")).count();i--;)(e=this.initOn(t.getItem(i).getFirst(c.isDomWidgetElement)))&&n.push(e);return n},onWidget:function(e){var n=Array.prototype.slice.call(arguments);for(var t in n.shift(),this.instances){var i=this.instances[t];i.name==e&&i.on.apply(i,n)}this.on("instanceCreated",function(t){(t=t.data).name==e&&t.on.apply(t,n)})},parseElementClasses:function(t){if(!t)return null;t=CKEDITOR.tools.trim(t).split(/\s+/);for(var e,n={},i=0;e=t.pop();)-1==e.indexOf("cke_")&&(n[e]=i=1);return i?n:null},wrapElement:function(t,e){var n,i,o=null;if(t instanceof CKEDITOR.dom.element){if(e=e||t.data("widget"),!(n=this.registered[e]))return null;if((o=t.getParent())&&o.type==CKEDITOR.NODE_ELEMENT&&o.data("cke-widget-wrapper"))return o;t.hasAttribute("data-cke-widget-keep-attr")||t.data("cke-widget-keep-attr",t.data("widget")?1:0),t.data("widget",e),(i=m(n,t.getName()))&&a(t),(o=new CKEDITOR.dom.element(i?"span":"div")).setAttributes(f(i,e)),o.data("cke-display-name",n.pathName?n.pathName:t.getName()),t.getParent(!0)&&o.replace(t),t.appendTo(o)}else if(t instanceof CKEDITOR.htmlParser.element){if(e=e||t.attributes["data-widget"],!(n=this.registered[e]))return null;if((o=t.parent)&&o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"])return o;var r;"data-cke-widget-keep-attr"in t.attributes||(t.attributes["data-cke-widget-keep-attr"]=t.attributes["data-widget"]?1:0),e&&(t.attributes["data-widget"]=e),(i=m(n,t.name))&&a(t),(o=new CKEDITOR.htmlParser.element(i?"span":"div",f(i,e))).attributes["data-cke-display-name"]=n.pathName?n.pathName:t.name,(n=t.parent)&&(r=t.getIndex(),t.remove()),o.add(t),n&&p(n,r,o)}return o},_tests_createEditableFilter:s},CKEDITOR.event.implementOn(e.prototype),c.prototype={addClass:function(t){this.element.addClass(t),this.wrapper.addClass(c.WRAPPER_CLASS_PREFIX+t)},applyStyle:function(t){w(this,t,1)},checkStyleActive:function(t){var e;if(!(t=S(t)))return!1;for(;e=t.pop();)if(!this.hasClass(e))return!1;return!0},destroy:function(t){if(this.fire("destroy"),this.editables)for(var e in this.editables)this.destroyEditable(e,t);t||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(t,e){var n=this.editables[t],i=!0;if(n.removeListener("focus",A),n.removeListener("blur",K),this.editor.focusManager.remove(n),n.filter){for(var o in this.repository.instances){var r=this.repository.instances[o];r.editables&&(r=r.editables[t])&&r!==n&&n.filter===r.filter&&(i=!1)}i&&(n.filter.destroy(),(i=this.repository._.filters[this.name])&&delete i[t])}e||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[t]},edit:function(){var t={dialog:this.dialog},i=this;return!(!1===this.fire("edit",t)||!t.dialog)&&(this.editor.openDialog(t.dialog,function(n){var t,e;!1!==i.fire("dialog",n)&&(t=n.on("show",function(){n.setupContent(i)}),e=n.on("ok",function(){var e,t=i.on("data",function(t){e=1,t.cancel()},null,null,0);i.editor.fire("saveSnapshot"),n.commitContent(i),t.removeListener(),e&&(i.fire("data",i.data),i.editor.fire("saveSnapshot"))}),n.once("hide",function(){t.removeListener(),e.removeListener()}))}),!0)},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},hasClass:function(t){return this.element.hasClass(t)},initEditable:function(t,e){var n=this._findOneNotNested(e.selector);return!(!n||!n.is(CKEDITOR.dtd.$editable))&&(n=new i(this.editor,n,{filter:s.call(this.repository,this.name,t,e)}),(this.editables[t]=n).setAttributes({contenteditable:"true","data-cke-widget-editable":t,"data-cke-enter-mode":n.enterMode}),n.filter&&n.data("cke-filter",n.filter.id),n.addClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),e.pathName&&n.data("cke-display-name",e.pathName),this.editor.focusManager.add(n),n.on("focus",A,this),CKEDITOR.env.ie&&n.on("blur",K,this),n._.initialSetData=!0,n.setData(n.getHtml()),!0)},_findOneNotNested:function(t){t=this.wrapper.find(t);for(var e,n,i=0;i<t.count();i++)if(n=(e=t.getItem(i)).getAscendant(c.isDomWidgetWrapper),this.wrapper.equals(n))return e;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var t=this.editor.getSelection();if(t){var e=this.editor.checkDirty();t.fake(this.wrapper),!e&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(t){this.element.removeClass(t),this.wrapper.removeClass(c.WRAPPER_CLASS_PREFIX+t)},removeStyle:function(t){w(this,t,0)},setData:function(t,e){var n=this.data,i=0;if("string"==typeof t)n[t]!==e&&(n[t]=e,i=1);else{var o=t;for(t in o)n[t]!==o[t]&&(i=1,n[t]=o[t])}return i&&this.dataReady&&(q(this),this.fire("data",n)),this},setFocused:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_focused"),this.fire(t?"focus":"blur"),this},setSelected:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_selected"),this.fire(t?"select":"deselect"),this},updateDragHandlerPosition:function(){var t=this.editor,e=this.element.$,n=this._.dragHandlerOffset;e={x:e.offsetLeft,y:e.offsetTop-15};n&&e.x==n.x&&e.y==n.y||(n=t.checkDirty(),t.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:e.y+"px",left:e.x+"px",display:"block"}),t.fire("unlockSnapshot"),!n&&t.resetDirty(),this._.dragHandlerOffset=e)}},CKEDITOR.event.implementOn(c.prototype),c.getNestedEditable=function(t,e){return!e||e.equals(t)?null:c.isDomNestedEditable(e)?e:c.getNestedEditable(t,e.getParent())},c.isDomDragHandler=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-drag-handler")},c.isDomDragHandlerContainer=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_widget_drag_handler_container")},c.isDomNestedEditable=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-editable")},c.isDomWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-widget")},c.isDomWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-wrapper")},c.isDomWidget=function(t){return!!t&&(this.isDomWidgetWrapper(t)||this.isDomWidgetElement(t))},c.isParserWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-widget"]},c.isParserWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-cke-widget-wrapper"]},c.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",i.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(t){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,t=this.editor.dataProcessor.toHtml(t,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(t),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var H=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,U={37:1,38:1,39:1,40:1,8:1,46:1};(CKEDITOR.plugins.widget=c).repository=e,c.nestedEditable=i}(),function(){function t(t,e,n){this.editor=t,this.notification=null,this._message=new CKEDITOR.template(e),this._singularMessage=n?new CKEDITOR.template(n):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function e(t){this._weight=t||1,this._doneWeight=0,this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),t.prototype={createTask:function(t){t=t||{};var e,n=!this.notification;return n&&(this.notification=this._createNotification()),(e=this._addTask(t)).on("updated",this._onTaskUpdate,this),e.on("done",this._onTaskDone,this),e.on("canceled",function(){this._removeTask(e)},this),this.update(),n&&this.notification.show(),e},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},
_getNotificationMessage:function(){var t=this.getTaskCount(),e={current:this.getDoneTaskCount(),max:t,percentage:Math.round(100*this.getPercentage())};return(1==t&&this._singularMessage?this._singularMessage:this._message).output(e)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(t){return t=new e(t.weight),this._tasks.push(t),this._totalWeights+=t._weight,t},_removeTask:function(t){var e=CKEDITOR.tools.indexOf(this._tasks,t);-1!==e&&(t._doneWeight&&(this._doneWeights-=t._doneWeight),this._totalWeights-=t._weight,this._tasks.splice(e,1),this.update())},_onTaskUpdate:function(t){this._doneWeights+=t.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(t.prototype),e.prototype={done:function(){this.update(this._weight)},update:function(t){if(!this.isDone()&&!this.isCanceled()){var e=(t=Math.min(this._weight,t))-this._doneWeight;this._doneWeight=t,this.fire("updated",e),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.plugins.notificationAggregator=t,CKEDITOR.plugins.notificationAggregator.task=e}(),CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(t){t.filter.allow("*[!data-widget,!data-cke-upload-id]")}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(l,c,t){var u=CKEDITOR.fileTools,d=l.uploadRepository,e=t.supportedTypes?10:20;t.fileToElement&&l.on("paste",function(t){t=t.data;var e,n,i=l.widgets.registered[c],o=t.dataTransfer,r=o.getFilesCount(),a=i.loadMethod||"loadAndUpload";if(!t.dataValue&&r)for(n=0;n<r;n++)if(e=o.getFile(n),!i.supportedTypes||u.isTypeSupported(e,i.supportedTypes)){var s=i.fileToElement(e);e=d.create(e,void 0,i.loaderType),s&&(e[a](i.uploadUrl,i.additionalRequestParameters),CKEDITOR.fileTools.markElement(s,c,e.id),"loadAndUpload"!=a&&"upload"!=a||i.skipNotifications||CKEDITOR.fileTools.bindNotifications(l,e),t.dataValue+=s.getOuterHtml())}},null,null,e),CKEDITOR.tools.extend(t,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var e,n,i=this,o=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),r=d.loaders[o],a=CKEDITOR.tools.capitalize;r.on("update",function(t){"abort"===r.status&&"function"==typeof i.onAbort&&i.onAbort(r),i.wrapper&&i.wrapper.getParent()?(l.fire("lockSnapshot"),t="on"+a(r.status),"abort"!==r.status&&"function"==typeof i[t]&&!1===i[t](r)||(n="cke_upload_"+r.status,i.wrapper&&n!=e&&(e&&i.wrapper.removeClass(e),i.wrapper.addClass(n),e=n),"error"!=r.status&&"abort"!=r.status||l.widgets.del(i)),l.fire("unlockSnapshot")):(CKEDITOR.instances[l.name]&&l.editable().find('[data-cke-upload-id="'+o+'"]').count()||r.abort(),t.removeListener())}),r.update()},replaceWith:function(t,e){if(""===t.trim())l.widgets.del(this);else{var n,i,o=this==l.widgets.focused,r=l.editable(),a=l.createRange();o||(i=l.getSelection().createBookmarks()),a.setStartBefore(this.wrapper),a.setEndAfter(this.wrapper),o&&(n=a.createBookmark()),r.insertHtmlIntoRange(t,a,e),l.widgets.checkWidgets({initOnlyNew:!0}),l.widgets.destroy(this,!0),o?(a.moveToBookmark(n),a.select()):l.getSelection().selectBookmarks(i)}},_getLoader:function(){var t=this.wrapper.findOne("[data-cke-upload-id]");return t?this.editor.uploadRepository.loaders[t.data("cke-upload-id")]:null}}),l.widgets.add(c,t)},markElement:function(t,e,n){t.setAttributes({"data-cke-upload-id":n,"data-widget":e})},bindNotifications:function(e,t){function n(){(i=e._.uploadWidgetNotificaionAggregator)&&!i.isFinished()||(i=e._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(e,e.lang.uploadwidget.uploadMany,e.lang.uploadwidget.uploadOne)).once("finished",function(){var t=i.getTaskCount();0===t?i.notification.hide():i.notification.update({message:1==t?e.lang.uploadwidget.doneOne:e.lang.uploadwidget.doneMany.replace("%1",t),type:"success",important:1})})}var i,o=null;t.on("update",function(){!o&&t.uploadTotal&&(n(),o=i.createTask({weight:t.uploadTotal})),o&&"uploading"==t.status&&o.update(t.uploaded)}),t.on("uploaded",function(){o&&o.done()}),t.on("error",function(){o&&o.cancel(),e.showNotification(t.message,"warning")}),t.on("abort",function(){o&&o.cancel(),CKEDITOR.instances[e.name]&&e.showNotification(e.lang.uploadwidget.abort,"info")})}}),function(){function n(t){return t<=9&&(t="0"+t),String(t)}function d(t){var e=[(e=new Date).getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()];return i+=1,"image-"+CKEDITOR.tools.array.map(e,n).join("")+"-"+i+"."+t}var i=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},init:function(l){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var c=CKEDITOR.fileTools,u=c.getUploadUrl(l.config,"image");u&&(c.addUploadWidget(l,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:u,fileToElement:function(){var t=new CKEDITOR.dom.element("img");return t.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),t},parts:{img:"img"},onUploading:function(t){this.parts.img.setAttribute("src",t.data)},onUploaded:function(t){var e=this.parts.img.$;this.replaceWith('<img src="'+t.url+'" width="'+(t.responseData.width||e.naturalWidth)+'" height="'+(t.responseData.height||e.naturalHeight)+'">')}}),l.on("paste",function(t){if(t.data.dataValue.match(/<img[\s\S]+data:/i)){t=t.data;var e,n,i,o=document.implementation.createHTMLDocument("");for((o=new CKEDITOR.dom.element(o.body)).data("cke-editable",1),o.appendHtml(t.dataValue),e=o.find("img"),i=0;i<e.count();i++){var r=(n=e.getItem(i)).getAttribute("src"),a=r&&"data:"==r.substring(0,5),s=null===n.data("cke-realelement");a&&s&&!n.data("cke-upload-id")&&!n.isReadOnly(1)&&(a=(a=r.match(/image\/([a-z]+?);/i))&&a[1]||"jpg",(r=l.uploadRepository.create(r,d(a))).upload(u),c.markElement(n,"uploadimage",r.id),c.bindNotifications(l,r))}t.dataValue=o.getHtml()}}))}}})}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(t){t.config.wsc_onFinish="function"==typeof t.config.wsc_onFinish?t.config.wsc_onFinish:function(){},t.config.wsc_onClose="function"==typeof t.config.wsc_onClose?t.config.wsc_onClose:function(){}},parseConfig:function(t){t.config.wsc_customerId=t.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",t.config.wsc_customDictionaryIds=t.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",t.config.wsc_userDictionaryName=t.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",t.config.wsc_customLoaderScript=t.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,t.config.wsc_interfaceLang=t.config.wsc_interfaceLang,CKEDITOR.config.wsc_cmd=t.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(t){"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css")},init:function(t){var e=CKEDITOR.env;this.parseConfig(t),this.parseApi(t),t.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||e.ie&&(e.version<8||e.quirks))},"undefined"==typeof t.plugins.scayt&&t.ui.addButton&&t.ui.addButton("SpellChecker",{label:t.lang.wsc.toolbar,click:function(t){var e=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(e=e.replace(/\s/g,""))?t.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),K=!1,CKEDITOR.plugins.add("balloonpanel",{init:function(){K||(CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/balloonpanel.css"),K=!0)}}),CKEDITOR.ui.balloonPanel=function(t,e){for(var n in this.editor=t,CKEDITOR.tools.extend(this,{width:360,height:"auto",triangleWidth:20,triangleHeight:20,triangleMinDistance:40},e,!0),this.templates={},this.templateDefinitions)this.templates[n]=new CKEDITOR.template(this.templateDefinitions[n]);this.parts={},this.focusables={},this.showListeners={},this.activeShowListeners={},this.rect={visible:!1},this.build(),t.on("destroy",function(){this.destroy()},this)},CKEDITOR.ui.balloonPanel.prototype={templateDefinitions:{panel:'<div class="cke {id} cke_reset_all cke_chrome cke_balloon cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="dialog" style="{style}" tabindex="-1" aria-labelledby="cke_{name}_arialbl"></div>',content:'<div class="cke_balloon_content">{content}</div>',title:'<div class="cke_balloon_title" role="presentation">{title}</div>',close:'<a class="cke_balloon_close_button" href="javascript:void(0)" title="Close" role="button" tabindex="-1"><span class="cke_label">X</span></a>',triangleOuter:'<span class="cke_balloon_triangle cke_balloon_triangle_outer"></span>',triangleInner:'<span class="cke_balloon_triangle cke_balloon_triangle_inner">&#8203;</span>'},build:function(){var t=this.editor;this.parts={title:CKEDITOR.dom.element.createFromHtml(this.templates.title.output({title:this.title})),close:CKEDITOR.dom.element.createFromHtml(this.templates.close.output()),panel:CKEDITOR.dom.element.createFromHtml(this.templates.panel.output({id:t.id,langDir:t.lang.dir,langCode:t.langCode,name:t.name,style:"display:none;",voiceLabel:t.lang.editorPanel+", "+t.name})),content:CKEDITOR.dom.element.createFromHtml(this.templates.content.output({content:this.content||""})),triangleOuter:CKEDITOR.dom.element.createFromHtml(this.templates.triangleOuter.output()),triangleInner:CKEDITOR.dom.element.createFromHtml(this.templates.triangleInner.output())},this.parts.panel.append(this.parts.title,1),this.parts.panel.append(this.parts.close,1),this.parts.panel.append(this.parts.triangleOuter),this.parts.panel.append(this.parts.content),this.parts.triangleOuter.append(this.parts.triangleInner),this.registerFocusable(this.parts.panel),this.registerFocusable(this.parts.close),this.parts.title.unselectable(),this.parts.close.unselectable(),CKEDITOR.document.getBody().append(this.parts.panel),this.resize(this.width,this.height),this.on("show",this.activateShowListeners,this),this.on("hide",this.deactivateShowListeners,this),this.parts.close.on("click",function(t){this.hide(),t.data.preventDefault()},this)},show:function(){this.rect.visible||(this.rect.visible=!0,this.parts.panel.show(),this.fire("show"))},hide:function(){this.rect.visible&&(this.rect.visible=!1,this.parts.panel.hide(),this.blur(),this.fire("hide"))},blur:function(){this.editor.focus()},move:function(t,e){this.rect.left=e,this.rect.top=t,this.parts.panel.setStyles({left:CKEDITOR.tools.cssLength(e),top:CKEDITOR.tools.cssLength(t)})},attach:function(){function p(t,e){return Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top))}function m(t,e,n,i){return(t={top:t,left:e}).right=t.left+n,t.bottom=t.top+i,t}function g(t,e){return t.right=e.right,t.width=t.right-t.left,e.y&&(t.y=e.y),t}function v(t){var e=n(t,!0);return t=n(t),e=g(e[0],e.pop()),t=g(t[0],t.pop()),e.bottom=t.bottom,e.height=e.bottom-e.top,t.y&&(e.y=t.y),t.top=e.top,t.height=e.height,[e,t]}function n(t,e){var n=e?t[0]:t[t.length-1],i=e?"top":"bottom";return CKEDITOR.tools.array.filter(t,function(t){if(t[i]===n[i])return t})}var y,b,E,_,T={right:"left",top:"bottom",topLeft:"bottomLeft",topRight:"bottomRight",bottom:"top",bottomLeft:"topLeft",bottomRight:"topRight",left:"right"};return function(t,e){if(t instanceof CKEDITOR.dom.selection){var n,i=t.getRanges();n=(o=(i=t.isFake&&t.isInTable()?CKEDITOR.tools.array.map(i,function(t){return t.getClientRects(!0)[0]}):i[i.length-1].getClientRects(!0))[0])===(l=i[i.length-1])?[o]:o.top===l.top?[g(o,l)]:v(i)}(e instanceof CKEDITOR.dom.element||!e)&&(e={focusElement:e}),!0===(e=CKEDITOR.tools.extend(e,{show:!0})).show&&this.show(),this.fire("attach"),y=CKEDITOR.document.getWindow(),b=this.editor.window.getFrame(),E=this.editor.editable(),_=E.isInline();var o,r,a,s,l=(i=this.getWidth())*(o=this.getHeight());r=t.getClientRect&&t.getClientRect(!0);var c=_?E.getClientRect(!0):b.getClientRect(!0),u=y.getViewPaneSize(),d=y.getScrollPosition(),h={top:Math.max(c.top,d.y),left:Math.max(c.left,d.x),right:Math.min(c.right,u.width+d.x),bottom:Math.min(c.bottom,u.height+d.y)};for(var f in _&&this.editor.elementMode===CKEDITOR.ELEMENT_MODE_INLINE&&((h=this._getViewPaneRect(y)).right+=this.triangleWidth,h.bottom+=this.triangleHeight),n?(CKEDITOR.tools.array.forEach(n,function(t){this._adjustElementRect(t,_?h:c)},this),r=this._getAlignments(n[0],i,o),1<n.length&&(r["bottom hcenter"]=this._getAlignments(n[1],i,o)["bottom hcenter"]),s={"top hcenter":!0,"bottom hcenter":!0}):(this._adjustElementRect(r,_?h:c),r=this._getAlignments(r,i,o)),s||r){if(s=m(r[f].top,r[f].left,i,o),0==(s=r[f].areaDifference=l-p(s,h))){a=f;break}a||(a=f),s<r[a].areaDifference&&(a=f)}f=(s=this.parts.panel.getAscendant(function(t){return!(t instanceof CKEDITOR.dom.document)&&"static"!==t.getComputedStyle("position")}))?parseInt(s.getComputedStyle("margin-left"),10):0,s=s?parseInt(s.getComputedStyle("margin-top"),10):0,this.move(r[a].top-s,r[a].left-f),a=a.split(" "),this.setTriangle(T[a[0]],a[1]),!1!==e.focusElement&&(e.focusElement||this.parts.panel).focus()}}(),resize:function(t,e){this.rect.width=t,this.rect.height=e,this.parts.panel.setStyles({width:CKEDITOR.tools.cssLength(t),height:CKEDITOR.tools.cssLength(e)})},getWidth:function(){return"auto"===this.rect.width?this.parts.panel.getClientRect().width:this.rect.width},getHeight:function(){return"auto"===this.rect.height?this.parts.panel.getClientRect().height:this.rect.height},setTriangle:function(t,e){var n=this.parts.triangleOuter,i=this.parts.triangleInner;this.triangleSide&&(n.removeClass("cke_balloon_triangle_"+this.triangleSide),n.removeClass("cke_balloon_triangle_align_"+this.triangleAlign),i.removeClass("cke_balloon_triangle_"+this.triangleSide)),this.triangleSide=t,this.triangleAlign=e,n.addClass("cke_balloon_triangle_"+t),n.addClass("cke_balloon_triangle_align_"+e),i.addClass("cke_balloon_triangle_"+t)},registerFocusable:function(t){this.editor.focusManager.add(t),this.focusables[t.getUniqueId()]=t},deregisterFocusable:function(t){this.editor.focusManager.remove(t),delete this.focusables[t.getUniqueId()]},addShowListener:function(t){var e=CKEDITOR.tools.getNextNumber();this.showListeners[e]=t,this.rect.visible&&this.activateShowListener(e);var n=this;return{removeListener:function(){n.removeShowListener(e)}}},removeShowListener:function(t){this.deactivateShowListener(t),delete this.showListeners[t]},activateShowListener:function(t){this.activeShowListeners[t]=this.showListeners[t].call(this)},deactivateShowListener:function(t){this.activeShowListeners[t]&&this.activeShowListeners[t].removeListener(),delete this.activeShowListeners[t]},activateShowListeners:function(){for(var t in this.showListeners)this.activateShowListener(t)},deactivateShowListeners:function(){for(var t in this.activeShowListeners)this.deactivateShowListener(t)},destroy:function(){this.deactivateShowListeners(),this.parts.panel.remove()},setTitle:function(t){this.parts.title.setHtml(t)},_getAlignments:function(t,e,n){return{"right vcenter":{top:t.top+t.height/2-n/2,left:t.right+this.triangleWidth},"left vcenter":{top:t.top+t.height/2-n/2,left:t.left-e-this.triangleWidth},"top hcenter":{top:t.top-n-this.triangleHeight,left:t.left+t.width/2-e/2},"top left":{top:t.top-n-this.triangleHeight,left:t.left+t.width/2-this.triangleMinDistance},"top right":{top:t.top-n-this.triangleHeight,left:t.right-t.width/2-e+this.triangleMinDistance},"bottom hcenter":{top:t.bottom+this.triangleHeight,left:t.left+t.width/2-e/2},"bottom left":{top:t.bottom+this.triangleHeight,left:t.left+t.width/2-this.triangleMinDistance},"bottom right":{top:t.bottom+this.triangleHeight,left:t.right-t.width/2-e+this.triangleMinDistance}}},_adjustElementRect:function(t,e){t.left=Math.max(e.left,Math.min(e.right-1,t.left)),t.right=Math.max(e.left,Math.min(e.right,t.right)),t.top=Math.max(e.top,Math.min(e.bottom-1,t.top)),t.bottom=Math.max(e.top,Math.min(e.bottom,t.bottom))},_getViewPaneRect:function(t){var e=t.getScrollPosition();return t=t.getViewPaneSize(),{top:e.y,bottom:e.y+t.height,left:e.x,right:e.x+t.width}}},CKEDITOR.event.implementOn(CKEDITOR.ui.balloonPanel.prototype),function(){function t(t,e){this.editor=t,this.options=e,this.toolbar=new CKEDITOR.ui.balloonToolbar(t),this.options&&"undefined"==typeof this.options.priority&&(this.options.priority=CKEDITOR.plugins.balloontoolbar.PRIORITY.MEDIUM),this._loadButtons()}function e(t){this.editor=t,this._contexts=[],this._listeners=[],this._attachListeners()}var n=CKEDITOR.tools.array.filter(["matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector"],function(t){return!!window.HTMLElement&&t in HTMLElement.prototype})[0];CKEDITOR.ui.balloonToolbarView=function(t,e){e=CKEDITOR.tools.extend(e||{},{width:"auto",triangleWidth:7,triangleHeight:7}),CKEDITOR.ui.balloonPanel.call(this,t,e),this._listeners=[]},CKEDITOR.ui.balloonToolbar=function(t,e){this._view=new CKEDITOR.ui.balloonToolbarView(t,e),this._items={}},CKEDITOR.ui.balloonToolbar.prototype.attach=function(t,e){this._view.renderItems(this._items),this._view.attach(t,{focusElement:!1,show:!e})},CKEDITOR.ui.balloonToolbar.prototype.show=function(){this._view.show()},CKEDITOR.ui.balloonToolbar.prototype.hide=function(){this._view.hide()},CKEDITOR.ui.balloonToolbar.prototype.addItem=function(t,e){this._items[t]=e},CKEDITOR.ui.balloonToolbar.prototype.addItems=function(t){for(var e in t)this.addItem(e,t[e])},CKEDITOR.ui.balloonToolbar.prototype.getItem=function(t){return this._items[t]},CKEDITOR.ui.balloonToolbar.prototype.deleteItem=function(t){this._items[t]&&(delete this._items[t],this._view.renderItems(this._items))},CKEDITOR.ui.balloonToolbar.prototype.destroy=function(){for(var t in this._items)this._items[t].destroy&&this._items[t].destroy(),this.deleteItem(t);this._pointedElement=null,this._view.destroy()},CKEDITOR.ui.balloonToolbar.prototype.refresh=function(){for(var t in this._items){var e=this._view.editor.getCommand(this._items[t].command);e&&e.refresh(this._view.editor,this._view.editor.elementPath())}},t.prototype={destroy:function(){this.toolbar&&this.toolbar.destroy()},show:function(t){t&&this.toolbar.attach(t),this.toolbar.show()},hide:function(){this.toolbar.hide()},refresh:function(){this.toolbar.refresh()},_matchRefresh:function(t,e){var n=null;return this.options.refresh&&(n=this.options.refresh(this.editor,t,e)||null)&&!1==n instanceof CKEDITOR.dom.element&&(n=t&&t.lastElement||this.editor.editable()),n},_matchWidget:function(){var t=this.options.widgets,e=null;if(t){var n=this.editor.widgets&&this.editor.widgets.focused&&this.editor.widgets.focused.name;"string"==typeof t&&(t=t.split(",")),-1!==CKEDITOR.tools.array.indexOf(t,n)&&(e=this.editor.widgets.focused.element)}return e},_matchElement:function(t){return this.options.cssSelector&&n&&t.$[n](this.options.cssSelector)?t:null},_loadButtons:function(){var t=this.options.buttons;t&&(t=t.split(","),CKEDITOR.tools.array.forEach(t,function(t){var e=this.editor.ui.create(t);e&&this.toolbar.addItem(t,e)},this))}};var i=!(e.prototype={create:function(t){return t=new CKEDITOR.plugins.balloontoolbar.context(this.editor,t),this.add(t),t},add:function(t){this._contexts.push(t)},check:function(e){function t(t,n,i){a(t,function(t){if(!r||r.options.priority>t.options.priority){var e=n(t,i);e instanceof CKEDITOR.dom.element&&(o=e,r=t)}})}function n(t,e){return t._matchElement(e)}if(e||(e=this.editor.getSelection(),CKEDITOR.tools.array.forEach(e.getRanges(),function(t){t.shrink(CKEDITOR.SHRINK_ELEMENT,!0)})),e){var o,r,a=CKEDITOR.tools.array.forEach,i=e.getRanges()[0],s=i&&i.startPath();if(t(this._contexts,function(t){return t._matchRefresh(s,e)}),t(this._contexts,function(t){return t._matchWidget()}),s)for((i=e.getSelectedElement())&&!i.isReadOnly()&&t(this._contexts,n,i),i=0;i<s.elements.length;i++){var l=s.elements[i];l.isReadOnly()||t(this._contexts,n,l)}this.hide(),r&&r.show(o)}},hide:function(){CKEDITOR.tools.array.forEach(this._contexts,function(t){t.hide()})},destroy:function(){CKEDITOR.tools.array.forEach(this._listeners,function(t){t.removeListener()}),this._listeners.splice(0,this._listeners.length),this._clear()},_clear:function(){CKEDITOR.tools.array.forEach(this._contexts,function(t){t.destroy()}),this._contexts.splice(0,this._contexts.length)},_refresh:function(){CKEDITOR.tools.array.forEach(this._contexts,function(t){t.refresh()})},_attachListeners:function(){this._listeners.push(this.editor.on("destroy",function(){this.destroy()},this),this.editor.on("selectionChange",function(){this.check()},this),this.editor.on("mode",function(){this.hide()},this,null,9999),this.editor.on("blur",function(){this.hide()},this,null,9999),this.editor.on("afterInsertHtml",function(){this.check(),this._refresh()},this,null,9999))}}),o=!1;CKEDITOR.plugins.add("balloontoolbar",{requires:"balloonpanel",beforeInit:function(t){o||(CKEDITOR.document.appendStyleSheet(this.path+"skins/default.css"),CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/balloontoolbar.css"),o=!0),t.balloonToolbars=new CKEDITOR.plugins.balloontoolbar.contextManager(t)},init:function(t){t.balloonToolbars=new CKEDITOR.plugins.balloontoolbar.contextManager(t),i||(i=!0,CKEDITOR.ui.balloonToolbarView.prototype=CKEDITOR.tools.extend({},CKEDITOR.ui.balloonPanel.prototype),CKEDITOR.ui.balloonToolbarView.prototype.build=function(){CKEDITOR.ui.balloonPanel.prototype.build.call(this),this.parts.panel.addClass("cke_balloontoolbar"),this.parts.title.remove(),this.deregisterFocusable(this.parts.close),this.parts.close.remove()},CKEDITOR.ui.balloonToolbarView.prototype.show=function(){function t(){this.attach(this._pointedElement,{focusElement:!1})}if(!this.rect.visible){var e=this.editor.editable();this._detachListeners(),this._listeners.push(this.editor.on("change",t,this)),this._listeners.push(this.editor.on("resize",t,this)),this._listeners.push(CKEDITOR.document.getWindow().on("resize",t,this)),this._listeners.push(e.attachListener(e.getDocument(),"scroll",t,this)),CKEDITOR.ui.balloonPanel.prototype.show.call(this)}},CKEDITOR.ui.balloonToolbarView.prototype.hide=function(){this._detachListeners(),CKEDITOR.ui.balloonPanel.prototype.hide.call(this)},CKEDITOR.ui.balloonToolbarView.prototype.blur=function(t){t&&this.editor.focus()},CKEDITOR.ui.balloonToolbarView.prototype._getAlignments=function(t,e,n){return{"bottom hcenter":(t=CKEDITOR.ui.balloonPanel.prototype._getAlignments.call(this,t,e,n))["bottom hcenter"],"top hcenter":t["top hcenter"]}},CKEDITOR.ui.balloonToolbarView.prototype._detachListeners=function(){this._listeners.length&&(CKEDITOR.tools.array.forEach(this._listeners,function(t){t.removeListener()}),this._listeners=[])},CKEDITOR.ui.balloonToolbarView.prototype.destroy=function(){this._deregisterItemFocusables(),CKEDITOR.ui.balloonPanel.prototype.destroy.call(this),this._detachListeners()},CKEDITOR.ui.balloonToolbarView.prototype.renderItems=function(e){var n=[],t=CKEDITOR.tools.objectKeys(e),i=!1;this._deregisterItemFocusables(),CKEDITOR.tools.array.forEach(t,function(t){CKEDITOR.ui.richCombo&&e[t]instanceof CKEDITOR.ui.richCombo&&i?(i=!1,n.push("</span>")):CKEDITOR.ui.richCombo&&e[t]instanceof CKEDITOR.ui.richCombo||i||(i=!0,n.push('<span class="cke_toolgroup">')),e[t].render(this.editor,n)},this),i&&n.push("</span>"),this.parts.content.setHtml(n.join("")),this.parts.content.unselectable(),CKEDITOR.tools.array.forEach(this.parts.content.find("a").toArray(),function(t){t.setAttribute("draggable","false"),this.registerFocusable(t)},this)},CKEDITOR.ui.balloonToolbarView.prototype.attach=function(t,e){this._pointedElement=t,CKEDITOR.ui.balloonPanel.prototype.attach.call(this,t,e)},CKEDITOR.ui.balloonToolbarView.prototype._deregisterItemFocusables=function(){var t,e=this.focusables;for(t in e)this.parts.content.contains(e[t])&&this.deregisterFocusable(e[t])})}}),CKEDITOR.plugins.balloontoolbar={context:t,contextManager:e,PRIORITY:{LOW:999,MEDIUM:500,HIGH:10}}}(),CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,notification,button,toolbar,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,copyformatting,div,resize,elementspath,enterkey,entities,popup,filetools,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wsc,balloonpanel,balloontoolbar",CKEDITOR.config.skin="moono-lisa",A=function(t,e){var n=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var i=0;i<t.length;i++)CKEDITOR.skin.icons[t[i]]={path:n,offset:-t[++i],bgsize:t[++i]}},CKEDITOR.env.hidpi?A("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,copyformatting,480,,creatediv,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,smiley,1080,,justifyblock,1104,,justifycenter,1128,,justifyleft,1152,,justifyright,1176,,language,1200,,anchor-rtl,1224,,anchor,1248,,link,1272,,unlink,1296,,bulletedlist-rtl,1320,,bulletedlist,1344,,numberedlist-rtl,1368,,numberedlist,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastetext-rtl,1536,,pastetext,1560,,pastefromword-rtl,1584,,pastefromword,1608,,preview-rtl,1632,,preview,1656,,print,1680,,removeformat,1704,,save,1728,,selectall,1752,,showblocks-rtl,1776,,showblocks,1800,,source-rtl,1824,,source,1848,,specialchar,1872,,scayt,1896,,table,1920,,redo-rtl,1944,,redo,1968,,undo-rtl,1992,,undo,2016,,spellchecker,2040,","icons_hidpi.png"):A("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,copyformatting,480,auto,creatediv,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,smiley,1080,auto,justifyblock,1104,auto,justifycenter,1128,auto,justifyleft,1152,auto,justifyright,1176,auto,language,1200,auto,anchor-rtl,1224,auto,anchor,1248,auto,link,1272,auto,unlink,1296,auto,bulletedlist-rtl,1320,auto,bulletedlist,1344,auto,numberedlist-rtl,1368,auto,numberedlist,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastetext-rtl,1536,auto,pastetext,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,preview-rtl,1632,auto,preview,1656,auto,print,1680,auto,removeformat,1704,auto,save,1728,auto,selectall,1752,auto,showblocks-rtl,1776,auto,showblocks,1800,auto,source-rtl,1824,auto,source,1848,auto,specialchar,1872,auto,scayt,1896,auto,table,1920,auto,redo-rtl,1944,auto,redo,1968,auto,undo-rtl,1992,auto,undo,2016,auto,spellchecker,2040,auto","icons.png"),CKEDITOR.lang.languages={af:1,sq:1,ar:1,az:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,"de-ch":1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,oc:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,"es-mx":1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1})}(),CKEDITOR.config.customConfig="/assets/ckeditor/config-bc81d2defdb1e9cc1862f3cf8625a1124b4a60400d5bf0c12112318d1ad8f607.js",CKEDITOR.editorConfig=function(r){r.filebrowserImageBrowseLinkUrl="/ckeditor/pictures",r.filebrowserImageBrowseUrl="/ckeditor/pictures",r.filebrowserImageUploadUrl="/ckeditor/pictures?",r.filebrowserUploadMethod="form",r.allowedContent=!0,r.format_tags="p;h2;h3",r.removePlugins="balloonpanel,balloontoolbar,copyformatting,scayt,wsc",r.filebrowserParams=function(){for(var t,e,n,i=document.getElementsByTagName("meta"),o=new Object,r=0;r<i.length;r++)switch((n=i[r]).name){case"csrf-token":t=n.content;break;case"csrf-param":e=n.content;break;default:continue}return e!==undefined&&t!==undefined&&(o[e]=t),o},r.addQueryString=function(t,e){var n=[];if(!e)return t;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return t+(-1!=t.indexOf("?")?"&":"?")+n.join("&")},CKEDITOR.on("dialogDefinition",function(t){var e,n,i=t.data.name,o=t.data.definition;-1<CKEDITOR.tools.indexOf(["link","image","attachment","flash"],i)&&(n=null==(e=o.getContents("Upload")||o.getContents("upload"))?null:e.get("upload"))&&n.filebrowser&&n.filebrowser.params===undefined&&(n.filebrowser.params=r.filebrowserParams(),n.action=r.addQueryString(n.action,n.filebrowser.params))}),r.toolbar=[{name:"document",groups:["mode","document","doctools"],items:["Source"]},{name:"clipboard",groups:["clipboard","undo"],items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["Image","Flash","Table","HorizontalRule","SpecialChar"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"],items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]}],r.toolbar_mini=[{name:"paragraph",groups:["list"],items:["NumberedList","BulletedList"]},{name:"links",items:["Link","Unlink"]},{name:"styles",items:["Format"]},{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike"]}],r.toolbar_admin=r.toolbar_mini.concat([{name:"insert",items:["Image","Table"]}]),r.toolbar="mini"},function(){window.SocialShareButton={openUrl:function(t,e,n){var i;return null==e&&(e=640),null==n&&(n=480),i="width="+e+",height="+n+",left="+(screen.width/2-e/2)+",top="+(.3*screen.height-n/2)+",menubar=no,status=no,location=no",window.open(t,"popup",i),!1},share:function(n){var t,e,i,o,r,a,s,l,c,u,d,h,f;switch(l=$(n).data("site"),e=$(n).data("appkey")||"",t=$(n).parent(),c=encodeURIComponent($(n).data(l+"-title")||t.data("title")||""),s=encodeURIComponent(t.data("img")||""),d=encodeURIComponent(t.data("url")||""),h=encodeURIComponent(t.data("via")||""),i=encodeURIComponent(t.data("desc")||" "),"function"==typeof(o=window[window.GoogleAnalyticsObject||"ga"])&&o("send","event","Social Share Button","click",l),0===d.length&&(d=encodeURIComponent(location.href)),l){case"email":location.href="mailto:?to=&subject="+c+"&body="+d;break;case"weibo":SocialShareButton.openUrl(
"http://service.weibo.com/share/share.php?url="+d+"&type=3&pic="+s+"&title="+c+"&appkey="+e,620,370);break;case"twitter":a=encodeURIComponent($(n).data(l+"-hashtags")||t.data("hashtags")||""),f="",0<h.length&&(f="&via="+h),SocialShareButton.openUrl("https://twitter.com/intent/tweet?url="+d+"&text="+c+"&hashtags="+a+f,650,300);break;case"douban":SocialShareButton.openUrl("http://shuo.douban.com/!service/share?href="+d+"&name="+c+"&image="+s+"&sel="+i,770,470);break;case"facebook":SocialShareButton.openUrl("http://www.facebook.com/sharer/sharer.php?u="+d+"&display=popup&quote="+i,555,400);break;case"qq":SocialShareButton.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+d+"&title="+c+"&pics="+s+"&summary="+i+"&site="+e);break;case"google_plus":SocialShareButton.openUrl("https://plus.google.com/share?url="+d);break;case"google_bookmark":SocialShareButton.openUrl("https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+d+"&title="+c);break;case"delicious":SocialShareButton.openUrl("https://del.icio.us/save?url="+d+"&title="+c+"&jump=yes&pic="+s);break;case"pinterest":SocialShareButton.openUrl("http://www.pinterest.com/pin/create/button/?url="+d+"&media="+s+"&description="+c);break;case"linkedin":SocialShareButton.openUrl("https://www.linkedin.com/shareArticle?mini=true&url="+d+"&title="+c+"&summary="+i);break;case"xing":SocialShareButton.openUrl("https://www.xing.com/spi/shares/new?url="+d);break;case"vkontakte":SocialShareButton.openUrl("http://vk.com/share.php?url="+d+"&title="+c+"&image="+s);break;case"odnoklassniki":SocialShareButton.openUrl("https://connect.ok.ru/offer?url="+d+"&title="+c+"&description="+i+"&imageUrl="+s);break;case"wechat":if(!window.SocialShareWeChatButton)throw new Error("You should require social-share-button/wechat to your application.js");window.SocialShareWeChatButton.qrcode({url:decodeURIComponent(d),header:$(n).attr("title"),footer:$(n).data("wechat-footer")});break;case"tumblr":r=function(t){var e;if(e=$(n).attr("data-"+t))return encodeURIComponent(e)},u=function(){var t,e,n,i;return e=r("type")||"link",t=function(){switch(e){case"text":return"title="+(c=r("title")||c);case"photo":return c=r("caption")||c,i=r("source")||s,"caption="+c+"&source="+i;case"quote":return n=r("quote")||c,i=r("source")||"","quote="+n+"&source="+i;default:return c=r("title")||c,d=r("url")||d,"name="+c+"&url="+d}}(),"/"+e+"?"+t},SocialShareButton.openUrl("http://www.tumblr.com/share"+u());break;case"reddit":SocialShareButton.openUrl("http://www.reddit.com/submit?url="+d+"&newwindow=1",555,400);break;case"hacker_news":SocialShareButton.openUrl("http://news.ycombinator.com/submitlink?u="+d+"&t="+c,770,500);break;case"telegram":SocialShareButton.openUrl("https://telegram.me/share/url?text="+c+"&url="+d)}return!1}}}.call(this),function(u){var l=function(t,e){var n,i=t.charCodeAt(e);return 55296<=i&&i<=56319&&t.length>e+1&&56320<=(n=t.charCodeAt(e+1))&&n<=57343?t.substring(e,e+2):t[e]},d=function(t,e,n){for(var i,o="",r=0,a=0,s=t.length;r<s;)i=l(t,r),e<=a&&a<n&&(o+=i),r+=i.length,a+=1;return o};u.fn.initial=function(s){var l,c=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#b49255","#a94136"];return this.each(function(){var t=u(this),e=u.extend({name:"Name",color:null,seed:0,charCount:1,textColor:"#ffffff",height:100,width:100,fontSize:60,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif",radius:0},s);e=u.extend(e,t.data());var n=d(e.name,0,e.charCount).toUpperCase(),i=u('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:e.textColor,"font-family":e.fontFamily}).html(n).css({"font-weight":e.fontWeight,"font-size":e.fontSize+"px"});if(null==e.color){var o=Math.floor((n.charCodeAt(0)+e.seed)%c.length);l=c[o]}else l=e.color;var r=u("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:e.width,height:e.height}).css({"background-color":l,width:e.width+"px",height:e.height+"px","border-radius":e.radius+"px","-moz-border-radius":e.radius+"px"});r.append(i);var a=window.btoa(unescape(encodeURIComponent(u("<div>").append(r.clone()).html())));t.attr("src","data:image/svg+xml;base64,"+a)})}}(jQuery),function(i){"use strict";function e(){return C.urlPrefix+C.visitsUrl}function r(){return C.urlPrefix+C.eventsUrl}function o(){return(C.useBeacon||C.trackNow)&&A&&"undefined"!=typeof i.navigator.sendBeacon}function n(t,e,n){var i="",o="";if(n){var r=new Date;r.setTime(r.getTime()+60*n*1e3),i="; expires="+r.toGMTString()}var a=C.cookieDomain||C.domain;a&&(o="; domain="+a),document.cookie=t+"="+escape(e)+i+o+"; path=/"}function a(t){var e,n,i=t+"=",o=document.cookie.split(";");for(e=0;e<o.length;e++){for(n=o[e];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(i))return unescape(n.substring(i.length,n.length))}return null}function s(t){n(t,"",-1)}function l(t){a("ahoy_debug")&&i.console.log(t)}function c(){for(var t;t=K.shift();)t();S=!0}function u(t){S?t():K.push(t)}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function h(){A&&n("ahoy_events",JSON.stringify(N),1)}function f(){return w("meta[name=csrf-token]").attr("content")}function p(){return w("meta[name=csrf-param]").attr("content")}function m(t){var e=f();e&&t.setRequestHeader("X-CSRF-Token",e)}function g(t,e,n){A&&w.ajax({type:"POST",url:t,data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:m,success:n})}function v(t){var e={events:[t],visit_token:t.visit_token,visitor_token:t.visitor_token};return delete t.visit_token,delete t.visitor_token,e}function y(e){u(function(){g(r(),v(e),function(){for(var t=0;t<N.length;t++)if(N[t].id==e.id){N.splice(t,1);break}h()})})}function b(o){u(function(){var t=v(o),e=p(),n=f();e&&n&&(t[e]=n);var i=new Blob([JSON.stringify(t)],{type:"application/json; charset=utf-8"});navigator.sendBeacon(r(),i)})}function E(){return C.page||i.location.pathname}function _(t){var e=w(t.currentTarget);return{tag:e.get(0).tagName.toLowerCase(),id:e.attr("id"),"class":e.attr("class"),page:E(),section:e.closest("*[data-section]").data("section")}}function T(){if(S=!1,O=D.getVisitId(),I=D.getVisitorId(),k=a("ahoy_track"),O&&I&&!k)l("Active visit"),c();else if(k&&s("ahoy_track"),O||n("ahoy_visit",O=d(),R),a("ahoy_visit")){l("Visit started"),I||n("ahoy_visitor",I=d(),x);var t={visit_token:O,visitor_token:I,platform:C.platform,landing_page:i.location.href,screen_width:i.screen.width,screen_height:i.screen.height};0<document.referrer.length&&(t.referrer=document.referrer),l(t),g(e(),t,c)}else l("Cookies disabled"),c()}var C={urlPrefix:"",visitsUrl:"/ahoy/visits",eventsUrl:"/ahoy/events",cookieDomain:null,page:null,platform:"Web",useBeacon:!1,startOnReady:!0},D=i.ahoy||i.Ahoy||{};D.configure=function(t){for(var e in t)t.hasOwnProperty(e)&&(C[e]=t[e])},D.configure(D);var O,I,k,w=i.jQuery||i.Zepto||i.$,R=240,x=1051200,S=!1,K=[],A="undefined"!=typeof JSON&&"undefined"!=typeof JSON.stringify,N=[];D.getVisitId=D.getVisitToken=function(){return a("ahoy_visit")},D.getVisitorId=D.getVisitorToken=function(){return a("ahoy_visitor")},D.reset=function(){return s("ahoy_visit"),s("ahoy_visitor"),s("ahoy_events"),s("ahoy_track"),!0},D.debug=function(t){return!1===t?s("ahoy_debug"):n("ahoy_debug","t",525600),!0},D.track=function(t,e){var n={id:d(),name:t,properties:e||{},time:(new Date).getTime()/1e3};w(function(){l(n)}),u(function(){D.getVisitId()||T(),n.visit_token=D.getVisitId(),n.visitor_token=D.getVisitorId(),o()?b(n):(N.push(n),h(),setTimeout(function(){y(n)},1e3))})},D.trackView=function(t){var e={url:i.location.href,title:document.title,page:E()};if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);D.track("$view",e)},D.trackClicks=function(){w(document).on("click","a, button, input[type=submit]",function(t){var e=w(t.currentTarget),n=_(t);n.text="input"==n.tag?e.val():w.trim(e.text().replace(/[\s\r\n]+/g," ")),n.href=e.attr("href"),D.track("$click",n)})},D.trackSubmits=function(){w(document).on("submit","form",function(t){var e=_(t);D.track("$submit",e)})},D.trackChanges=function(){w(document).on("change","input, textarea, select",function(t){var e=_(t);D.track("$change",e)})},D.trackAll=function(){D.trackView(),D.trackClicks(),D.trackSubmits(),D.trackChanges()};try{N=JSON.parse(a("ahoy_events")||"[]")}catch(L){}for(var t=0;t<N.length;t++)y(N[t]);D.start=function(){T(),D.start=function(){}},w(function(){C.startOnReady&&D.start()}),i.ahoy=D}(window),function(){"use strict";window.App={}}.call(this),function(){"use strict";App.CheckAllNone={initialize:function(){$("[data-check-all]").on("click",function(t){var e;t.preventDefault(),t.stopPropagation(),e=$(this).data("check-all"),$("[name='"+e+"']").prop("checked",!0)}),$("[data-check-none]").on("click",function(t){var e;t.preventDefault(),t.stopPropagation(),e=$(this).data("check-none"),$("[name='"+e+"']").prop("checked",!1)})}}}.call(this),function(){"use strict";App.Comments={add_comment:function(t,e){$(t+" .comment-list:first").prepend($(e)).show("slow"),$(t+" .responses-count:first").removeClass("collapsed"),this.update_comments_count()},update_comments_count:function(){$(".js-comments-count").each(function(){var t;t=$(this).text().trim().replace(/\d+/,function(t){return parseInt(t,10)+1}),$(this).text(t)})},update_responses_count:function(t,e){$(t+"_reply .responses-count").html(e)},display_error:function(t,e){$(e).insertAfter($(""+t))},reset_form:function(t){var e;(e=$(t+" .comment-form:first")).find("textarea").val(""),""!==t&&e.hide()},toggle_form:function(t){$("#js-comment-form-"+t).toggle()},initialize:function(){$("body").on("click",".js-add-comment-link",function(){return App.Comments.toggle_form($(this).data().id),!1}),$("body").on("click",".js-toggle-children",function(){return $(this).closest(".comment").find(".comment-list:first").toggle("slow"),$(this).closest(".responses-count").toggleClass("collapsed"),!1})}}}.call(this),function(){"use strict";App.FoundationExtras={initialize:function(){$(document).foundation()},destroy:function(){0<$(".sticky").length&&$(".sticky").foundation("_destroy")}},$(document).on("turbolinks:before-visit",App.FoundationExtras.destroy)}.call(this),function(){"use strict";App.IeAlert={set_cookie_and_hide:function(t){t.preventDefault(),$.cookie("ie_alert_closed","true",{path:"/",expires:365}),$(".ie-callout").remove()},initialize:function(){$(".ie-callout-close-js").on("click",function(t){App.IeAlert.set_cookie_and_hide(t)})}}}.call(this),function(){"use strict";App.LocationChanger={initialize:function(){$(".js-location-changer").on("change",function(){window.location.assign($(this).val())})}}}.call(this),function(){"use strict";App.ModeratorComments={add_class_faded:function(t){$("#"+t+" .comment-body:first").addClass("faded")},hide_moderator_actions:function(t){$("#"+t+" .js-moderator-comment-actions").hide()}}}.call(this),function(){"use strict";App.ModeratorDebates={add_class_faded:function(t){$("#"+t).addClass("faded"),$("#comments").addClass("faded")},hide_moderator_actions:function(t){$("#"+t+" .js-moderator-debate-actions:first").hide()}}}.call(this),function(){"use strict";App.ModeratorProposals={add_class_faded:function(t){$("#"+t).addClass("faded"),$("#comments").addClass("faded")},hide_moderator_actions:function(t){$("#"+t+" .js-moderator-proposals-actions:first").hide()}}}.call(this),function(){"use strict";App.ModeratorBudgetInvestments={add_class_faded:function(t){$("#"+t).addClass("faded"),$("#comments").addClass("faded")},hide_moderator_actions:function(t){$("#"+t+" .js-moderator-investment-actions:first").hide()}}}.call(this),function(){"use strict";App.ModeratorProposalNotifications={add_class_faded:function(t){$("#"+t).addClass("faded")},hide_moderator_actions:function(t){$("#"+t+" .js-moderator-proposal-notifications-actions:first").hide()}}}.call(this),function(){"use strict";App.ModeratorLegislationProposals={add_class_faded:function(t){$("#"+t).addClass("faded"),$("#comments").addClass("faded")},hide_moderator_actions:function(t){$("#"+t+" .js-moderator-proposals-actions:first").hide()}}}.call(this),function(){"use strict";var i;i={es:{Comments:"Comentarios","No comment":"Sin comentarios",Cancel:"Cancelar",Save:"Guardar",Edit:"Editar",Delete:"Borrar",Unregistered:"<p>Necesitas <a href='/users/sign_in'>iniciar sesi\xf3n</a> o <a href='/users/sign_up'>registrarte</a> para continuar.</p>"},en:{Comments:"Coments","No comment":"No comment",Cancel:"Cancel",Save:"Save",Edit:"Edit",Delete:"Delete",Unregistered:"You need to <a href='/users/sign_in'>sign in</a> or <a href='/users/sign_up'>sign up</a> to continue."}},window.Gettext=function(){return{gettext:function(t){var e,n;return n=$("html").attr("lang"),(e=i[n])&&e[t]?e[t]:t}}}}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).annotator=t()}}(function(){var un;return function dn(r,a,s){function l(n,t){if(!a[n]){if(!r[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[n]={exports:{}};r[n][0].call(o.exports,function(t){var e=r[n][1][t];return l(e||t)},o,o.exports,dn,r,a,s)}return a[n].exports}for(var c="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(a,t,s){(function(t){"use strict";var e=a("./src/app"),n=a("./src/util");s.App=e.App,s.authz=a("./src/authz"),s.identity=a("./src/identity"),s.notification=a("./src/notification"),s.storage=a("./src/storage"),s.ui=a("./src/ui"),s.util=n,s.ext={};var i=t.wgxpath;null!=i&&"function"==typeof i.install&&i.install();var o=t.annotator;s.noConflict=function r(){return t.annotator=o,this}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./css/annotator.css":2,"./src/app":22,"./src/authz":23,"./src/identity":24,"./src/notification":25,"./src/storage":27,"./src/ui":28,"./src/util":39,"insert-css":16}],2:[function(t,e){
e.exports='.annotator-filter *,.annotator-notice,.annotator-widget *{font-family:"Helvetica Neue",Arial,Helvetica,sans-serif;font-weight:400;text-align:left;margin:0;padding:0;background:0 0;-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;-moz-box-shadow:none;-webkit-box-shadow:none;-o-box-shadow:none;box-shadow:none;color:#909090}.annotator-adder{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAwCAYAAAD+WvNWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMzgwMTE3NDA3MjA2ODExODRCQUU5RDY0RTkyQTJDNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowOUY5RUFERDYwOEIxMUUxOTQ1RDkyQzU2OTNEMDZENCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowOUY5RUFEQzYwOEIxMUUxOTQ1RDkyQzU2OTNEMDZENCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA1ODAxMTc0MDcyMDY4MTE5MTA5OUIyNDhFRUQ1QkM4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAzODAxMTc0MDcyMDY4MTE4NEJBRTlENjRFOTJBMkM2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CtAI3wAAGEBJREFUeNrMnAd8FMe9x3+7d6cuEIgqhCQQ3cI0QQyIblPiENcQ20KiPPzBuLzkYSeOA6Q5zufl896L7cQxOMYRVWAgxjE2YDq2qAIZJJkiUYR6Be5O0p3ubnfezF7R6rS7VxBlkvEdd3s735n57b/M7IojhIDjOKgU9xfchnXrFtPjltE6Gne/CJQrj9bVmQsXrqf/JuzDTRs2EO8D52dmap3Hwz/9+X9K/PTtPeGnyBL/oS2LPfwzXljXjv9g9kK/+H8WNXsxB8aPe8SPPAKy+v3GvR7+n0fNacfPaQiIfch98vHHY/R6/bL+ycmLhg0bhq6xsXednjHdbGhAYWEhbpSUrHU4HKv/48UXz7GvNq5f36YTGQsWaA0+N3XeR2N4Xr8sKTF5Ub9+QxEZ1ZWe/673AM2NN3Hl6vcoKy9ZK4qO1Ue2LZX4Zzyf1ab1g1sWafK/GjVzjA78sjE/GLto8oxpiI/vA4h3EZ22KhIRFRUVOPT1AeTnnVsrQFz9QeM+id9bRHoteFaZeCakpS1KSkqCzWaDyWTCvSjhERFIm5SGuLi4JSeOH2cfveQWjLeItPg5TrcsdczERTFdk2G2AMY61+V0V+eAg8EQi8HDJqNnj95Lcs+28jPBTH/un37z6zh+2U8XpC8aO3QUSIMV4qVbd78DPNAnNAaZz83HqeFDl2zfsMXD/17jHvw8ulVEvBb8P9eulSwPU31jY6MkIFEU70llbZnNjeibkIDExMQljMXNRUUkWU6ibEo4mfVZlpiQvCiyUzLqjYC1hdpmevWKd7myNlhbDbeByM4DEd8ncQljcXMd2kq9kaQCbf7XomctG00tT2rScJByM9BsZ+YBkgm9m1UgUlukzIxx/Udg+KgRSxiLm+s98x5OS0DuTvC0LB0ydAgsFus9E453tVgsSHl4OINZKufVEJCHn+P4pX2TUmBsdgmH3NvqoG2aaNv9B4wEYwmUn7qupdPSJkNssECkkyqK97iyNustmDnjMTAWJb3o1a6AH86ZE0YnLSUsLAxWdjndxxISYmC+KGXkyJGGc+fOsVEXifroS/wJQ2aH8RyfwuliYLfffauvViSrFNaJubWUbnEjDPWV5yV++OBPDekfpjPoUnqEdAFpbrl/HaAiiuWjqZr5lP76HoZrjlonP+ck4tWi/oS+fSN0Oh0dfBsEQbjP1QEai+GRceOi3YwLFy/mFObAwx8VEx9BOw2b/d64LS135hB46PQ69EgY6+E/vO1FjrSPhj383XWdIgwGA4iFuhJ6EiLep0rb5h0EIaEhGGyI8/C/Z3K6MVULZLFaeTZBbldyPwtrn7EwJlmMQLRiIIfdIvELrknUSPnQaCxDk7kqYK4e8WNhs95GSFgMc1GqxzkEp8tiTP7y2+Dg2TspLBGJRr5HUG6uRVVjfcD8qb2GwtjSiM6hUdTf85pWiLFITDJ+9l/VLMxht3NuATEroFbs1D+sWfMRNm3aFHAHvv32Wxw7loNHHnkE4eHhGgLiXRNg52RXqWYMIQr0WJqOSvGIhoCs5nI8MyMUT82cGDD/whWlGJpowaUbTdCH91EVkTT/jEVoy88+U+WHyHkuHo0OlFvqEPHjAZg699mA+Ytf2gnb4EiYixsQZ+iiKiLO1b6LifNK2JSvALsgcCK7gn24l3/84x9BiefGjRJs3LgRK1asxOrVa6RgWasdxsKYZFeA9JkaPxGd/CwYFDTqE9OYePoEzL/490Y8Ng54Y8kgPEnPYWmsoJZGUGxDCkhZ0Cy25deyQAKI8xiRaNbIHw5AwtyRAfPXvrYP+mnxGPafjyLy8WRUWm7ScRZV23GuLpI2/FoWCILD4UmVtVzY7t17pNedOz/DuHHj/IvL6EAfPXpUEhB7/+mnn0qB8qJFi+hriOLCouSOKJP35+pWi/GLPl3Y9PHdpdd3PmlBcTnve4lQFKglNCIxrjOendMXOp7DE4/GweaowFfHacqli2rfX5GxihJTW351MHa1Ow2XtgXqOWWQ9Gr6v1zgutmPmFiEyd6Mzgnd0O3JUeBonNj38REotYtoPlCFSBKmmAmQVgskc5/tBcTJV6iJy31pubCWFmeGFh0djStXrvjsALM0Z86cxejRo/CHP/web7/9R2lx8rPPdkquLCUlRVFwRPQkLq2MYrvggGt9lYIHnwIKMThFc6OaaMdK7gl31GFIvAVXK5uwcXc8np+lR2Q4jx9N642L5QKKy6AoIKe7asuvENxwbV453y6MD3FOob3CBJ2onaoxK9hAzLAODEfj9Urot11GxDODwEcYED87BY1XHBCvGZVdGKfASHug17ASflkguZBY1qZVrFYrvvzyK8nlTZkyBa+/vhy/+tWbePfd95CZmYGHH34YDodD3QI5XZh/FsjFL/oKomWT7PM4Wx2mjgGef3wAvsmtxebd5eD5BDwzHdh/muBqhfI5RNHJKgbA73FhgjMT8mkZaaDr67gGwQw+rTeGPTsG1ceKUbK9EP2oBQ2bmwzb0TII143KHXB95mbyZyvD2WFpArQtkDxT8nXcnj17sGvXLixYkIkPP1xNU3Mdli9fjuTkZAwYMAC3b99WHFTGICosvImam1rE6TZ8BNHyeFbrOIu5ErPH6yRL8+XRevxkVk8a89Rg2yEzymujcfmGugVzLh6L7VaetVxY674U0czCWseIJkUax1U1NSB8eiL6zh6Oqq8voM+TI0AcIhq+uIqYqibYi2+5on0FDEK8QudWPrUgGm4X5lyVVF8plgtIq2ZnZ2P//gOSeE6ePCVZmiNHjiI3Nxfx8fG4efOmM1hW/D2Ru7BWRuUZ59yTI0/j1ao8U1U7pslUhSemGvBYWg98cZi6sKQQ6HUcpozrjv4JUSi4SlBbcU6zHacVFdsxauzAA7IYSK16RKlxTDVN8aNooBw3Yygq9hQifGA3KfbpNWkQovt1h+1iPfJriny0o8zIq1+/8Fz1WtXbzSjV7du34/jxE3j66aewb99+nD59GrGxsTRoXojhw4dL+2zp6fM1zyGxKPh0TQskiU97oU82/u0XAanIm6l45k7SYcrYbjhwvAGpw8IxalgMjI0C9p6gqXBJC+rLT2Hz/4zQbKfNZPtjgVy5DnNNoiCq1lb+9t/ZHHZpfSh8Vj/0nDAQ1UcuI3pkHGIf7guHyQrrgRtoLq5DbvUFjP94gWobxLUO1M4KcRoCgmfyxKAtkNlspsHxZzTj+gZPPfWkZHFOnTqFLl26UMGkY968eaiqqsKsWbOllWa1NtzWxPs+DK0YQmKH6HO/Su5m2uxjOWzgHJX40eQQzJjQHfuP12Hk4DCkpsTA1CTi65PAvw6LiIrkcHhjmuI55JUo7F74dGF+WSDl42yUv1q8jaiZyeg9dQgqD19EVEpPdBuVCMHcAuvhUjR/eQVcpAFzvnrdZ1tqRTsGoj9soYGvpbnZZ0dZgCyf4Pr6euz8/HNqXZowZ/ZsfL7zc1y8dAnstpDXXnuNZlw/QGVFRZugWa0dGip5VqO94y5Nfnr11Jpo8GjSWsl1lhp6TKOVuAbSjq5htUif2wU9YsPw9bEGTBnTGQ8NiEJZjQPrdhPsO0Ngp+gtQqsLrDIqt2Ojsad0JXsLyEdwxgRWe+EaBKNV9Ziu4mPSa92F60Cj3bnyTQSYYoGkF9MQ2SMGJbvOoMe0oYhN6QtL6U3UrT0N417qsuwUvmcE4thYOgTUFChn0brOYcpi11oHct9swG4207hjsa3FdR1369YtfPXVbjQ3NUuZ1cFDhyTxJCQk4KWXlmLUyBGoq61t5/DV2mGfK938QHy4MCkyVr1rQrnDRHSgU0gd5s+JQq9uYSgsNmHiyChJPBV1AtbvEbAvl6bN7iUdoqBGxXO3d2Hww4VxAtsW8OMeJHaMw7XO04Wgb+Z4RPXsgvqCUnSnsQ4Tj7X8Nmo/zoVp92WqatE59kIro1o7jCFgF+bLdKkVFs/s+vJLlNy4IYnn22+/ke4s7NOnjySeQYMG4ZZKtuWPKffXAkliCOLWwwjDbaTPMmBY/3DkF93EhBERGDE4GtUNIjbsJTh9kW2rcAGf1+mCA7kAPHsamtX7uKYIET0XpCImJR4150rQLW0AdVtJaKkyoeHjM7AeKwXv0D6HVjv+uzB3Bzn4Z4FcluokjXHYWk9cXG/s2LEDVdXVGDhwIN5++w/oS7Mto9Eo7Z+5B09+btV2OHdM4/8EEFcaH5gBIpg+miD98ThU1bXg6RndEdc9FNcrBfx5sw3fFet8nkN9LEUQBB4D+ZrA1lTbue3RaeZADF4wGU0Vt5A0bywi+3SF5WoDKn53AC1nKtunUV4CUmNQmxefMZBLQX70gJOyory87ySBlJdXSGk5i3lWrPg1uyEMdfX1bY5v8+r93os00BgIUuAtBGQlOGLDlNERMOg59OkRCh1N1ctqBLy7TURZnR53clOOxOIlGE0+uQvzoxvsGAc9f4/pg8EbdIiK7wpOz8N64xZq3zkC8bpJ+Tyil6sK0IXpfWVhfsdA9Bi2lsPclfvfDz30EJYv/y/JfTFRsaq17KEZAwWahYH4dYXLS2xUE0YN6e7hKioTseZzEXlFzoD5TkqwFogXtUMl+XH2biHolprkGVbrhVrUvXsc1hMVUsDMqyygus0kL6qfO+gsTEl4ahdMYUEhevXqheeeew5paRMl12W1WNDU1OQUo49VM07j3IFbIBJQDCTYTJgwPgb1Rg67jjtw5hLB5VKaEJi19sjYBi/bwIz0MwYKfCWaJ/4JqEmwonfacIg1zbi54wKaj5XB9n0thAYLtSCi4tgyQVscLZ4xVhUQgepKtM8YyJcFiomJkdZ7mOtiT1E8/czTUlvSExw03nGn6UrnYC7ufP556X337t19WqCAYiDXSrqvYmwiiIoAUgfcwjfHS3Ekh8DcJMBqE6jV0RYgc3EjU3rQd73QYPQjCQgkjWdxHxOQQPsuqI+/eIum+NFhcIzvgfzDuSAHTsFuskCw2CHatX0fc3GJ41Kdc1HXLLWlKCDGoGBJiIqASBsL5ENAmZmZeOedd/Dff/7zHZn4n86bpykgLwtENCwQke+F+So7jnD42U+A/31jyB3x//sYD60Htrz2woiGBSJtLBC7g0JUH/+mdQUI/c0k/OCjzDvit26+AJ1KOxIDp8DoTwwEHwJ64okfIzw8DCtXrgoYmu3es62M+fPTkTZxIhoaGjouBnKtRPsq2fsFKb5543ldwPxMvxdvEHz+rYAvckSt/CLolWieXeYah5k/yqPmXkDXP04NXDUCQUtBDRo3FaJpy/eqazq8xrKFqoAKCgsbJ0+Zwp6NkTIotcmqr6vDzMcek24GC2ZthN0fxITDnkRVEqr0Gf2/xWq1HTh40OjvXtjt2kuNvRIfgY46dl7KENU5th8WpHo3Cs+sCC/QGKvZVn09x+jvQmKRtapxnDAAOnbbjchpJoDNa/OleidFB/UlFFZaHDbbCXOR0VcM5MYkNTU1gt1mO2M0GVNDQyNosKg+wEwAatbD7xRaxcqxpxnY2pHDbv/Om1EhhvB8Z22qpyFWyxnOXpaq1ydIT2fcj6KnI8y1lFFrpcBP1Pkb7GbBQYQz1Tpzam9dGIhNuC/8XIgOFbwZAsR2/NqbqfQAk9mclZd3nrqoUPDU3XDUEt3LysQTFhaKgoILMJpMWd4LMdq78TRzbWnMaijZg+hwZkXv/eDraJus7VtlB2Gzmtvx+3BhpFlsyfrG+j30ESHQcbwUo9zTSttkbZ+0XUYTZWm3EKYiIPfiLXn//fe3FhUVbygs/B6RkWEwGPSSO3MH1nersjZYW0y4hYUFuHDh4oa//vWv2+VsGjGQ55hLp7O23qou2GCv34Ou0RxCDezc7pju7lQnP4ewEA5dogjsdV+hoTJvw+XcdQr8oiZ/VtWRrRcbSzccNRRB3ykMOjb+7H90cu9qZWKlbek6heKw/jIKzNc3rKs60p5fIwYirpRCzMnJ+RO7FbO8rCxjzJjR6BzTBexpVfcEOhyilKqLYnCrtGyw2Z2JrLrdGHuU2nj7JnLPnMX1ayXrjxw9+o6bp00qI4rwxV9XdvZP9ECuU31RRvd+M4GweBBdJ9c9RtS322gGYvPvtlc1KxMWAoSGOOMdqQ+CEZytAnUX98JYf3l9bekpRX6NPxPi4T9jvvYnGsNy10NrMqbEPoQ4eydECqHO37IO2GhwbnU4bwcIqgP05KFUBqG81AGOVhPfgmqDCUeshSg2V64/aSxS5tdI491VOHHiRD2tby7IzDxcUlKaodfrh1ML0c198JChgzFhwgTYaJARqIiYeEJDDcg9nYv8/EL5AmENFeWF2trajes3bNjLlpXg3DcOyAKx39RX5NXT+ma/4U8dNtVfzuB43XCOa+WP7TMWnfu+AGMTH7CImHg6RVIRVm5HWWmO3DXVEFG4YG1u2Hi9YKcGv+iTP890rZ7WN5/t9cjhq7aqDD3lpz7Awz8quj+e0o8CZ3Y4H8YPVDyRIdgVWYBTlstOQkF67rrGYREu0Dhs447qk6r8akE054Z3vWcrgbxrIg9KAbuzMvfHv/rqqyx/f2EiTcMDEZFbPKdOncaxYye2/u1vf/u9TOWCq115FWSdwFtvvUUUYiBVftdEtuMfOMa8qhchL3ROSA9IRG7xWCu3oap479ais5sC4h82fqlaEK3I75rIdvwL46etQiT3wjNigCJyieffEfk42JS/NavsUED8rybNIWouzG0+OVknIDt5mw588MEHv6WnY4/ppk+aNMkvETHxsOfATp48ycSzhZ7jNzJwUQbr3QE3m8bfVgiMv/jspt+yxzd6gqR3Tpjvl4g84qn4FFVX9m4pOrs5YH6NFD4g/nXlh3/LJXCEi+TSf+KviFzi2RlNxdNcsIWKJ3B+V7jhKwaC68dEdmJe1gGpM1QAq1555RV2zPzJkydrisgtHuoWmXiy6W9XymAFlY4I3j7Yxz5XQPxFeZtXsYioJxHnd07M1BRRq3i2orJ4b3ZxXnaQ/GKH8WeVHlqFRI4gGvN/SkaDM2mIiIknKgSfdTqPg5b87KzSg0Hxu2WtZoG4Nmpr3wFe1gF2DvHvf/87BXmFWYaMqVOmKIqIBWihVDzHqXhyco5n09+soB/bvVQuqlSP7/3lL3/pywIFzF+ct2WlcwsfGZ2TlEXkEU/5Fqd4vtsSFP/QcYsJOpg/6wYVQhIVUScu4zlxNHglEVHxgIrnX53PY39LQTb9TVD8ryQ/7qHXskDenZGbVvdfadDJG6WCWEXIy2xsMqZNYyJqzc5YdsJinmPHjkni+fDDD3/tgpd3QAm4DfwvfvEL4scue1D8VBDMEqEXCBXRgjYicovHUp5NxbMn+8p3nwbFP2TcQuLHFktQ/FklB1ZREYGLQcbzxEtETDzRIdjRJd8pnpIDQfG/kvwjv/5GohK8fFPf3Yl26qTCWEkI+2tohIpoGux2h3SxMfHk5OTIxWPz6oCgkCq2uaHwjTfeIAHcohEUPxXGShaf9IJIRbRIEhErTvFsRmURFc+5bUHxDxmbSeD/PUpB8WeV7F9J+nEgXbiMdLclYmNGLc+2rvnYZyvIXleyPyj+lwfMbTf6ej+vBO9/K5lYT2OrV69e6XwkCBmPPjpDsj7s0Z6cnGOb6Xdu5du84NunibS8/vrrxJ/N047kv3Juu8Tfi/J3TV4srdk33tjELM9m+l1A/INTM+45/7rr+1aiPz0olsuYz4+RNkM/7XoO++35m+l3AfG/PHCuJrQ+yM4QtL3JsV1H16xZs4IKh32eyf7ihks8b8lUr2Q6iVwwHVwC4r96fgfll1brMnX6MCqe3VQ8//LJPzg13etc4n3hX3dt3woumY5/F2SGwoB9joLNWdf2+eR/edCPAxp/fQd0SJ4ttFkMY4KxWCx5Op0u4pNPPlkvi/YV4ZcvX04IuWd/DNAnPxOMYG/J4zg+4lrhFz75B495geAB4s+6+vVbln72PB3l33ztgE/+ZYOfCJie8/GX6v06h8wnyzMDveu9/CqRp4vtxBNM43/5y1/ueMO5I/gl8QRRLp/NfiD4mXiC2oq6U3rXxBOFVUzmY1tcr/Lq6CjxdERxTfwd8Qcrno4orom/I/5gxdMhAlIQkXwF064CLzwI4lERUUD891M8KiIKiP9OxNNhAvISEVFZDpevaJIHRTwKIvKb/0EQj4KI/Oa/U/F0qIA03JnS+wdKPD7cmSL/gyQeH+5Mkb8jxHOnWZiWiOTBLVH6/kEtbmHIglui9P2DWtzCWH3534r8HSUcd/l/AQYA7PGYKl3+RK0AAAAASUVORK5CYII=);background-repeat:no-repeat}.annotator-editor a:after,.annotator-filter .annotator-filter-navigation button:after,.annotator-filter .annotator-filter-property .annotator-filter-clear,.annotator-resize,.annotator-viewer .annotator-controls a,.annotator-viewer .annotator-controls button,.annotator-widget:after{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAEiCAYAAAD0w4JOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDY0MTMzNTM2QUQzMTFFMUE2REJERDgwQTM3Njg5NTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDY0MTMzNTQ2QUQzMTFFMUE2REJERDgwQTM3Njg5NTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODkwQjlFQzZBRDExMUUxQTZEQkREODBBMzc2ODk1NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENjQxMzM1MjZBRDMxMUUxQTZEQkREODBBMzc2ODk1NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkijPpwAABBRSURBVHja7JsJVBRXFoarq5tNQZZWo6BxTRQXNOooxhWQBLcYlwRkMirmOKMnmVFHUcYdDUp0Yo5OopM4cQM1TlyjUSFGwIUWFQUjatxNQEFEFtnX+W/7Sovqqt7w5EwMdc6ltldf3/fevffderxSZWVlZbi5uTXh6rAVFBTkqbVubl07eno2d3BwaGgtZNPGjYf5wsLCDRu/+ir20aNH2dZCcnNzN6uPHTv2S2xsbHZaWpqLJZqJIR9FRMTxdHFJeHiiJZrl5+fniiF0jRdumgsjyOZNm44AshHPxAnXeXEhUzAJJEF8j5cWVoIZg9CmqqiokK3CksWLX3d0dJwy+f3331Cr1RoliEajMQ4Sw2xsbHglTZ6CampquOex8dxz2l5gkEY4qKyslOu1Qa6urpPRs9VkW2RjFmskQCaFhASQLZEZkDlYBBJDnJ2dXSnwmYLxpiDCdVMw3hyIObCnlr1g/nwfQCYpQcQbOTM5tbgDeDEkZPLkoaYgSpqpKysqnkIaNWrkYq7dUEim0EwhmkI1bw1ETjNVTk7OA2sg0jarDyO/ZhiJjtpS4923L1dWVs5VV1vW8Dyv4uzsbLnkc+c4dceOnn1LS0vat23bhnvSgypOpTItajXP2dvbcefOneVSL146ys+dOzvgyuWrMadOJeKGrb6AeRBb7syZM1xqyo9HwfDncZ0L+0dowGXATpw4qVfVGEyAJCUBkvrjUTzrTwzUkirDcfOewk5w9oBp8AD9iljoGt07rTvNpaRcPDqPIOx5+mlOkPnz5wakpV2JiU84ztlRNTVqTsXzeuHValyz4xJ1Ou4CICjrL37WoPsXLAgD7HJMXFw8Z2ur4dT8E23s7Wy4UydPchcupB5FGX8ZOxKUeyYLF84LSLt0OebYsXi9ZvYOdtwJBsE9f7lnVAUFuYp2smxpxJFOnTu9aWtry6VcSDm6cNF8f6WyRkEMFg7rclq0aP7fjZWrDyNmeL9c8iDedu7YMRK7xoHjx28y2tjGcsivt29PaOTsPNAGeSIGidNBwcF9La6aAPH18+UG+QzmtFqtN67pLALt2LYtAUOUHoLMWO/1BMM45o17OgUQ2dEz2R4drYf4AMLzakTNahY5n8FQRid9rpZG26KiE5ypOkP89JqIjZWOVSqeG+zrw7lp3bxRVidbteitUQnOLtQmhhApzMfXFzCtN57R1QJFbdkKiMtAP0Ao7lB16CE5oXtUTYJRB+BZPUzd6uWXE1xcXQcO8R+iqIms3aADWrdpw2VmZrbQJeoCeBdoYinkWTVVHNVC21jrrSopKakh67Y2ChCMXmw0xizbXM2I8dyc9gUObBpTBTw8WqixGw45n5GRnl4XjaZD9kP+DaibVSA8OAu7SHZKWm3GtTYWgfDATOxWQGxElynsepkNAoSq808JhII7DZKHzWpsQGYwiPhHyPzD0NifmtVGrE1WUlSQaDIXkNVm2REgc1jDiqtTBQk1pkmtqgEyCLu/SqpKkFmArDHLsgGxw57euaiXIkSQOeZCBI1egtCs324IxVGy3s9NtYkcqCtkGBtXHkLeAyTBGl8rZPZxCfIAkNIXLB6h9/4A6a/gMv0hvUyCUKgLdlsoXODYXwJ5E7sDzPM7G7OjPtjvgnjSizNkqwDDPoD9AL08E2QXaa7Ua40gLUTXmkHW44Gd2I9ndiZsLVh52ar9AAlmNiRs7eg9ByIOYtkMHGe0+6HBW9ithbSSKXcH8iFs7DuTvYZC31KKpFAuyhhE2v3kJkEK5YJZwytbtru7B8GGQjZCmhopmwkJgcRCu2o5jXwh2yWQWyxS3pH05teQwUpVK4Jkia49YA07l/ast8T3ihR7DfXvhuP/Mq2CATksarsRrBPuQQJx76Kp7vfGzh4F42V8zQe7YtxL+u2EkVoDZJ8+fej8VQi9vPRmg8BpCKXAN5OSkqpNVg0QR7VaPR3n05FLN6k9mcJnYLcK178ErEQRBIgTMtMNyG4Djaqv0XyJMtMBM4jrPCC8vb19KEHatWtXMHbs2LtOTk7lQoHGjRuXjBs37q6Hh0cRyvwZr+5/kW1s3GhXVVWlfxXv27fvhTlz5iybNm1aCuBVeEsqnzFjRmJoaOjS7t27X2fVXIgfdzfQtnnz5sPv3r2r/3/Rvn37WkdHR/8I1UNdXV1X4kdK+vfvPxsPNm3YsKE++JWWlmpbtNBH0C21QDY2NgOEk8LCwlY4340HhwM2DZfKcaxFJ+wsKip6OlfZoEGDwVIQD/Vrzc1Ciyb+/v4UGS9A0nx8fDxRHSdxGbzTaQ2q1qpVq3vnz58XGrYUbZIM0FVo0gOXyqBZ8p49ey6tW7fO8/Hjx7ZUrm3btgbZLe/p6Xnczs6ODI8bMWJEGiDTAfGAFjGo5nc4rh4zZswMaKYPKdSjXl5e8XLdfzQgIEBf6ODBg2qcv47qRcH4GuNlpRWOd+Bap8TERH0CNnz48Gv9+vVLkDNINXrtg8jIyEWootaYQaIHs2AKc5s1a7aVZS8GLuJ0//798M2bN4+NiYlxxztcLR90dHSsGDlyZHpwcHBU06ZNKWUuNRZGnGAjwTdu3BifkpLS7PLly05oJ65r164FMMZ0WH0UXIRG5GJz4pGajaad2RBOnXCZSYa0OrVAMueOEFc23tODuUyKxSBpQBS3hcbd3b396NGj+/v6+np16NDhVfRcNar40/fff5+ya9euk/n5+XeYlsoRomfPnv3j4+O3oJ0e1Ug2uMeDQ4cOfdmlS5deQlSVzgfoqzNkyJDXrl+/Hl9jYrt48eIh/GBHWRCq4HTq1KmtVLC4uDgZu48QVrKFhxGD7mC3DCZxjc5jY2M/o9HGAAQfGlBeXv6YCqEtKLd2weFYNM9jALNwTJ7e5OzZs1Hsx7JXrlzZ3QCk0+nmCb+el5d3Jzw8/ANKpnDqC6FBQLt27dp5CDGZQrnjx49/aACCe2yRNOx9wPsJvQBN3iorK8sXl7l58+bnUpDGwcGh1lQEQqyNt7d3GYUdeqXo1atXKQraissgWlbIDAyaZOzfZ/8+TMd5iEqluhMWFvZHmEIpjncDNAHttR6RUsuC31kDA4LanihUxOq+ivLGNWvWzAYjF4Hs3qJFi6bgWuvU1NStrBepR1satBH+0ERLJBXKyMi4AMP7Ag2bJbRHbm7unQMHDqzPzs7+ic5RNgw7lZxB0oErfumgKYOE5tHYNVSybAHmBlkB+8mXAnDtISALcdhI7LRiUUnmgowmEWj4akXvF1+g4Zs6hYmGRUIyhXLKRIzlUuJshEYOyvZDUBUHaTaCax/jcINcAiHORlpi6NmJHulrIhtZi06ZDViF3HAE43aINAahZAIWD0bl3wD7E55RGYBcXFy84f3vKkFo9IWVJ82aNSsVY34lNF8Ky25pAELW8Ta6VnZCSqvV0hB+ys/Pb/qZM2d2oRxlI+4Y194wAKFLe9IBDduBgYG3e/TooX/dwg+UzZw5U4chnNKatgjDoXAnDc07oikGGrQf1G1AB+3bt8/FABgJ1duvWrXqvUGDBl0HZBYgbSgtRBu6irIRZwONkDTRywqH0UL7zjvvvILBMQLD9+qhQ4cS5GVAvkIju4pMoQY/+osBCDFbh8arIkdEo89euHDhAgC+ZZpsFEP0bzbNmhUhG/nBADRgwIADqEbG0ymaqqrZqN5+xJ5NgBhMzmHcO4cU57gBqGXLlmkTJ07c0K1bt0dPp68qKjoCaLAOibJbZL00o5Oj5CKu6enpS5CIvo3hpjnito2kOsVBQUE/jxo16hP0zUY2q6OYRDijjQJv3boViDzJHdGyCaUz6Lnszp07X0GnbGRv5JXmZCPk/ZRD08wE2UoBez2/xhIJztxshGfZiBsbRSgePWKQEuk8tlI2Yo8M1xOJZz9kI52QWL2CqpYg6F9FHE/duXMnrX24K9c+4s0B7jEKxngQXV6ikI18gQy4h7FsRD116tQ3MzMzL5kK/uiEfTDgNrIgdKv7lStXYk2MHlmIkAV0jKHpYyRkDQxAyOqDULDMCITSGh/kRpMoa8GWsXr16l5SEA8H7AdHtJVrOGjxC+5NQui4mpyc3Ap7Ncb95sgHDGe+7t279x0biovhGovx8H6mSQZpQoYdFRW1VEgJcb/q9u3b6wyq9vDhwz1suD6PzL4nUhZnnG6AUBRshiQ+HJA80WBZmZWV9YkBKCcnZxErUI3R4Ru4Ak1wksO6b9q0abEYwjQtR0IWaABCKvc6bhYLBRGbd+NV9D1UJ4IyEmnjI9ymYecul43YoTfWiwtTBoJrRXK9iLYMUkwicPASChwxIxtZRm9TprKRxpDlaKocmWzkKnYTITbmZiNqNuNH89tjWSSk6aBk2FCWMe9/kf+7vnz5ilp1k55b8q+/moiI5TWiHpCemyVKD1sM44w8bDXI6mrJgercRnWGGbPsGpkB1CqDVP3GXeR3CLI4CsgZFzPGOvmaVRADkLWQWiApxKp4pACxDPQ8IIL3S728xlKHFexIVRevr3faFwZkdQIhE0ZeoJFWLh5ZBTOlidkwc6plFkwpibA4tPAW/FOh3tfqQRaBrHrRMZWNmDvyPheIrPdbmwO8wBmbNB5ZldLI2ZGq3td+RRBNz0NWWr2ShRaguLi4LFOr1R9UVVXdx6U5FoP8/Pym2dvbr8jLy3O2em1NUFDQ4cLCwoA6t9G2bdscpk6des3BwaGyTiC0yachISHX9+zZk4Qq3qtrxuYEmQWJO3v2bEzv3r2/qWui1R6y5Hl4f72vWTgjY0n78UoDZp2rplKpHCCd6gIiB+44evTod1NSUhZb21Yvd+jQYZROp9tZWVlZVlxcnKU03aFo2di8du/evVa88MQqEP58IZ0Itxakhkyj1R51AkkWDui1QzXvWw0SAWmVyjeWguq9vx70XCIkxjD6T3E4ZGlSUlK+1Rrt3buXFpPSmtFbyEimQdRWgRo0aPA2O6b/X6+DXAQs4Hm0EYXZw4CF1Qnk5uZWGhgY+CnaK9KqjM3W1rZ62LBhVydMmDDdw8PjqMWNlJubewL5UWZiYmIo/WPTmgRCiJBLIc2tBdTHo/+3tMaS1IZnRknLX23qpNLBgwddk5OT93p5edG/nFtLtTTbIOPi4uif4TXl5eUFBw4cWOfo6EgfWTS1GiRa7vnzmjVrKD9qXyeQaAuzBCS37OxnyAykf3utCiPck9U8tEIzEpASa15qaHkHLfloY860UL3314Pk4pG7u4ex+7QYhT60bA6Jh2yAlGZkpBu1bOlGn6HtF52P4Z587duVk6xpM1a1cSLIEchJkYazzG0jWuxOCTstfKMv6OhLMlquF8vuDzcH1I5BaKO1o/tEk3jC0sUcUyD69RvckwWDHIuStIDSHjKE3actwlgYoRXj/2HH9GYkfGlInyreEZ3/jXuyoFlWIy8RRBgAxJ+WCRD6cPdfxgzyI3ZMHwPu4Z6sgKaPLO+z6ze5J0usPzMVIYWPKZ0YuJr1lPB91ihImjmhlj5bfI118SlIHkRIRqeYAxFchNZiX+EMP6ScImq7WpuSi5SwTHYyc4u7rFEvWuS09TH79wz6nwADANCoQA3w0fcjAAAAAElFTkSuQmCC);background-repeat:no-repeat}.annotator-hl{background:#FFFF0A;background:rgba(255,255,10,.3);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#4DFFFF0A, endColorstr=#4DFFFF0A)"}.annotator-hl-temporary{background:#007CFF;background:rgba(0,124,255,.3);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#4D007CFF, endColorstr=#4D007CFF)"}.annotator-wrapper{position:relative}.annotator-adder,.annotator-notice,.annotator-outer{z-index:1020}.annotator-adder,.annotator-notice,.annotator-outer,.annotator-widget{position:absolute;font-size:10px;line-height:1}.annotator-hide{display:none;visibility:hidden}.annotator-adder{margin-top:-48px;margin-left:-24px;width:48px;height:48px;background-position:left top}.annotator-adder:hover{background-position:center top}.annotator-adder:active{background-position:center right}.annotator-adder button{display:block;width:36px;height:41px;margin:0 auto;border:none;background:0 0;text-indent:-999em;cursor:pointer}.annotator-outer{width:0;height:0}.annotator-widget{margin:0;padding:0;bottom:15px;left:-18px;min-width:265px;background-color:#FBFBFB;background-color:rgba(251,251,251,.98);border:1px solid #7A7A7A;border:1px solid rgba(122,122,122,.6);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-box-shadow:0 5px 15px rgba(0,0,0,.2);-moz-box-shadow:0 5px 15px rgba(0,0,0,.2);-o-box-shadow:0 5px 15px rgba(0,0,0,.2);box-shadow:0 5px 15px rgba(0,0,0,.2)}.annotator-invert-x .annotator-widget{left:auto;right:-18px}.annotator-invert-y .annotator-widget{bottom:auto;top:8px}.annotator-widget strong{font-weight:700}.annotator-widget .annotator-item,.annotator-widget .annotator-listing{padding:0;margin:0;list-style:none}.annotator-widget:after{content:"";display:block;width:18px;height:10px;background-position:0 0;position:absolute;bottom:-10px;left:8px}.annotator-invert-x .annotator-widget:after{left:auto;right:8px}.annotator-invert-y .annotator-widget:after{background-position:0 -15px;bottom:auto;top:-9px}.annotator-editor .annotator-item input,.annotator-editor .annotator-item textarea,.annotator-widget .annotator-item{position:relative;font-size:12px}.annotator-viewer .annotator-item{border-top:2px solid #7A7A7A;border-top:2px solid rgba(122,122,122,.2)}.annotator-widget .annotator-item:first-child{border-top:none}.annotator-editor .annotator-item,.annotator-viewer div{border-top:1px solid #858585;border-top:1px solid rgba(133,133,133,.11)}.annotator-viewer div{padding:6px}.annotator-viewer .annotator-item ol,.annotator-viewer .annotator-item ul{padding:4px 16px}.annotator-editor .annotator-item:first-child textarea,.annotator-viewer div:first-of-type{padding-top:12px;padding-bottom:12px;color:#3c3c3c;font-size:13px;font-style:italic;line-height:1.3;border-top:none}.annotator-viewer .annotator-controls{position:relative;top:5px;right:5px;padding-left:5px;opacity:0;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in;float:right}.annotator-viewer li .annotator-controls.annotator-visible,.annotator-viewer li:hover .annotator-controls{opacity:1}.annotator-viewer .annotator-controls a,.annotator-viewer .annotator-controls button{cursor:pointer;display:inline-block;width:13px;height:13px;margin-left:2px;border:none;opacity:.2;text-indent:-900em;background-color:transparent;outline:0}.annotator-viewer .annotator-controls a:focus,.annotator-viewer .annotator-controls a:hover,.annotator-viewer .annotator-controls button:focus,.annotator-viewer .annotator-controls button:hover{opacity:.9}.annotator-viewer .annotator-controls a:active,.annotator-viewer .annotator-controls button:active{opacity:1}.annotator-viewer .annotator-controls button[disabled]{display:none}.annotator-viewer .annotator-controls .annotator-edit{background-position:0 -60px}.annotator-viewer .annotator-controls .annotator-delete{background-position:0 -75px}.annotator-viewer .annotator-controls .annotator-link{background-position:0 -270px}.annotator-editor .annotator-item{position:relative}.annotator-editor .annotator-item label{top:0;display:inline;cursor:pointer;font-size:12px}.annotator-editor .annotator-item input,.annotator-editor .annotator-item textarea{display:block;min-width:100%;padding:10px 8px;border:none;margin:0;color:#3c3c3c;background:0 0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;resize:none}.annotator-editor .annotator-item textarea::-webkit-scrollbar{height:8px;width:8px}.annotator-editor .annotator-item textarea::-webkit-scrollbar-track-piece{margin:13px 0 3px;background-color:#e5e5e5;-webkit-border-radius:4px}.annotator-editor .annotator-item textarea::-webkit-scrollbar-thumb:vertical{height:25px;background-color:#ccc;-webkit-border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1)}.annotator-editor .annotator-item textarea::-webkit-scrollbar-thumb:horizontal{width:25px;background-color:#ccc;-webkit-border-radius:4px}.annotator-editor .annotator-item:first-child textarea{min-height:5.5em;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;-o-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.annotator-editor .annotator-item input:focus,.annotator-editor .annotator-item textarea:focus{background-color:#f3f3f3;outline:0}.annotator-editor .annotator-item input[type=checkbox],.annotator-editor .annotator-item input[type=radio]{width:auto;min-width:0;padding:0;display:inline;margin:0 4px 0 0;cursor:pointer}.annotator-editor .annotator-checkbox{padding:8px 6px}.annotator-editor .annotator-controls,.annotator-filter,.annotator-filter .annotator-filter-navigation button{text-align:right;padding:3px;border-top:1px solid #d4d4d4;background-color:#d4d4d4;background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),color-stop(.6,#dcdcdc),to(#d2d2d2));background-image:-moz-linear-gradient(to bottom,#f5f5f5,#dcdcdc 60%,#d2d2d2);background-image:-webkit-linear-gradient(to bottom,#f5f5f5,#dcdcdc 60%,#d2d2d2);background-image:linear-gradient(to bottom,#f5f5f5,#dcdcdc 60%,#d2d2d2);-webkit-box-shadow:inset 1px 0 0 rgba(255,255,255,.7),inset -1px 0 0 rgba(255,255,255,.7),inset 0 1px 0 rgba(255,255,255,.7);-moz-box-shadow:inset 1px 0 0 rgba(255,255,255,.7),inset -1px 0 0 rgba(255,255,255,.7),inset 0 1px 0 rgba(255,255,255,.7);-o-box-shadow:inset 1px 0 0 rgba(255,255,255,.7),inset -1px 0 0 rgba(255,255,255,.7),inset 0 1px 0 rgba(255,255,255,.7);box-shadow:inset 1px 0 0 rgba(255,255,255,.7),inset -1px 0 0 rgba(255,255,255,.7),inset 0 1px 0 rgba(255,255,255,.7);-webkit-border-radius:0 0 5px 5px;-moz-border-radius:0 0 5px 5px;-o-border-radius:0 0 5px 5px;border-radius:0 0 5px 5px}.annotator-editor.annotator-invert-y .annotator-controls{border-top:none;border-bottom:1px solid #b4b4b4;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;-o-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.annotator-editor a,.annotator-filter .annotator-filter-property label{position:relative;display:inline-block;padding:0 6px 0 22px;color:#363636;text-shadow:0 1px 0 rgba(255,255,255,.75);text-decoration:none;line-height:24px;font-size:12px;font-weight:700;border:1px solid #a2a2a2;background-color:#d4d4d4;background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),color-stop(.5,#d2d2d2),color-stop(.5,#bebebe),to(#d2d2d2));background-image:-moz-linear-gradient(to bottom,#f5f5f5,#d2d2d2 50%,#bebebe 50%,#d2d2d2);background-image:-webkit-linear-gradient(to bottom,#f5f5f5,#d2d2d2 50%,#bebebe 50%,#d2d2d2);background-image:linear-gradient(to bottom,#f5f5f5,#d2d2d2 50%,#bebebe 50%,#d2d2d2);-webkit-box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8);-moz-box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8);-o-box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8);box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8);-webkit-border-radius:5px;-moz-border-radius:5px;-o-border-radius:5px;border-radius:5px}.annotator-editor a:after{position:absolute;top:50%;left:5px;display:block;content:"";width:15px;height:15px;margin-top:-7px;background-position:0 -90px}.annotator-editor a.annotator-focus,.annotator-editor a:focus,.annotator-editor a:hover,.annotator-filter .annotator-filter-active label,.annotator-filter .annotator-filter-navigation button:hover{outline:0;border-color:#435aa0;background-color:#3865f9;background-image:-webkit-gradient(linear,left top,left bottom,from(#7691fb),color-stop(.5,#5075fb),color-stop(.5,#3865f9),to(#3665fa));background-image:-moz-linear-gradient(to bottom,#7691fb,#5075fb 50%,#3865f9 50%,#3665fa);background-image:-webkit-linear-gradient(to bottom,#7691fb,#5075fb 50%,#3865f9 50%,#3665fa);background-image:linear-gradient(to bottom,#7691fb,#5075fb 50%,#3865f9 50%,#3665fa);color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.42)}.annotator-editor a:focus:after,.annotator-editor a:hover:after{margin-top:-8px;background-position:0 -105px}.annotator-editor a:active,.annotator-filter .annotator-filter-navigation button:active{border-color:#700c49;background-color:#d12e8e;background-image:-webkit-gradient(linear,left top,left bottom,from(#fc7cca),color-stop(.5,#e85db2),color-stop(.5,#d12e8e),to(#ff009c));background-image:-moz-linear-gradient(to bottom,#fc7cca,#e85db2 50%,#d12e8e 50%,#ff009c);background-image:-webkit-linear-gradient(to bottom,#fc7cca,#e85db2 50%,#d12e8e 50%,#ff009c);background-image:linear-gradient(to bottom,#fc7cca,#e85db2 50%,#d12e8e 50%,#ff009c)}.annotator-editor a.annotator-save:after{background-position:0 -120px}.annotator-editor a.annotator-save.annotator-focus:after,.annotator-editor a.annotator-save:focus:after,.annotator-editor a.annotator-save:hover:after{margin-top:-8px;background-position:0 -135px}.annotator-editor .annotator-widget:after{background-position:0 -30px}.annotator-editor.annotator-invert-y .annotator-widget .annotator-controls{background-color:#f2f2f2}.annotator-editor.annotator-invert-y .annotator-widget:after{background-position:0 -45px;height:11px}.annotator-resize{position:absolute;top:0;right:0;width:12px;height:12px;background-position:2px -150px}.annotator-invert-x .annotator-resize{right:auto;left:0;background-position:0 -195px}.annotator-invert-y .annotator-resize{top:auto;bottom:0;background-position:2px -165px}.annotator-invert-y.annotator-invert-x .annotator-resize{background-position:0 -180px}.annotator-notice{color:#fff;position:fixed;top:-54px;left:0;width:100%;font-size:14px;line-height:50px;text-align:center;background:#000;background:rgba(0,0,0,.9);border-bottom:4px solid #d4d4d4;-webkit-transition:top .4s ease-out;-moz-transition:top .4s ease-out;-o-transition:top .4s ease-out;transition:top .4s ease-out}.annotator-notice-success{border-color:#3665f9}.annotator-notice-error{border-color:#ff7e00}.annotator-notice p{margin:0}.annotator-notice a{color:#fff}.annotator-notice-show{top:0}.annotator-tags{margin-bottom:-2px}.annotator-tags .annotator-tag{display:inline-block;padding:0 8px;margin-bottom:2px;line-height:1.6;font-weight:700;background-color:#e6e6e6;-webkit-border-radius:8px;-moz-border-radius:8px;-o-border-radius:8px;border-radius:8px}.annotator-filter{z-index:1010;position:fixed;top:0;right:0;left:0;text-align:left;line-height:0;border:none;border-bottom:1px solid #878787;padding-left:10px;padding-right:10px;-webkit-border-radius:0;-moz-border-radius:0;-o-border-radius:0;border-radius:0;-webkit-box-shadow:inset 0 -1px 0 rgba(255,255,255,.3);-moz-box-shadow:inset 0 -1px 0 rgba(255,255,255,.3);-o-box-shadow:inset 0 -1px 0 rgba(255,255,255,.3);box-shadow:inset 0 -1px 0 rgba(255,255,255,.3)}.annotator-filter strong{font-size:12px;font-weight:700;color:#3c3c3c;text-shadow:0 1px 0 rgba(255,255,255,.7);position:relative;top:-9px}.annotator-filter .annotator-filter-navigation,.annotator-filter .annotator-filter-property{position:relative;display:inline-block;overflow:hidden;line-height:10px;padding:2px 0;margin-right:8px}.annotator-filter .annotator-filter-navigation button,.annotator-filter .annotator-filter-property label{text-align:left;display:block;float:left;line-height:20px;-webkit-border-radius:10px 0 0 10px;-moz-border-radius:10px 0 0 10px;-o-border-radius:10px 0 0 10px;border-radius:10px 0 0 10px}.annotator-filter .annotator-filter-navigation .annotator-filter-next,.annotator-filter .annotator-filter-property input{-webkit-border-radius:0 10px 10px 0;border-radius:0 10px 10px 0;-moz-border-radius:0 10px 10px 0;-o-border-radius:0 10px 10px 0}.annotator-filter .annotator-filter-property label{padding-left:8px}.annotator-filter .annotator-filter-property input{display:block;float:right;-webkit-appearance:none;border:1px solid #878787;border-left:none;padding:2px 4px;line-height:16px;min-height:16px;font-size:12px;width:150px;color:#333;background-color:#f8f8f8;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.2);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.2);-o-box-shadow:inset 0 1px 1px rgba(0,0,0,.2);box-shadow:inset 0 1px 1px rgba(0,0,0,.2)}.annotator-filter .annotator-filter-property input:focus{outline:0;background-color:#fff}.annotator-filter .annotator-filter-clear{position:absolute;right:3px;top:6px;border:none;text-indent:-900em;width:15px;height:15px;background-position:0 -90px;opacity:.4}.annotator-filter .annotator-filter-clear:focus,.annotator-filter .annotator-filter-clear:hover{opacity:.8}.annotator-filter .annotator-filter-clear:active{opacity:1}.annotator-filter .annotator-filter-navigation button{border:1px solid #a2a2a2;padding:0;text-indent:-900px;width:20px;min-height:22px;-webkit-box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8);-moz-box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8);-o-box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8);box-shadow:inset 0 0 5px rgba(255,255,255,.2),inset 0 0 1px rgba(255,255,255,.8)}.annotator-filter .annotator-filter-navigation button,.annotator-filter .annotator-filter-navigation button:focus,.annotator-filter .annotator-filter-navigation button:hover{color:transparent}.annotator-filter .annotator-filter-navigation button:after{position:absolute;top:8px;left:8px;content:"";display:block;width:9px;height:9px;background-position:0 -210px}.annotator-filter .annotator-filter-navigation button:hover:after{background-position:0 -225px}.annotator-filter .annotator-filter-navigation .annotator-filter-next{border-left:none}.annotator-filter .annotator-filter-navigation .annotator-filter-next:after{left:auto;right:7px;background-position:0 -240px}.annotator-filter .annotator-filter-navigation .annotator-filter-next:hover:after{background-position:0 -255px}.annotator-hl-active{background:#FFFF0A;background:rgba(255,255,10,.8);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#CCFFFF0A, endColorstr=#CCFFFF0A)"}.annotator-hl-filtered{background-color:transparent}'},{}],3:[function(t,e,n){var i;i=function(){"use strict";var r={has:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t){for(var e=1;e<arguments.length;++e){var n=arguments[e];if(n)for(var i in n)t[i]=n[i]}return t}};return function(t,e){var n,i=this;n=t&&r.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},r.extend(n,i,e);var o=function(){this.constructor=n};return o.prototype=i.prototype,n.prototype=new o,t&&r.extend(n.prototype,t),n.__super__=i.prototype,n}},"object"==typeof n?e.exports=i():"function"==typeof un&&un.amd?un(i):window.BackboneExtend=i()},{}],4:[
function(t,e){function n(){if(!a){var t;a=!0;for(var e=r.length;e;){t=r,r=[];for(var n=-1;++n<e;)t[n]();e=r.length}a=!1}}function i(){}var o=e.exports={},r=[],a=!1;o.nextTick=function(t){r.push(t),a||setTimeout(n,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=i,o.addListener=i,o.once=i,o.off=i,o.removeListener=i,o.removeAllListeners=i,o.emit=i,o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],5:[function(t,e,n){"use strict";var i=t("./promise/promise").Promise,o=t("./promise/polyfill").polyfill;n.Promise=i,n.polyfill=o},{"./promise/polyfill":10,"./promise/promise":11}],6:[function(t,e,n){"use strict";function i(l){var t=this;if(!o(l))throw new TypeError("You must pass an array to all.");return new t(function(n,t){function e(e){return function(t){i(e,t)}}function i(t,e){r[t]=e,0==--a&&n(r)}var o,r=[],a=l.length;0===a&&n([]);for(var s=0;s<l.length;s++)(o=l[s])&&c(o.then)?o.then(e(s),t):i(s,o)})}var o=t("./utils").isArray,c=t("./utils").isFunction;n.all=i},{"./utils":15}],7:[function(t,e,h){(function(t,e){"use strict";function n(){return function(){t.nextTick(r)}}function i(){var t=0,e=new c(r),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function o(){return function(){u.setTimeout(r,1)}}function r(){for(var t=0;t<d.length;t++){var e=d[t];(0,e[0])(e[1])}d=[]}function a(t,e){1===d.push([t,e])&&s()}var s,l="undefined"!=typeof window?window:{},c=l.MutationObserver||l.WebKitMutationObserver,u=void 0!==e?e:this===undefined?window:this,d=[];s=void 0!==t&&"[object process]"==={}.toString.call(t)?n():c?i():o(),h.asap=a}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:4}],8:[function(t,e,n){"use strict";function i(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})}n.cast=i},{}],9:[function(t,e,n){"use strict";function i(t,e){if(2!==arguments.length)return o[t];o[t]=e}var o={instrument:!1};n.config=o,n.configure=i},{}],10:[function(e,t,r){(function(n){"use strict";function t(){var t,e;"Promise"in(t=void 0!==n?n:"undefined"!=typeof window&&window.document?window:self)&&"cast"in t.Promise&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&(new t.Promise(function(t){e=t}),o(e))||(t.Promise=i)}var i=e("./promise").Promise,o=e("./utils").isFunction;r.polyfill=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./promise":11,"./utils":15}],11:[function(t,e,n){"use strict";function i(t){if(!g(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof i))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],o(t,this)}function o(t,e){function n(t){u(e,t)}function i(t){d(e,t)}try{t(n,i)}catch(dn){i(dn)}}function a(t,e,n,i){var o,r,a,s,l=g(n);if(l)try{o=n(i),a=!0}catch(dn){s=!0,r=dn}else o=i,a=!0;c(e,o)||(l&&a?u(e,o):s?d(e,r):t===O?u(e,o):t===I&&d(e,o))}function s(t,e,n,i){var o=t._subscribers,r=o.length;o[r]=e,o[r+O]=n,o[r+I]=i}function r(t,e){for(var n=t._subscribers,i=t._detail,o=0;o<n.length;o+=3)a(e,n[o],n[o+e],i);t._subscribers=null}function c(e,n){var i,t=null;try{if(e===n)throw new TypeError("A promises callback cannot return that same promise.");if(m(n)&&(t=n.then,g(t)))return t.call(n,function(t){if(i)return!0;i=!0,n!==t?u(e,t):l(e,t)},function(t){if(i)return!0;i=!0,d(e,t)}),!0}catch(o){return i||d(e,o),!0}return!1}function u(t,e){t===e?l(t,e):c(t,e)||l(t,e)}function l(t,e){t._state===C&&(t._state=D,t._detail=e,p.async(h,t))}function d(t,e){t._state===C&&(t._state=D,t._detail=e,p.async(f,t))}function h(t){r(t,t._state=O)}function f(t){r(t,t._state=I)}var p=t("./config").config,m=(t("./config").configure,t("./utils").objectOrFunction),g=t("./utils").isFunction,v=(t("./utils").now,t("./cast").cast),y=t("./all").all,b=t("./race").race,E=t("./resolve").resolve,_=t("./reject").reject,T=t("./asap").asap;p.async=T;var C=void 0,D=0,O=1,I=2;i.prototype={constructor:i,_state:undefined,_detail:undefined,_subscribers:undefined,then:function(t,e){var n=this,i=new this.constructor(function(){});if(this._state){var o=arguments;p.async(function r(){a(n._state,i,o[n._state-1],n._detail)})}else s(this,i,t,e);return i},"catch":function(t){return this.then(null,t)}},i.all=y,i.cast=v,i.race=b,i.resolve=E,i.reject=_,n.Promise=i},{"./all":6,"./asap":7,"./cast":8,"./config":9,"./race":12,"./reject":13,"./resolve":14,"./utils":15}],12:[function(t,e,n){"use strict";function i(o){var t=this;if(!r(o))throw new TypeError("You must pass an array to race.");return new t(function(t,e){for(var n,i=0;i<o.length;i++)(n=o[i])&&"function"==typeof n.then?n.then(t,e):t(n)})}var r=t("./utils").isArray;n.race=i},{"./utils":15}],13:[function(t,e,n){"use strict";function i(n){return new this(function(t,e){e(n)})}n.reject=i},{}],14:[function(t,e,n){"use strict";function i(e){return new this(function(t){t(e)})}n.resolve=i},{}],15:[function(t,e,n){"use strict";function i(t){return o(t)||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}var a=Date.now||function(){return(new Date).getTime()};n.objectOrFunction=i,n.isFunction=o,n.isArray=r,n.now=a},{}],16:[function(t,e){var o={};e.exports=function(t,e){if(!o[t]){o[t]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=t:n.styleSheet.cssText=t;var i=document.getElementsByTagName("head")[0];e&&e.prepend?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}},{}],17:[function(t,e){var n,i;n="undefined"!=typeof window?window:this,i=function(p,t){function s(t){var e=t.length,n=ot.type(t);return"function"!==n&&!ot.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t))}function e(t,n,i){if(ot.isFunction(n))return ot.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return ot.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(ht.test(n))return ot.filter(n,t,i);n=ot.filter(n,t)}return ot.grep(t,function(t){return 0<=ot.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function h(t){var n=Et[t]={};return ot.each(t.match(bt)||[],function(t,e){n[e]=!0}),n}function i(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",o,!1),p.removeEventListener("load",o,!1)):(pt.detachEvent("onreadystatechange",o),p.detachEvent("onload",o))}function o(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(i(),ot.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Dt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ct.test(n)?ot.parseJSON(n):n)}catch(dn){}ot.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!ot.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function r(t,e,n,i){if(ot.acceptData(t)){var o,r,a=ot.expando,s=t.nodeType,l=s?ot.cache:t,c=s?t[a]:t[a]&&a;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof e)return c||(c=s?t[a]=Z.pop()||ot.guid++:a),l[c]||(l[c]=s?{}:{toJSON:ot.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ot.extend(l[c],e):l[c].data=ot.extend(l[c].data,e)),r=l[c],i||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[ot.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[ot.camelCase(e)]):o=r,o}}function a(t,e,n){if(ot.acceptData(t)){var i,o,r=t.nodeType,a=r?ot.cache:t,s=r?t[ot.expando]:ot.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){o=(e=ot.isArray(e)?e.concat(ot.map(e,ot.camelCase)):e in i?[e]:(e=ot.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!c(i):!ot.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(r?ot.cleanData([t],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function u(){return!0}function d(){return!1}function f(){try{return pt.activeElement}catch(t){}}function m(t){var e=Lt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,i,o=0,r=typeof t.getElementsByTagName!==Tt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Tt?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ot.nodeName(i,e)?r.push(i):ot.merge(r,g(i,e));return e===undefined||e&&ot.nodeName(t,e)?ot.merge([t],r):r}function v(t){Rt.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function b(t){return t.type=(null!==ot.find.attr(t,"type"))+"/"+t.type,t}function E(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){for(var n,i=0;null!=(n=t[i]);i++)ot._data(n,"globalEval",!e||ot._data(e[i],"globalEval"))}function T(t,e){if(1===e.nodeType&&ot.hasData(t)){var n,i,o,r=ot._data(t),a=ot._data(e,r),s=r.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,o=s[n].length;i<o;i++)ot.event.add(e,n,s[n][i]);a.data&&(a.data=ot.extend({},a.data))}}function C(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[ot.expando]){for(i in(o=ot._data(e)).events)ot.removeEvent(e,i,o.handle);e.removeAttribute(ot.expando)}"script"===n&&e.text!==t.text?(b(e).text=t.text,E(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!ot.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Rt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function D(t,e){var n,i=ot(e.createElement(t)).appendTo(e.body),o=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:ot.css(i[0],"display");return i.detach(),o}function O(t){var e=pt,n=Qt[t];return n||("none"!==(n=D(t,e))&&n||((e=((Yt=(Yt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||Yt[0].contentDocument).document).write(),e.close(),n=D(t,e),Yt.detach()),Qt[t]=n),n}function I(e,n){return{get:function(){var t=e();if(null!=t){if(!t)return(this.get=n).apply(this,arguments);delete this.get}}}}function k(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=de.length;o--;)if((e=de[o]+n)in t)return e;return i}function w(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(r[a]=ot._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(r[a]=ot._data(i,"olddisplay",O(i.nodeName)))):(o=kt(i),(n&&"none"!==n||!o)&&ot._data(i,"olddisplay",o?n:ot.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function R(t,e,n){var i=se.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function x(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=ot.css(t,n+It[r],!0,o)),i?("content"===n&&(a-=ot.css(t,"padding"+It[r],!0,o)),"margin"!==n&&(a-=ot.css(t,"border"+It[r]+"Width",!0,o))):(a+=ot.css(t,"padding"+It[r],!0,o),"padding"!==n&&(a+=ot.css(t,"border"+It[r]+"Width",!0,o)));return a}function S(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Jt(t),a=nt.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=te(t,e,r))<0||null==o)&&(o=t.style[e]),ne.test(o))return o;i=a&&(nt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+x(t,e,n||(a?"border":"content"),i,r)+"px"}function K(t,e,n,i,o){return new K.prototype.init(t,e,n,i,o)}function A(){return setTimeout(function(){he=undefined}),he=ot.now()}function N(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=It[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var i,o=(Ce[e]||[]).concat(Ce["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function P(e,t,n){var i,o,r,a,s,l,c,u=this,d={},h=e.style,f=e.nodeType&&kt(e),p=ot._data(e,"fxshow");for(i in n.queue||(null==(s=ot._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ot.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=ot.css(e,"display"))?ot._data(e,"olddisplay")||O(e.nodeName):c)&&"none"===ot.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==O(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",nt.shrinkWrapBlocks()||u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(o=t[i],be.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[i]===undefined)continue;f=!0}d[i]=p&&p[i]||ot.style(e,i)}else c=undefined;if(ot.isEmptyObject(d))"inline"===("none"===c?O(e.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ot._data(e,"fxshow",{}),r&&(p.hidden=!f),f?ot(e).show():u.done(function(){ot(e).hide()}),u.done(function(){var t;for(t in ot._removeData(e,"fxshow"),d)ot.style(e,t,d[t])}),d)a=L(f?p[i]:0,i,u),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function F(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=ot.camelCase(n)],r=t[n],ot.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=ot.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function M(r,t,e){var n,a,i=0,o=Te.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=he||A(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(r,[c,n,e]),n<1&&o?e:(s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:he||A(),duration:e.duration,tweens:[],createTween:function(t,e){var n=ot.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)c.tweens[e].run(1);return t?s.resolveWith(r,[c,t]):s.rejectWith(r,[c,t]),this}}),u=c.props;for(F(u,c.opts.specialEasing);i<o;i++)if(n=Te[i].call(c,r,u,c.opts))return n;return ot.map(u,L,c),ot.isFunction(c.opts.start)&&c.opts.start.call(r,c),ot.fx.timer(ot.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(bt)||[];if(ot.isFunction(e))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function B(e,o,r,a){function s(t){var i;return l[t]=!0,ot.each(e[t]||[],function(t,e){var n=e(o,r,a);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=e===Ve;return s(o.dataTypes[0])||!l["*"]&&s("*")}function j(t,e){var n,i,o=ot.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ot.extend(!0,t,n),t}function z(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function q(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(dn){return{state:"parsererror",error:a?dn:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function H(n,t,i,o){var e;if(ot.isArray(t))ot.each(t,function(t,e){i||Ye.test(n)?o(n,e):H(n+"["+("object"==typeof e?t:"")+"]",e,i,o)});else if(i||"object"!==ot.type(t))o(n,t);else for(e in t)H(n+"["+e+"]",t[e],i,o)}function U(){try{return new p.XMLHttpRequest}catch(dn){}}function W(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(dn){}}function V(t){return ot.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var Z=[],G=Z.slice,Y=Z.concat,X=Z.push,Q=Z.indexOf,J={},tt=J.toString,et=J.hasOwnProperty,nt={},it="1.11.2",ot=function(t,e){return new ot.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:it,constructor:ot,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ot.each(this,t,e)},map:function(n){return this.pushStack(ot.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:Z.sort,splice:Z.splice},ot.extend=ot.fn.extend=function(t){var e,n,i,o,r,a,s=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||ot.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(r=arguments[l]))for(o in r)e=s[o],s!==(i=r[o])&&(u&&i&&(ot.isPlainObject(i)||(n=ot.isArray(i)))?(a=n?(n=!1,e&&ot.isArray(e)?e:[]):e&&ot.isPlainObject(e)?e:{},s[o]=ot.extend(u,a,i)):i!==undefined&&(s[o]=i));return s},ot.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray||function(t){return"array"===ot.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ot.isArray(t)&&0<=t-parseFloat(t)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(dn){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return e===undefined||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[tt.call(t)]||"object":typeof t},globalEval:function(t){t&&ot.trim(t)&&(p.execScript||function(t){p.eval.call(p,t)})(t)},camelCase:function(t){return t.replace(at,"ms-").replace(st,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,o=t.length,r=s(t);if(n){if(r)for(;i<o&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(r)for(;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?ot.merge(n,"string"==typeof t?[t]:t):X.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(Q)return Q.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o=0,r=t.length,a=[];if(s(t))for(;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return Y.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ot.isFunction(t)?(n=G.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(G.call(arguments)))}).guid=t.guid=t.guid||ot.guid++,i):undefined},now:function(){return+new Date},support:nt}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()});var ct=function(n){function E(t,e,n,i){var o,r,a,s,l,c,u,d,h,f;if((e?e.ownerDocument||e:B)!==K&&S(e),n=n||[],s=(e=e||K).nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&N){if(11!==s&&(o=yt.exec(t)))if(a=o[1]){if(9===s){if(!(r=e.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&M(e,r)&&r.id===a)return n.push(r),n}else{if(o[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&v.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(a)),n}if(v.qsa&&(!L||!L.test(t))){if(d=u=$,h=e,f=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=O(t),(u=e.getAttribute("id"))?d=u.replace(Et,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+g(c[l]);h=bt.test(t)&&m(e.parentNode)||e,f=c.join(",")}if(f)try{return Q.apply(n,h.querySelectorAll(f)),n}catch(p){}finally{u||e.removeAttribute("id")}}}return k(t.replace(lt,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>T.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[$]=!0,t}function i(t){var e=K.createElement("div");try{return!!t(e)}catch(dn){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=t.length;i--;)T.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function o(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function r(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return l(function(r){return r=+r,l(function(t,e){for(var n,i=a([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function m(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(a,t,e){var s=t.dir,l=e&&"parentNode"===s,c=z++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||l)return a(t,e,n)}:function(t,e,n){var i,o,r=[j,c];if(n){for(;t=t[s];)if((1===t.nodeType||l)&&a(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||l){if((i=(o=t[$]||(t[$]={}))[s])&&i[0]===j&&i[1]===c)return r[2]=i[2];if((o[s]=r)[2]=a(t,e,n))return!0}}}function h(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function y(t,e,n){for(var i=0,o=e.length;i<o;i++)E(t,e[i],n);return n}function _(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function b(f,p,m,g,v,t){return g&&!g[$]&&(g=b(g)),v&&!v[$]&&(v=b(v,t)),l(function(t,e,n,i){var o,r,a,s=[],l=[],c=e.length,u=t||y(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?u:_(u,s,f,n,i),h=m?v||(t?f:c||g)?[]:e:d;if(m&&m(d,h,n,i),g)for(o=_(h,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(t){if(v||f){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?tt(t,a):s[r])&&(t[o]=!(e[o]=a))}}else h=_(h===e?h.splice(c,h.length):h),v?v(null,e,h,i):Q.apply(e,h)})}function f(t){for(var o,e,n,i=t.length,r=T.relative[t[0].type],a=r||T.relative[" "],s=r?1:0,l=d(function(t){return t===o},a,!0),c=d(function(t){return-1<tt(o,t)},a,!0),u=[function(t,e,n){var i=!r&&(n||e!==w)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=T.relative[t[s].type])u=[d(h(u),e)];else{if((e=T.filter[t[s].type].apply(null,t[s].matches))[$]){for(n=++s;n<i&&!T.relative[t[n].type];n++);return b(1<s&&h(u),1<s&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),e,s<n&&f(t.slice(s,n)),n<i&&f(t=t.slice(n)),n<i&&g(t))}u.push(e)}return h(u)}function u(g,v){var y=0<v.length,b=0<g.length,t=function(t,e,n,i,o){var r,a,s,l=0,c="0",u=t&&[],d=[],h=w,f=t||b&&T.find.TAG("*",o),p=j+=null==h?1:Math.random()||.1,m=f.length;for(o&&(w=e!==K&&e);c!==m&&null!=(r=f[c]);c++){if(b&&r){for(a=0;s=g[a++];)if(s(r,e,n)){i.push(r);break}o&&(j=p)}y&&((r=!s&&r)&&l--,t&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=Y.call(i));d=_(d)}Q.apply(i,d),o&&!t&&0<d.length&&1<l+v.length&&E.uniqueSort(i)}return o&&(j=p,w=h),u};return y?l(t):t}var p,v,T,C,D,O,I,k,w,R,x,S,K,A,N,L,P,F,M,$="sizzle"+1*new Date,B=n.document,j=0,z=0,q=t(),H=t(),U=t(),W=function(t,e){return t===e&&(x=!0),0},V=1<<31,Z={}.hasOwnProperty,G=[],Y=G.pop,X=G.push,Q=G.push,J=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(at),ft=new RegExp("^"+ot+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,Et=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){S()};try{Q.apply(G=J.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(dn){Q={apply:G.length?function(t,e){X.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in v=E.support={},D=E.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},S=E.setDocument=function(t){var e,n,l=t?t.ownerDocument||t:B;return l!==K&&9===l.nodeType&&l.documentElement?(A=(K=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),N=!D(l),v.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=i(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=vt.test(l.getElementsByClassName),v.getById=i(function(t){return A.appendChild(t).id=$,!l.getElementsByName||!l.getElementsByName($).length}),v.getById?(T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(_t,Tt);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var n=t.replace(_t,Tt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),T.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},T.find.CLASS=v.getElementsByClassName&&function(t,e){if(N)return e.getElementsByClassName(t)},P=[],L=[],(v.qsa=vt.test(l.querySelectorAll))&&(i(function(t){A.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||L.push(".#.+[+~]")}),i(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(v.matchesSelector=vt.test(F=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(t){v.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),P.push("!=",at)}),L=L.length&&new RegExp(L.join("|")),P=P.length&&new RegExp(P.join("|")),e=vt.test(A.compareDocumentPosition),M=e||vt.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return x=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===B&&M(B,t)?-1:e===l||e.ownerDocument===B&&M(B,e)?1:R?tt(R,t)-tt(R,e):0:4&n?-1:1)}:function(t,e){if(t===e)return x=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t===l?-1:e===l?1:o?-1:r?1:R?tt(R,t)-tt(R,e):0;if(o===r)return c(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===B?-1:s[i]===B?1:0},l):K},E.matches=function(t,e){return E(t,null,null,e)},E.matchesSelector=function(t,e){if((t.ownerDocument||t)!==K&&S(t),e=e.replace(dt,"='$1']"),v.matchesSelector&&N&&(!P||!P.test(e))&&(!L||!L.test(e)))try{var n=F.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(dn){}return 0<E(e,K,null,[t]).length},E.contains=function(t,e){return(t.ownerDocument||t)!==K&&S(t),M(t,e)},E.attr=function(t,e){(t.ownerDocument||t)!==K&&S(t);var n=T.attrHandle[e.toLowerCase()],i=n&&Z.call(T.attrHandle,e.toLowerCase())?n(t,e,!N):undefined;return i!==undefined?i:v.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},E.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},E.uniqueSort=function(t){var e,n=[],i=0,o=0;if(x=!v.detectDuplicates,R=!v.sortStable&&t.slice(0),t.sort(W),x){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return R=null,t},C=E.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},(T=E.selectors={cacheLength:50,createPseudo:l,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,Tt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,Tt)
,"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||E.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&E.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=O(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,Tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=E.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(st," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,p,m){var g="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===t;return 1===p&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,a,s,l,c=g!==v?"nextSibling":"previousSibling",u=t.parentNode,d=y&&t.nodeName.toLowerCase(),h=!n&&!y;if(u){if(g){for(;c;){for(r=t;r=r[c];)if(y?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(s=(i=(o=u[$]||(u[$]={}))[f]||[])[0]===j&&i[1],a=i[0]===j&&i[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===t){o[f]=[j,s,a];break}}else if(h&&(i=(t[$]||(t[$]={}))[f])&&i[0]===j)a=i[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++a||(h&&((r[$]||(r[$]={}))[f]=[j,a]),r!==t)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(t,r){var e,a=T.pseudos[t]||T.setFilters[t.toLowerCase()]||E.error("unsupported pseudo: "+t);return a[$]?a(r):1<a.length?(e=[t,t,"",r],T.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=a(t,r),o=i.length;o--;)t[n=tt(t,i[o])]=!(e[n]=i[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:l(function(t){var i=[],o=[],s=I(t.replace(lt,"$1"));return s[$]?l(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(e){return function(t){return 0<E(e,t).length}}),contains:l(function(e){return e=e.replace(_t,Tt),function(t){return-1<(t.textContent||t.innerText||C(t)).indexOf(e)}}),lang:l(function(n){return ft.test(n||"")||E.error("unsupported lang: "+n),n=n.replace(_t,Tt).toLowerCase(),function(t){var e;do{if(e=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===A},focus:function(t){return t===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=T.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[p]=o(p);for(p in{submit:!0,reset:!0})T.pseudos[p]=r(p);return s.prototype=T.filters=T.pseudos,T.setFilters=new s,O=E.tokenize=function(t,e){var n,i,o,r,a,s,l,c=H[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=T.preFilter;a;){for(r in n&&!(i=ct.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=ut.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(lt," ")}),a=a.slice(n.length)),T.filter)!(i=pt[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?E.error(t):H(t,s).slice(0)},I=E.compile=function(t,e){var n,i=[],o=[],r=U[t+" "];if(!r){for(e||(e=O(t)),n=e.length;n--;)(r=f(e[n]))[$]?i.push(r):o.push(r);(r=U(t,u(o,i))).selector=t}return r},k=E.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,u=!i&&O(t=c.selector||t);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&v.getById&&9===e.nodeType&&N&&T.relative[r[1].type]){if(!(e=(T.find.ID(a.matches[0].replace(_t,Tt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(a=r[o],!T.relative[s=a.type]);)if((l=T.find[s])&&(i=l(a.matches[0].replace(_t,Tt),bt.test(r[0].type)&&m(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&g(r)))return Q.apply(n,i),n;break}}return(c||I(t,u))(i,e,!N,n,bt.test(t)&&m(e.parentNode)||e),n},v.sortStable=$.split("").sort(W).join("")===$,v.detectDuplicates=!!x,S(),v.sortDetached=i(function(t){return 1&t.compareDocumentPosition(K.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),E}(p);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var ut=ot.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;e<o;e++)if(ot.contains(i[e],this))return!0}));for(e=0;e<o;e++)ot.find(t,i[e],n);return(n=this.pushStack(1<o?ot.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&ut.test(t)?ot(t):t||[],!1).length}});var ft,pt=p.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ot.fn.init=function(t,e){var n,i;if(!t)return this;if("string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?"undefined"!=typeof ft.ready?ft.ready(t):t(ot):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this));if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:mt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ft).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:pt,!0)),dt.test(n[1])&&ot.isPlainObject(e))for(n in e)ot.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=pt.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return ft.find(t);this.length=1,this[0]=i}return this.context=pt,this.selector=t,this}).prototype=ot.fn,ft=ot(pt);var gt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(t,e,n){for(var i=[],o=t[e];o&&9!==o.nodeType&&(n===undefined||1!==o.nodeType||!ot(o).is(n));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),ot.fn.extend({has:function(t){var e,n=ot(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ot.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=ut.test(t)||"string"!=typeof t?ot(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ot.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?ot.unique(r):r)},index:function(t){return t?"string"==typeof t?ot.inArray(this[0],ot(t)):ot.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.unique(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ot.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ot.dir(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return ot.dir(t,"nextSibling")},prevAll:function(t){return ot.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ot.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ot.dir(t,"previousSibling",n)},siblings:function(t){return ot.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ot.sibling(t.firstChild)},contents:function(t){return ot.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ot.merge([],t.childNodes)}},function(i,o){ot.fn[i]=function(t,e){var n=ot.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=ot.filter(e,n)),1<this.length&&(vt[i]||(n=ot.unique(n)),gt.test(i)&&(n=n.reverse())),this.pushStack(n)}});var yt,bt=/\S+/g,Et={};ot.Callbacks=function(o){o="string"==typeof o?Et[o]||h(o):ot.extend({},o);var r,e,n,a,i,s,l=[],c=!o.once&&[],u=function(t){for(e=o.memory&&t,n=!0,i=s||0,s=0,a=l.length,r=!0;l&&i<a;i++)if(!1===l[i].apply(t[0],t[1])&&o.stopOnFalse){e=!1;break}r=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;!function i(t){ot.each(t,function(t,e){var n=ot.type(e);"function"===n?o.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),r?a=l.length:e&&(s=t,u(e))}return this},remove:function(){return l&&ot.each(arguments,function(t,e){for(var n;-1<(n=ot.inArray(e,l,n));)l.splice(n,1),r&&(n<=a&&a--,n<=i&&i--)}),this},has:function(t){return t?-1<ot.inArray(t,l):!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=e=undefined,this},disabled:function(){return!l},lock:function(){return c=undefined,e||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||n&&!c||(e=[t,(e=e||[]).slice?e.slice():e],r?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},ot.extend({Deferred:function(t){var r=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return ot.Deferred(function(i){ot.each(r,function(t,e){var n=ot.isFunction(o[t])&&o[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?ot.extend(t,a):a}},s={};return a.pipe=a.then,ot.each(r,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){o=i},r[1^t][2].disable,r[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var o,e,n,i=0,r=G.call(arguments),a=r.length,s=1!==a||t&&ot.isFunction(t.promise)?a:0,l=1===s?t:ot.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?G.call(arguments):t,i===o?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(o=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)r[i]&&ot.isFunction(r[i].promise)?r[i].promise().done(c(i,n,r)).fail(l.reject).progress(c(i,e,o)):--s;return s||l.resolveWith(n,r),l.promise()}}),ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){if(!0===t?!--ot.readyWait:!ot.isReady){if(!pt.body)return setTimeout(ot.ready);(ot.isReady=!0)!==t&&0<--ot.readyWait||(yt.resolveWith(pt,[ot]),ot.fn.triggerHandler&&(ot(pt).triggerHandler("ready"),ot(pt).off("ready")))}}}),ot.ready.promise=function(t){if(!yt)if(yt=ot.Deferred(),"complete"===pt.readyState)setTimeout(ot.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",o,!1),p.addEventListener("load",o,!1);else{pt.attachEvent("onreadystatechange",o),p.attachEvent("onload",o);var e=!1;try{e=null==p.frameElement&&pt.documentElement}catch(dn){}e&&e.doScroll&&function n(){if(!ot.isReady){try{e.doScroll("left")}catch(dn){return setTimeout(n,50)}i(),ot.ready()}}()}return yt.promise(t)};var _t,Tt=typeof undefined;for(_t in ot(nt))break;nt.ownLast="0"!==_t,nt.inlineBlockNeedsLayout=!1,ot(function(){var t,e,n,i;(n=pt.getElementsByTagName("body")[0])&&n.style&&(e=pt.createElement("div"),(i=pt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==Tt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=pt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(dn){nt.deleteExpando=!1}}t=null}(),ot.acceptData=function(t){var e=ot.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ot.cache[t[ot.expando]]:t[ot.expando])&&!c(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),ot.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(t!==undefined)return"object"==typeof t?this.each(function(){ot.data(this,t)}):1<arguments.length?this.each(function(){ot.data(this,t,e)}):r?l(r,t,ot.data(r,t)):undefined;if(this.length&&(o=ot.data(r),1===r.nodeType&&!ot._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&l(r,i=ot.camelCase(i.slice(5)),o[i]);ot._data(r,"parsedAttrs",!0)}return o},removeData:function(t){return this.each(function(){ot.removeData(this,t)})}}),ot.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ot._data(t,e),n&&(!i||ot.isArray(n)?i=ot._data(t,e,ot.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,o=n.shift(),r=ot._queueHooks(t,e),a=function(){ot.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ot._data(t,n)||ot._data(t,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(t,e+"queue"),ot._removeData(t,n)})})}}),ot.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?ot.queue(this[0],e):n===undefined?this:this.each(function(){var t=ot.queue(this,e,n);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ot.dequeue(this,e)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ot.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=ot._data(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var Ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,It=["Top","Right","Bottom","Left"],kt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},wt=ot.access=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===ot.type(n))for(s in o=!0,n)ot.access(t,e,s,n[s],!0,r,a);else if(i!==undefined&&(o=!0,ot.isFunction(i)||(a=!0),c&&(e=a?(e.call(t,i),null):(c=e,function(t,e,n){return c.call(ot(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},Rt=/^(?:checkbox|radio)$/i;!function(){var t=pt.createElement("input"),e=pt.createElement("div"),n=pt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(dn){nt.deleteExpando=!1}}}(),function(){var t,e,n=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(nt[t+"Bubbles"]=e in p)||(n.setAttribute(e,"t"),nt[t+"Bubbles"]=!1===n.attributes[e].expando);n=null}();var xt=/^(?:input|select|textarea)$/i,St=/^key/,Kt=/^(?:mouse|pointer|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,m,g=ot._data(t);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=ot.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||((u=g.handle=function(t){return typeof ot===Tt||t&&ot.event.triggered===t.type?undefined:ot.event.dispatch.apply(u.elem,arguments)}).elem=t),s=(e=(e||"").match(bt)||[""]).length;s--;)f=m=(r=Nt.exec(e[s])||[])[1],p=(r[2]||"").split(".").sort(),f&&(c=ot.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ot.event.special[f]||{},d=ot.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=a[f])||((h=a[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),ot.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,m,g=ot.hasData(t)&&ot._data(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(bt)||[""]).length;c--;)if(f=m=(s=Nt.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=ot.event.special[f]||{},h=u[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(t,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||ot.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)ot.event.remove(t,f+e[c],n,i,!0);ot.isEmptyObject(u)&&(delete g.handle,ot._removeData(t,"events"))}},trigger:function(t,e,n,i){var o,r,a,s,l,c,u,d=[n||pt],h=et.call(t,"type")?t.type:t,f=et.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||pt,3!==n.nodeType&&8!==n.nodeType&&!At.test(h+ot.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),r=h.indexOf(":")<0&&"on"+h,(t=t[ot.expando]?t:new ot.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:ot.makeArray(e,[t]),l=ot.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!ot.isWindow(n)){for(s=l.delegateType||h,At.test(s+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(n.ownerDocument||pt)&&d.push(c.defaultView||c.parentWindow||p)}for(u=0;(a=d[u++])&&!t.isPropagationStopped();)t.type=1<u?s:l.bindType||h,(o=(ot._data(a,"events")||{})[t.type]&&ot._data(a,"handle"))&&o.apply(a,e),(o=r&&a[r])&&o.apply&&ot.acceptData(a)&&(t.result=o.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),e))&&ot.acceptData(n)&&r&&n[h]&&!ot.isWindow(n)){(c=n[r])&&(n[r]=null),ot.event.triggered=h;try{n[h]()}catch(dn){}ot.event.triggered=undefined,c&&(n[r]=c)}return t.result}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,o,r,a=[],s=G.call(arguments),l=(ot._data(this,"events")||{})[t.type]||[],c=ot.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=ot.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,(n=((ot.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))!==undefined&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(o=[],r=0;r<s;r++)o[n=(i=e[r]).selector+" "]===undefined&&(o[n]=i.needsContext?0<=ot(n,this).index(l):ot.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ot.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Kt.test(o)?this.mouseHooks:St.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new ot.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||pt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||pt).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(dn){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=ot.extend(new ot.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(o,null,e):ot.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=pt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Tt&&(t[i]=null),t.detachEvent(i,n))},ot.Event=function(t,e){if(!(this instanceof ot.Event))return new ot.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?u:d):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),this[ot.expando]=!0},ot.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){ot.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||ot.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=r),e}}}),nt.submitBubbles||(ot.event.special.submit={setup:function(){if(ot.nodeName(this,"form"))return!1;ot.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ot.nodeName(e,"input")||ot.nodeName(e,"button")?e.form:undefined;n&&!ot._data(n,"submitBubbles")&&(ot.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ot._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ot.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){if(ot.nodeName(this,"form"))return!1;ot.event.remove(this,"._submit")}}),nt.changeBubbles||(ot.event.special.change={setup:function(){if(xt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ot.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,t,!0)})),!1;ot.event.add(this,"beforeactivate._change",function(t){var e=t.target;xt.test(e.nodeName)&&!ot._data(e,"changeBubbles")&&(ot.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ot.event.simulate("change",this.parentNode,t,!0)}),ot._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ot.event.remove(this,"._change"),!xt.test(this.nodeName)}}),nt.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){ot.event.simulate(i,t.target,ot.event.fix(t),!0)};ot.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=ot._data(t,i);e||t.addEventListener(n,o,!0),ot._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=ot._data(t,i)-1;e?ot._data(t,i,e):(t.removeEventListener(n,o,!0),ot._removeData(t,i))}}}),ot.fn.extend({on:function(t,e,n,i,o){var r,a;if("object"==typeof t){for(r in"string"!=typeof e&&(n=n||e,e=undefined),t)this.on(r,e,n,t[r],o);return this}if(null==n&&null==i?(i=e,n=e=undefined):null==i&&("string"==typeof e?(i=n,n=undefined):(i=n,n=e,e=undefined)),!1===i)i=d;else if(!i)return this;return 1===o&&(a=i,(i=function(t){return ot().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=ot.guid++)),this.each(function(){ot.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=d),this.each(function(){ot.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ot.event.trigger(t,e,n,!0)}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,Ft=new RegExp("<(?:"+Lt+")[\\s/>]","i"),Mt=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Bt=/<([\w:]+)/,jt=/<tbody/i,zt=/<|&#?\w+;/,qt=/<(?:script|style|link)/i,Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Wt=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(pt).appendChild(pt.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,ot.extend({clone:function(t,e,n){var i,o,r,a,s,l=ot.contains(t.ownerDocument,t);if(nt.html5Clone||ot.isXMLDoc(t)||!Ft.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(Gt.innerHTML=t.outerHTML,Gt.removeChild(r=Gt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(i=g(r),s=g(t),a=0;null!=(o=s[a]);++a)i[a]&&C(o,i[a]);if(e)if(n)for(s=s||g(t),i=i||g(r),a=0;null!=(o=s[a]);a++)T(o,i[a]);else T(t,r);return 0<(i=g(r,"script")).length&&_(i,!l&&g(t,"script")),i=s=o=null,r},buildFragment:function(t,e,n,i){for(var o,r,a,s,l,c,u,d=t.length,h=m(e),f=[],p=0;p<d;p++)if((r=t[p])||0===r)if("object"===ot.type(r))ot.merge(f,r.nodeType?[r]:r);else if(zt.test(r)){for(s=s||h.appendChild(e.createElement("div")),l=(Bt.exec(r)||["",""])[1].toLowerCase(),u=Zt[l]||Zt._default,s.innerHTML=u[1]+r.replace($t,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!nt.leadingWhitespace&&Mt.test(r)&&f.push(e.createTextNode(Mt.exec(r)[0])),!nt.tbody)for(o=(r="table"!==l||jt.test(r)?"<table>"!==u[1]||jt.test(r)?0:s:s.firstChild)&&r.childNodes.length;o--;)ot.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ot.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(e.createTextNode(r));for(s&&h.removeChild(s),nt.appendChecked||ot.grep(g(f,"input"),v),p=0;r=f[p++];)if((!i||-1===ot.inArray(r,i))&&(a=ot.contains(r.ownerDocument,r),s=g(h.appendChild(r),"script"),a&&_(s),n))for(o=0;r=s[o++];)Ut.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(t,e){for(var n,i,o,r,a=0,s=ot.expando,l=ot.cache,c=nt.deleteExpando,u=ot.event.special;null!=(n=t[a]);a++)if((e||ot.acceptData(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)u[i]?ot.event.remove(n,i):ot.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==Tt?n.removeAttribute(s):n[s]=null
,Z.push(o))}}}),ot.fn.extend({text:function(t){return wt(this,function(t){return t===undefined?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?ot.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||ot.cleanData(g(n)),n.parentNode&&(e&&ot.contains(n.ownerDocument,n)&&_(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ot.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ot.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return wt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(Pt,""):undefined;if("string"==typeof t&&!qt.test(t)&&(nt.htmlSerialize||!Ft.test(t))&&(nt.leadingWhitespace||!Mt.test(t))&&!Zt[(Bt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace($t,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ot.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(dn){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=t;return this.domManip(arguments,function(t){e=this.parentNode,ot.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i){n=Y.apply([],n);var t,e,o,r,a,s,l=0,c=this.length,u=this,d=c-1,h=n[0],f=ot.isFunction(h);if(f||1<c&&"string"==typeof h&&!nt.checkClone&&Ht.test(h))return this.each(function(t){var e=u.eq(t);f&&(n[0]=h.call(this,t,e.html())),e.domManip(n,i)});if(c&&(t=(s=ot.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=t),t)){for(o=(r=ot.map(g(s,"script"),b)).length;l<c;l++)e=s,l!==d&&(e=ot.clone(e,!0,!0),o&&ot.merge(r,g(e,"script"))),i.call(this[l],e,l);if(o)for(a=r[r.length-1].ownerDocument,ot.map(r,E),l=0;l<o;l++)e=r[l],Ut.test(e.type||"")&&!ot._data(e,"globalEval")&&ot.contains(a,e)&&(e.src?ot._evalUrl&&ot._evalUrl(e.src):ot.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Vt,"")));s=t=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){ot.fn[t]=function(t){for(var e,n=0,i=[],o=ot(t),r=o.length-1;n<=r;n++)e=n===r?this:this.clone(!0),ot(o[n])[a](e),X.apply(i,e.get());return this.pushStack(i)}});var Yt,Xt,Qt={};nt.shrinkWrapBlocks=function(){return null!=Xt?Xt:(Xt=!1,(e=pt.getElementsByTagName("body")[0])&&e.style?(t=pt.createElement("div"),(n=pt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),typeof t.style.zoom!==Tt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",Xt=3!==t.offsetWidth),e.removeChild(n),Xt):void 0);var t,e,n};var Jt,te,ee=/^margin/,ne=new RegExp("^("+Ot+")(?!px)[a-z%]+$","i"),ie=/^(top|right|bottom|left)$/;p.getComputedStyle?(Jt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):p.getComputedStyle(t,null)},te=function(t,e,n){var i,o,r,a,s=t.style;return a=(n=n||Jt(t))?n.getPropertyValue(e)||n[e]:undefined,n&&(""!==a||ot.contains(t.ownerDocument,t)||(a=ot.style(t,e)),ne.test(a)&&ee.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),a===undefined?a:a+""}):pt.documentElement.currentStyle&&(Jt=function(t){return t.currentStyle},te=function(t,e,n){var i,o,r,a,s=t.style;return null==(a=(n=n||Jt(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),ne.test(a)&&!ie.test(e)&&(i=s.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),a===undefined?a:a+""||"auto"}),function(){function t(){var t,e,n,i;(e=pt.getElementsByTagName("body")[0])&&e.style&&(t=pt.createElement("div"),(n=pt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,s=!0,p.getComputedStyle&&(o="1%"!==(p.getComputedStyle(t,null)||{}).top,r="4px"===(p.getComputedStyle(t,null)||{width:"4px"}).width,(i=t.appendChild(pt.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",s=!parseFloat((p.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===i[0].offsetHeight)&&(i[0].style.display="",i[1].style.display="none",a=0===i[0].offsetHeight),e.removeChild(n))}var e,n,i,o,r,a,s;(e=pt.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(n=(i=e.getElementsByTagName("a")[0])&&i.style)&&(n.cssText="float:left;opacity:.5",nt.opacity="0.5"===n.opacity,nt.cssFloat=!!n.cssFloat,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===e.style.backgroundClip,nt.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,ot.extend(nt,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==r&&t(),r},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==s&&t(),s}}))}(),ot.swap=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o};var oe=/alpha\([^)]*\)/i,re=/opacity\s*=\s*([^)]*)/,ae=/^(none|table(?!-c[ea]).+)/,se=new RegExp("^("+Ot+")(.*)$","i"),le=new RegExp("^([+-])=("+Ot+")","i"),ce={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},de=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=te(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=ot.camelCase(e),l=t.style;if(e=ot.cssProps[s]||(ot.cssProps[s]=k(l,s)),a=ot.cssHooks[e]||ot.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(t,!1,i))!==undefined?o:l[e];if("string"===(r=typeof n)&&(o=le.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ot.css(t,e)),r="number"),null!=n&&n==n&&("number"!==r||ot.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{l[e]=n}catch(dn){}}},css:function(t,e,n,i){var o,r,a,s=ot.camelCase(e);return e=ot.cssProps[s]||(ot.cssProps[s]=k(t.style,s)),(a=ot.cssHooks[e]||ot.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),r===undefined&&(r=te(t,e,i)),"normal"===r&&e in ue&&(r=ue[e]),""===n||n?(o=parseFloat(r),!0===n||ot.isNumeric(o)?o||0:r):r}}),ot.each(["height","width"],function(t,o){ot.cssHooks[o]={get:function(t,e,n){if(e)return ae.test(ot.css(t,"display"))&&0===t.offsetWidth?ot.swap(t,ce,function(){return S(t,o,n)}):S(t,o,n)},set:function(t,e,n){var i=n&&Jt(t);return R(t,e,n?x(t,o,n,nt.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,i),i):0)}}}),nt.opacity||(ot.cssHooks.opacity={get:function(t,e){return re.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ot.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===ot.trim(r.replace(oe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=oe.test(r)?r.replace(oe,o):r+" "+o)}}),ot.cssHooks.marginRight=I(nt.reliableMarginRight,function(t,e){if(e)return ot.swap(t,{display:"inline-block"},te,[t,"marginRight"])}),ot.each({margin:"",padding:"",border:"Width"},function(o,r){ot.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+It[e]+r]=i[e]||i[e-2]||i[0];return n}},ee.test(o)||(ot.cssHooks[o+r].set=R)}),ot.fn.extend({css:function(t,e){return wt(this,function(t,e,n){var i,o,r={},a=0;if(ot.isArray(e)){for(i=Jt(t),o=e.length;a<o;a++)r[e[a]]=ot.css(t,e[a],!1,i);return r}return n!==undefined?ot.style(t,e,n):ot.css(t,e)},t,e,1<arguments.length)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){kt(this)?ot(this).show():ot(this).hide()})}}),(ot.Tween=K).prototype={constructor:K,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ot.cssNumber[n]?"":"px")},cur:function(){var t=K.propHooks[this.prop];return t&&t.get?t.get(this):K.propHooks._default.get(this)},run:function(t){var e,n=K.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ot.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ot.cssProps[t.prop]]||ot.cssHooks[t.prop])?ot.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ot.fx=K.prototype.init,ot.fx.step={};var he,fe,pe,me,ge,ve,ye,be=/^(?:toggle|show|hide)$/,Ee=new RegExp("^(?:([+-])=|)("+Ot+")([a-z%]*)$","i"),_e=/queueHooks$/,Te=[P],Ce={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Ee.exec(e),r=o&&o[3]||(ot.cssNumber[t]?"":"px"),a=(ot.cssNumber[t]||"px"!==r&&+i)&&Ee.exec(ot.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==r)for(r=r||a[3],o=o||[],a=+i||1;a/=s=s||".5",ot.style(n.elem,t,a+r),s!==(s=n.cur()/i)&&1!==s&&--l;);return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};ot.Animation=ot.extend(M,{tweener:function(t,e){for(var n,i=0,o=(t=ot.isFunction(t)?(e=t,["*"]):t.split(" ")).length;i<o;i++)n=t[i],Ce[n]=Ce[n]||[],Ce[n].unshift(e)},prefilter:function(t,e){e?Te.unshift(t):Te.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=ot.isEmptyObject(e),r=ot.speed(t,n,i),a=function(){var t=M(this,ot.extend({},e),r);(o||ot._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,t,r){var a=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=undefined),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=ot.timers,i=ot._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&_e.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||ot.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=ot._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],o=ot.timers,r=n?n.length:0;for(e.finish=!0,ot.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===a&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),ot.each(["toggle","show","hide"],function(t,i){var o=ot.fn[i];ot.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(N(i,!0),t,e,n)}}),ot.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){ot.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),ot.timers=[],ot.fx.tick=function(){var t,e=ot.timers,n=0;for(he=ot.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ot.fx.stop(),he=undefined},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){fe||(fe=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(fe),fe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(i,t){return i=ot.fx&&ot.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},(me=pt.createElement("div")).setAttribute("className","t"),me.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ve=me.getElementsByTagName("a")[0],ye=(ge=pt.createElement("select")).appendChild(pt.createElement("option")),pe=me.getElementsByTagName("input")[0],ve.style.cssText="top:1px",nt.getSetAttribute="t"!==me.className,nt.style=/top/.test(ve.getAttribute("style")),nt.hrefNormalized="/a"===ve.getAttribute("href"),nt.checkOn=!!pe.value,nt.optSelected=ye.selected,nt.enctype=!!pt.createElement("form").enctype,ge.disabled=!0,nt.optDisabled=!ye.disabled,(pe=pt.createElement("input")).setAttribute("value",""),nt.input=""===pe.getAttribute("value"),pe.value="t",pe.setAttribute("type","radio"),nt.radioValue="t"===pe.value;var De=/\r/g;ot.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=ot.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,ot(this).val()):n)?e="":"number"==typeof e?e+="":ot.isArray(e)&&(e=ot.map(e,function(t){return null==t?"":t+""})),(i=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=ot.valHooks[e.type]||ot.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(De,""):null==t?"":t:void 0}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(((n=i[l]).selected||l===o)&&(nt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=ot.makeArray(e),a=o.length;a--;)if(i=o[a],0<=ot.inArray(ot.valHooks.option.get(i),r))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){if(ot.isArray(e))return t.checked=0<=ot.inArray(ot(t).val(),e)}},nt.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Oe,Ie,ke=ot.expr.attrHandle,we=/^(?:checked|selected)$/i,Re=nt.getSetAttribute,xe=nt.input;ot.fn.extend({attr:function(t,e){return wt(this,ot.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===Tt?ot.prop(t,e,n):(1===r&&ot.isXMLDoc(t)||(e=e.toLowerCase(),i=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?Ie:Oe)),n===undefined?i&&"get"in i&&null!==(o=i.get(t,e))?o:null==(o=ot.find.attr(t,e))?undefined:o:null!==n?i&&"set"in i&&(o=i.set(t,n,e))!==undefined?o:(t.setAttribute(e,n+""),n):void ot.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(bt);if(r&&1===t.nodeType)for(;n=r[o++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)?xe&&Re||!we.test(n)?t[i]=!1:t[ot.camelCase("default-"+n)]=t[i]=!1:ot.attr(t,n,""),t.removeAttribute(Re?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Ie={set:function(t,e,n){return!1===e?ot.removeAttr(t,n):xe&&Re||!we.test(n)?t.setAttribute(!Re&&ot.propFix[n]||n,n):t[ot.camelCase("default-"+n)]=t[n]=!0,n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var r=ke[e]||ot.find.attr;ke[e]=xe&&Re||!we.test(e)?function(t,e,n){var i,o;return n||(o=ke[e],ke[e]=i,i=null!=r(t,e,n)?e.toLowerCase():null,ke[e]=o),i}:function(t,e,n){if(!n)return t[ot.camelCase("default-"+e)]?e.toLowerCase():null}}),xe&&Re||(ot.attrHooks.value={set:function(t,e,n){if(!ot.nodeName(t,"input"))return Oe&&Oe.set(t,e,n);t.defaultValue=e}}),Re||(Oe={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},ke.id=ke.name=ke.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ot.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Oe.set},ot.attrHooks.contenteditable={set:function(t,e,n){Oe.set(t,""!==e&&e,n)}},ot.each(["width","height"],function(t,n){ot.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),nt.style||(ot.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Se=/^(?:input|select|textarea|button|object)$/i,Ke=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return wt(this,ot.prop,t,e,1<arguments.length)},removeProp:function(t){return t=ot.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(dn){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return(1!==r||!ot.isXMLDoc(t))&&(e=ot.propFix[e]||e,o=ot.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||Ke.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||ot.each(["href","src"],function(t,e){ot.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),nt.enctype||(ot.propFix.enctype="encoding");var Ae=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];s<l;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];s<l;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):"")){for(r=0;o=t[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a=e?ot.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(o,e){var r=typeof o;return"boolean"==typeof e&&"string"===r?e?this.addClass(o):this.removeClass(o):ot.isFunction(o)?this.each(function(t){ot(this).toggleClass(o.call(this,t,this.className,e),e)}):this.each(function(){if("string"===r)for(var t,e=0,n=ot(this),i=o.match(bt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==Tt&&"boolean"!==r||(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||!1===o?"":ot._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Ae," ").indexOf(e))return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){ot.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Ne=ot.now(),Le=/\?/,Pe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(t){if(p.JSON&&p.JSON.parse)return p.JSON.parse(t+"");var o,r=null,e=ot.trim(t+"");return e&&!ot.trim(e.replace(Pe,function(t,e,n,i){return o&&e&&(r=0),0===r?t:(o=n||e,r+=!i-!n,"")}))?Function("return "+e)():ot.error("Invalid JSON: "+t)},ot.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{p.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(dn){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),e};var Fe,Me,$e=/#.*$/,Be=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ze=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qe=/^(?:GET|HEAD)$/,He=/^\/\//,Ue=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,We={},Ve={},Ze="*/".concat("*");try{Me=location.href}catch(dn){(Me=pt.createElement("a")).href="",Me=Me.href}Fe=Ue.exec(Me.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me,type:"GET",isLocal:ze.test(Fe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,ot.ajaxSettings),e):j(ot.ajaxSettings,t)},ajaxPrefilter:$(We),ajaxTransport:$(Ve),ajax:function(t,e){function n(t,e,n,i){var o,r,a,s,l,c=e;2!==_&&(_=2,h&&clearTimeout(h),p=undefined,d=i||"",T.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=z(m,T,n)),s=q(m,s,T,o),o?(m.ifModified&&((l=T.getResponseHeader("Last-Modified"))&&(ot.lastModified[u]=l),(l=T.getResponseHeader("etag"))&&(ot.etag[u]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),T.status=t,T.statusText=(e||c)+"",o?y.resolveWith(g,[r,c,T]):y.rejectWith(g,[T,c,a]),T.statusCode(E),E=undefined,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[T,m,o?r:a]),b.fireWith(g,[T,c]),f&&(v.trigger("ajaxComplete",[T,m]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,o,u,d,h,f,p,r,m=ot.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?ot(g):ot.event,y=ot.Deferred(),b=ot.Callbacks("once memory"),E=m.statusCode||{},a={},s={},_=0,l="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!r)for(r={};e=je.exec(d);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return _||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)E[e]=[E[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),n(0,e),this}};if(y.promise(T).complete=b.add,T.success=T.done,T.error=T.fail,m.url=((t||m.url||Me)+"").replace($e,"").replace(He,Fe[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=ot.trim(m.dataType||"*").toLowerCase().match(bt)||[""],null==m.crossDomain&&(i=Ue.exec(m.url.toLowerCase()),m.crossDomain=!(!i||i[1]===Fe[1]&&i[2]===Fe[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Fe[3]||("http:"===Fe[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ot.param(m.data,m.traditional)),B(We,m,e,T),2===_)return T;for(o in(f=ot.event&&m.global)&&0==ot.active++&&ot.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qe.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(Le.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Be.test(u)?u.replace(Be,"$1_="+Ne++):u+(Le.test(u)?"&":"?")+"_="+Ne++)),m.ifModified&&(ot.lastModified[u]&&T.setRequestHeader("If-Modified-Since",ot.lastModified[u]),ot.etag[u]&&T.setRequestHeader("If-None-Match",ot.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&T.setRequestHeader("Content-Type",m.contentType),T.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ze+"; q=0.01":""):m.accepts["*"]),m.headers)T.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,T,m)||2===_))return T.abort();for(o in l="abort",{success:1,error:1,complete:1})T[o](m[o]);if(p=B(Ve,m,e,T)){T.readyState=1,f&&v.trigger("ajaxSend",[T,m]),m.async&&0<m.timeout&&(h=setTimeout(function(){T.abort("timeout")},m.timeout));try{_=1,p.send(a,n)}catch(dn){if(!(_<2))throw dn;n(-1,dn)}}else n(-1,"No Transport");return T},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,undefined,e,"script")}}),ot.each(["get","post"],function(t,o){ot[o]=function(t,e,n,i){return ot.isFunction(e)&&(i=i||n,n=e,e=undefined),ot.ajax({url:t,type:o,dataType:i,data:e,success:n})}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return ot.isFunction(n)?this.each(function(t){ot(this).wrapInner(n.call(this,t))}):this.each(function(){var t=ot(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=ot.isFunction(e);return this.each(function(t){ot(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ot.css(t,"display"))},ot.expr.filters.visible=function(t){return!ot.expr.filters.hidden(t)};var Ge=/%20/g,Ye=/\[\]$/,Xe=/\r?\n/g,Qe=/^(?:submit|button|image|reset|file)$/i,Je=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],o=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){o(this.name,this.value)});else for(n in t)H(n,t[n],e,o);return i.join("&").replace(Ge,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Je.test(this.nodeName)&&!Qe.test(t)&&(this.checked||!Rt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Xe,"\r\n")}}):{name:e.name,value:n.replace(Xe,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=p.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||W()}:U;var tn=0,en={},nn=ot.ajaxSettings.xhr();p.attachEvent&&p.attachEvent("onunload",function(){for(var t in en)en[t](undefined,!0)}),nt.cors=!!nn&&"withCredentials"in nn,(nn=nt.ajax=!!nn)&&ot.ajaxTransport(function(l){var c;if(!l.crossDomain||nt.cors)return{send:function(t,r){var e,a=l.xhr(),s=++tn;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)a[e]=l.xhrFields[e];for(e in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&a.setRequestHeader(e,t[e]+"");a.send(l.hasContent&&l.data||null),c=function(t,e){var n,i,o;if(c&&(e||4===a.readyState))if(delete en[s],c=undefined,a.onreadystatechange=ot.noop,e)4!==a.readyState&&a.abort();else{o={},n=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{i=a.statusText}catch(dn){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&r(n,i,o,a.getAllResponseHeaders())},l.async?4===a.readyState?setTimeout(c):a.onreadystatechange=en[s]=c:c()},abort:function(){c&&c(undefined,!0)}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var i,o=pt.head||ot("head")[0]||pt.documentElement;return{send:function(t,n){(i=pt.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var on=[],rn=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=on.pop()||ot.expando+"_"+Ne++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,a=!1!==t.jsonp&&(rn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ot.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(rn,"$1"+i):!1!==t.jsonp&&(t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+i),
t.converters["script json"]=function(){return r||ot.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=p[i],p[i]=function(){r=arguments},n.always(function(){p[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,on.push(i)),r&&ot.isFunction(o)&&o(r[0]),r=o=undefined}),"script"}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||pt;var i=dt.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=ot.buildFragment([t],e,o),o&&o.length&&ot(o).remove(),ot.merge([],i.childNodes))};var an=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&an)return an.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return 0<=s&&(i=ot.trim(t.slice(s,t.length)),t=t.slice(0,s)),ot.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<a.length&&ot.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length};var sn=p.document.documentElement;ot.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=ot.css(t,"position"),u=ot(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=ot.css(t,"top"),l=ot.css(t,"left"),o=("absolute"===c||"fixed"===c)&&-1<ot.inArray("auto",[r,l])?(a=(i=u.position()).top,i.left):(a=parseFloat(r)||0,parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},ot.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,ot.contains(t,o)?(typeof o.getBoundingClientRect!==Tt&&(i=o.getBoundingClientRect()),n=V(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ot.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(n=t.offset()),n.top+=ot.css(t[0],"borderTopWidth",!0),n.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ot.css(i,"marginTop",!0),left:e.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||sn;t&&!ot.nodeName(t,"html")&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||sn})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r=/Y/.test(o);ot.fn[e]=function(t){return wt(this,function(t,e,n){var i=V(t);if(n===undefined)return i?o in i?i[o]:i.document.documentElement[e]:t[e];i?i.scrollTo(r?ot(i).scrollLeft():n,r?n:ot(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),ot.each(["top","left"],function(t,n){ot.cssHooks[n]=I(nt.pixelPosition,function(t,e){if(e)return e=te(t,n),ne.test(e)?ot(t).position()[n]+"px":e})}),ot.each({Height:"height",Width:"width"},function(r,a){ot.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,t){ot.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return wt(this,function(t,e,n){var i;return ot.isWindow(t)?t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):n===undefined?ot.css(t,e,o):ot.style(t,e,n,o)},a,n?t:undefined,n,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof un&&un.amd&&un("jquery",[],function(){return ot});var ln=p.jQuery,cn=p.$;return ot.noConflict=function(t){return p.$===ot&&(p.$=cn),t&&p.jQuery===ot&&(p.jQuery=ln),ot},typeof t===Tt&&(p.jQuery=p.$=ot),ot},"object"==typeof e&&"object"==typeof e.exports?e.exports=n.document?i(n,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(n)},{}],18:[function(t,e){(function(){e.exports={xpath:t("./xpath"),Range:t("./range")}}).call(this)},{"./range":19,"./xpath":21}],19:[function(t,n){(function(){var g,v,y,b,o={}.hasOwnProperty,e=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};b=t("./xpath"),y=t("./util"),g=t("jquery"),(v={sniff:function(t){return null!=t.commonAncestorContainer?new v.BrowserRange(t):"string"==typeof t.start?new v.SerializedRange(t):t.start&&"object"==typeof t.start?new v.NormalizedRange(t):(console.error("Could not sniff range type"),!1)}}).RangeError=function(t){function i(t,e,n){this.type=t,this.message=e,this.parent=null!=n?n:null,i.__super__.constructor.call(this,this.message)}return e(i,t),i}(Error),v.BrowserRange=function(){function t(t){this.commonAncestorContainer=t.commonAncestorContainer,this.startContainer=t.startContainer,this.startOffset=t.startOffset,this.endContainer=t.endContainer,this.endOffset=t.endOffset}return t.prototype.normalize=function(){var t,e;if(this.tainted)return console.error("You may only call normalize() once on a BrowserRange!"),!1;for(this.tainted=!0,e={},this._normalizeStart(e),this._normalizeEnd(e),t={},0<e.startOffset?e.start.nodeValue.length>e.startOffset?t.start=e.start.splitText(e.startOffset):t.start=e.start.nextSibling:t.start=e.start,e.start===e.end?(t.start.nodeValue.length>e.endOffset-e.startOffset&&t.start.splitText(e.endOffset-e.startOffset),t.end=t.start):(e.end.nodeValue.length>e.endOffset&&e.end.splitText(e.endOffset),t.end=e.end),t.commonAncestor=this.commonAncestorContainer;t.commonAncestor.nodeType!==y.NodeTypes.ELEMENT_NODE;)t.commonAncestor=t.commonAncestor.parentNode;return new v.NormalizedRange(t)},t.prototype._normalizeStart=function(t){return this.startContainer.nodeType===y.NodeTypes.ELEMENT_NODE?(t.start=y.getFirstTextNodeNotBefore(this.startContainer.childNodes[this.startOffset]),t.startOffset=0):(t.start=this.startContainer,t.startOffset=this.startOffset)},t.prototype._normalizeEnd=function(t){var e,n;if(this.endContainer.nodeType!==y.NodeTypes.ELEMENT_NODE)return t.end=this.endContainer,t.endOffset=this.endOffset;if(null!=(n=this.endContainer.childNodes[this.endOffset])){for(e=n;null!=e&&e.nodeType!==y.NodeTypes.TEXT_NODE;)e=e.firstChild;null!=e&&(t.end=e,t.endOffset=0)}return null==t.end?(n=this.endOffset?this.endContainer.childNodes[this.endOffset-1]:this.endContainer.previousSibling,t.end=y.getLastTextNodeUpTo(n),t.endOffset=t.end.nodeValue.length):void 0},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t}(),v.NormalizedRange=function(){function t(t){this.commonAncestor=t.commonAncestor,this.start=t.start,this.end=t.end}return t.prototype.normalize=function(){return this},t.prototype.limit=function(e){var t,n,i,o,r,a;if(!(t=g.grep(this.textNodes(),function(t){return t.parentNode===e||g.contains(e,t.parentNode)})).length)return null;for(this.start=t[0],this.end=t[t.length-1],i=g(this.start).parents(),o=0,r=(a=g(this.end).parents()).length;o<r;o++)if(n=a[o],-1!==i.index(n)){this.commonAncestor=n;break}return this},t.prototype.serialize=function(c,u){var t,e,n;return n=(e=function(t,e){var n,i,o,r,a,s,l;for(o=u?g(t).parents(":not("+u+")").eq(0):g(t).parent(),r=b.fromNode(o,c)[0],s=i=0,l=(n=(a=y.getTextNodes(o)).slice(0,a.index(t))).length;s<l;s++)i+=n[s].nodeValue.length;return e?[r,i+t.nodeValue.length]:[r,i]})(this.start),t=e(this.end,!0),new v.SerializedRange({start:n[0],end:t[0],startOffset:n[1],endOffset:t[1]})},t.prototype.text=function(){var o;return function(){var t,e,n,i;for(i=[],t=0,e=(n=this.textNodes()).length;t<e;t++)o=n[t],i.push(o.nodeValue);return i}.call(this).join("")},t.prototype.textNodes=function(){var t,e,n,i;return e=(i=[(n=y.getTextNodes(g(this.commonAncestor))).index(this.start),n.index(this.end)])[0],t=i[1],g.makeArray(n.slice(e,+t+1||9e9))},t}(),v.SerializedRange=function(){function t(t){this.start=t.start,this.startOffset=t.startOffset,this.end=t.end,this.endOffset=t.endOffset}return t.prototype.normalize=function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p;for(a={},c=0,d=(f=["start","end"]).length;c<d;c++){r=f[c];try{o=b.toNode(this[r],t)}catch(m){throw n=m,new v.RangeError(r,"Error while finding "+r+" node: "+this[r]+": "+n,n)}if(!o)throw new v.RangeError(r,"Couldn't find "+r+" node: "+this[r]);for(i=0,s=this[r+"Offset"],"end"===r&&(s-=1),u=0,h=(p=y.getTextNodes(g(o))).length;u<h;u++){if(i+(l=p[u]).nodeValue.length>s){a[r+"Container"]=l,a[r+"Offset"]=this[r+"Offset"]-i;break}i+=l.nodeValue.length}if(null==a[r+"Offset"])throw new v.RangeError(r+"offset","Couldn't find offset "+this[r+"Offset"]+" in element "+this[r])}return e=null!=document.compareDocumentPosition?function(t,e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY}:function(t,e){return t.contains(e)},g(a.startContainer).parents().each(function(){var t;if(t=a.endContainer.nodeType===y.NodeTypes.TEXT_NODE?a.endContainer.parentNode:a.endContainer,e(this,t))return a.commonAncestorContainer=this,!1}),new v.BrowserRange(a).normalize(t)},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t.prototype.toObject=function(){return{start:this.start,startOffset:this.startOffset,end:this.end,endOffset:this.endOffset}},t}(),n.exports=v}).call(this)},{"./util":20,"./xpath":21,jquery:17}],20:[function(t,e){(function(){var a,i;a=t("jquery"),i={NodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},getFirstTextNodeNotBefore:function(t){var e;switch(t.nodeType){case i.NodeTypes.TEXT_NODE:return t;case i.NodeTypes.ELEMENT_NODE:if(null!=t.firstChild&&null!=(e=i.getFirstTextNodeNotBefore(t.firstChild)))return e}return null!=(t=t.nextSibling)?i.getFirstTextNodeNotBefore(t):null},getLastTextNodeUpTo:function(t){var e;switch(t.nodeType){case i.NodeTypes.TEXT_NODE:return t;case i.NodeTypes.ELEMENT_NODE:if(null!=t.lastChild&&null!=(e=i.getLastTextNodeUpTo(t.lastChild)))return e}return null!=(t=t.previousSibling)?i.getLastTextNodeUpTo(t):null},getTextNodes:function(t){var n;return n=function(t){var e;if(t&&t.nodeType!==i.NodeTypes.TEXT_NODE){if(e=[],t.nodeType!==i.NodeTypes.COMMENT_NODE)for(t=t.lastChild;t;)e.push(n(t)),t=t.previousSibling;return e.reverse()}return t},t.map(function(){return i.flatten(n(this))})},getGlobal:function(){return function(){return this}()},contains:function(t,e){var n;for(n=e;null!=n;){if(n===t)return!0;n=n.parentNode}return!1},flatten:function(t){var r;return(r=function(t){var e,n,i,o;for(n=[],i=0,o=t.length;i<o;i++)e=t[i],n=n.concat(e&&a.isArray(e)?r(e):e);return n})(t)}},e.exports=i}).call(this)},{jquery:17}],21:[function(n,i){(function(){var a,r,s,d,t,l,c,o,u,e;a=n("jquery"),r=n("./util"),s=function(t,e,n){var i,o,r,a,s,l,c;null==e&&(e=document),null==n&&(n=null);try{return document.evaluate("."+t,e,n,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(u){for(u,console.log("XPath evaluation failed."),console.log("Trying fallback..."),r=e,s=0,l=(a=t.substring(1).split("/")).length;s<l;s++)o=(c=a[s].split("["))[0],i=null!=(i=c[1])?parseInt((null!=i?i.split("]"):void 0)[0]):1,r=d(r,o.toLowerCase(),i);return r}},o=function(t,o){return t.map(function(){var t,e,n,i;for(n="",t=this;(null!=t?t.nodeType:void 0)===r.NodeTypes.ELEMENT_NODE&&t!==o;)i=t.tagName.replace(":","\\:"),e="["+(e=a(t.parentNode).children(i).index(t)+1)+"]",n="/"+t.tagName.toLowerCase()+e+n,t=t.parentNode;return n}).get()},u=function(t,e){var n,i,o;return n=function(t){return l(t)+"["+c(t)+"]"},o=e,i=function(t){var e;for(e="";t!==o;){if(null==t)throw new Error("Called getPathTo on a node which was not a descendant of @rootNode. "+o);e=n(t)+"/"+e,t=t.parentNode}return e=(e="/"+e).replace(/\/$/,"")},t.map(function(){return i(this)}).get()},d=function(t,e,n){var i,o,r,a,s;if(!t.hasChildNodes())throw new Error("XPath error: node has no children!");for(a=r=0,s=(o=t.childNodes).length;a<s;a++)if(i=o[a],l(i)===e&&(r+=1)===n)return i;throw new Error("XPath error: wanted child not found.")},l=function(t){var e;switch(e=t.nodeName.toLowerCase()){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return e}},c=function(t){var e,n;for(e=0,n=t;n;)n.nodeName===t.nodeName&&(e+=1),n=n.previousSibling;return e},t=function(t,e){var n;try{n=o(t,e)}catch(i){i,console.log("jQuery-based XPath construction failed! Falling back to manual."),n=u(t,e)}return n},e=function(o,t){var e,n,i,r;return null==t&&(t=document),a.isXMLDoc(document.documentElement)?(e=document.createNSResolver(null===document.ownerDocument?document.documentElement:document.ownerDocument.documentElement),(i=s(o,t,e))||(o=function(){var t,e,n,i;for(i=[],t=0,e=(n=o.split("/")).length;t<e;t++)(r=n[t])&&-1===r.indexOf(":")?i.push(r.replace(/^([a-z]+)/,"xhtml:$1")):i.push(r);return i}().join("/"),n=document.lookupNamespaceURI(null),i=s(o,t,e=function(t){return"xhtml"===t?n:document.documentElement.getAttribute("xmlns:"+t)})),i):s(o,t)},i.exports={fromNode:t,toNode:e}}).call(this)},{"./util":20,jquery:17}],22:[function(t,e,n){"use strict";function i(){this.modules=[],this.registry=new c.Registry,this._started=!1,this.registry.registerUtility(l.defaultNotifier,"notifier"),this.include(r.acl),this.include(s.simple),this.include(u.noop)}var o=t("backbone-extend-standalone"),a=t("es6-promise").Promise,r=t("./authz"),s=t("./identity"),l=t("./notification"),c=t("./registry"),u=t("./storage");i.prototype.include=function(t,e){var n=t(e);return"function"==typeof n.configure&&n.configure(this.registry),this.modules.push(n),this},i.prototype.start=function(){if(!this._started){this._started=!0;var t=this,e=this.registry;return this.authz=e.getUtility("authorizationPolicy"),this.ident=e.getUtility("identityPolicy"),this.notify=e.getUtility("notifier"),this.annotations=new u.StorageAdapter(e.getUtility("storage"),function(){return t.runHook.apply(t,arguments)}),this.runHook("start",[this])}},i.prototype.destroy=function(){return this.runHook("destroy")},i.prototype.runHook=function(t,e){for(var n=[],i=0,o=this.modules.length;i<o;i++){var r=this.modules[i];"function"==typeof r[t]&&n.push(r[t].apply(r,e))}return a.all(n)},i.extend=o,n.App=i},{"./authz":23,"./identity":24,"./notification":25,"./registry":26,"./storage":27,"backbone-extend-standalone":3,"es6-promise":5}],23:[function(t,e,n){"use strict";var i;n.acl=function o(){var e=new i;return{configure:function(t){t.registerUtility(e,"authorizationPolicy")}}},(i=n.AclAuthzPolicy=function i(){}).prototype.permits=function(t,e,n){var i=this.authorizedUserId(n),o=e.permissions;if(o){var r=o[t];if(null==r)return!0;for(var a=0,s=r.length;a<s;a++)if(i===r[a])return!0;return!1}return!e.user||i===e.user},i.prototype.authorizedUserId=function(t){return t}},{}],24:[function(t,e,n){"use strict";var i;n.simple=function o(){var e=new i;return{configure:function(t){t.registerUtility(e,"identityPolicy")}}},i=function i(){this.identity=null},(n.SimpleIdentityPolicy=i).prototype.who=function(){return this.identity}},{}],25:[function(i,t,o){(function(r){"use strict";function t(t,e){null==e&&(e=l);var n=s(c)[0],i=!1,o=function(){i||(i=!0,s(n).removeClass(u.show).removeClass(u[e]),setTimeout(function(){s(n).remove()},500))};return s(n).addClass(u.show).addClass(u[e]).html(a.escapeHtml(t||"")).appendTo(r.document.body),s(n).on("click",o),setTimeout(o,5e3),{close:o}}var a=i("./util"),s=a.$,l="info",e="success",n="error",c="<div class='annotator-notice'></div>",u={show:"annotator-notice-show",info:"annotator-notice-info",success:"annotator-notice-success",error:"annotator-notice-error"};o.banner=t,o.defaultNotifier=t,o.INFO=l,o.SUCCESS=e,o.ERROR=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":39}],26:[function(t,e,n){"use strict";function i(){this.utilities={}}function o(t){this.name="LookupError",this.message='No utility registered for interface "'+t+'".'}i.prototype.registerUtility=function(t,e){this.utilities[e]=t},i.prototype.getUtility=function(t){var e=this.queryUtility(t);if(null===e)throw new o(t);return e},i.prototype.queryUtility=function(t){var e=this.utilities[t];return null==e?null:e},o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,n.LookupError=o,n.Registry=i},{}],27:[function(t,e,n){"use strict";function i(t,e){this.store=t,this.runHook=e}var o,r,a=t("./util"),s=a.$,l=a.gettext,c=a.Promise,u=(o=-1,function(){return o+=1});n.debug=function(){function e(t,e){var n=JSON.parse(JSON.stringify(e));console.debug("annotator.storage.debug: "+t,n)}return{create:function(t){return t.id=u(),e("create",t),t},update:function(t){return e("update",t),t},"delete":function(t){return e("destroy",t),t},query:function(t){return e("query",t),{results:[],meta:{total:0}}},configure:function(t){t.registerUtility(this,"storage")}}},n.noop=function(){return{create:function(t){return"undefined"!=typeof t.id&&null!==t.id||(t.id=u()),t},update:function(t){return t},"delete":function(t){return t},query:function(){return{results:[]}},configure:function(t){t.registerUtility(this,"storage")}}},n.http=function d(t){var n=function(){};null==t&&(t={}),t.onError=t.onError||function(t,e){console.error(t,e),n(t,"error")};var e=new r(t);return{configure:function(t){t.registerUtility(e,"storage")},start:function(t){n=t.notify}}},(r=n.HttpStorage=function r(t){this.options=s.extend(!0,{},r.options,t),this.onError=this.options.onError}).prototype.create=function(t){return this._apiRequest("create",t)},r.prototype.update=function(t){return this._apiRequest("update",t)},r.prototype["delete"]=function(t){return this._apiRequest("destroy",t)},r.prototype.query=function(t){return this._apiRequest("search",t).then(function(t){var e=t.rows;return delete t.rows,{results:e,meta:t}})},r.prototype.setHeader=function(t,e){this.options.headers[t]=e},r.prototype._apiRequest=function(t,e){var n=e&&e.id,i=this._urlFor(t,n),o=this._apiRequestOptions(t,e),r=s.ajax(i,o);return r._id=n,r._action=t,r},r.prototype._apiRequestOptions=function(t,e){var n=this._methodFor(t),i=this,o={type:n,dataType:"json",error:function(){i._onError.apply(i,arguments)},headers:this.options.headers};if(!this.options.emulateHTTP||"PUT"!==n&&"DELETE"!==n||(o.headers=s.extend(o.headers,{"X-HTTP-Method-Override":n}),o.type="POST"),"search"===t)return o=s.extend(o,{data:e});var r=e&&JSON.stringify(e);return this.options.emulateJSON?(o.data={json:r},this.options.emulateHTTP&&(o.data._method=n),o):o=s.extend(o,{data:r,contentType:"application/json; charset=utf-8"})},r.prototype._urlFor=function(t,e){null==e&&(e="");var n="";return"undefined"!=typeof this.options.prefix&&null!==this.options.prefix&&(n=this.options.prefix),n=(n+=this.options.urls[t]).replace(/\{id\}/,e)},r.prototype._methodFor=function(t){return{create:"POST",update:"PUT",destroy:"DELETE",search:"GET"}[t]},r.prototype._onError=function(t){var e;"function"==typeof this.onError&&(e=400===t.status?l("The annotation store did not understand the request! (Error 400)"):401===t.status?l("You must be logged in to perform this operation! (Error 401)"):403===t.status?l("You don't have permission to perform this operation! (Error 403)"):404===t.status?l("Could not connect to the annotation store! (Error 404)"):500===t.status?l("Internal error in annotation store! (Error 500)"):l("Unknown error while speaking to annotation store!"),this.onError(e,t))},r.options={emulateHTTP:!1,emulateJSON:!1,headers:{},onError:function(t){console.error("API request failed: "+t)},prefix:"/store",urls:{create:"/annotations",update:"/annotations/{id}",destroy:"/annotations/{id}",search:"/search"}},i.prototype.create=function(t){return null==t&&(t={}),this._cycle(t,"create","beforeAnnotationCreated","annotationCreated")},i.prototype.update=function(t){if("undefined"==typeof t.id||null===t.id)throw new TypeError("annotation must have an id for update()");return this._cycle(t,"update","beforeAnnotationUpdated","annotationUpdated")},i.prototype["delete"]=function(t){if("undefined"==typeof t.id||null===t.id)throw new TypeError("annotation must have an id for delete()");return this._cycle(t,"delete","beforeAnnotationDeleted","annotationDeleted")},i.prototype.query=function(t){return c.resolve(this.store.query(t))},i.prototype.load=function(t){var e=this;return this.query(t).then(function(t){e.runHook("annotationsLoaded",[t.results])})},i.prototype._cycle=function(n,i,t,o){var r=this;return this.runHook(t,[n]).then(function(){var t=s.extend(!0,{},n);delete t._local;var e=r.store[i](t);return c.resolve(e)}).then(function(t){for(var e in n)n.hasOwnProperty(e)&&"_local"!==e&&delete n[e];return s.extend(n,t),r.runHook(o,[n]),n})},n.StorageAdapter=i},{"./util":39}],28:[function(t,e,n){n.main=t("./ui/main").main,n.adder=t("./ui/adder"),n.editor=t("./ui/editor"),n.filter=t("./ui/filter"),n.highlighter=t("./ui/highlighter"),n.markdown=t("./ui/markdown"),n.tags=t("./ui/tags"),n.textselector=t("./ui/textselector"),n.viewer=t("./ui/viewer"),n.widget=t("./ui/widget")},{"./ui/adder":29,"./ui/editor":30,"./ui/filter":31,"./ui/highlighter":32,"./ui/main":33,"./ui/markdown":34,"./ui/tags":35,"./ui/textselector":36,"./ui/viewer":37,"./ui/widget":38}],29:[function(t,e,n){"use strict";var i=t("./widget").Widget,o=t("../util"),r=o.$,a=o.gettext,s="annotator-adder",l=i.extend({constructor:function(t){i.call(this,t),this.ignoreMouseup=!1,this.annotation=null,this.onCreate=this.options.onCreate;var e=this;this.element.on("click."+s,"button",function(t){e._onClick(t)}).on("mousedown."+s,"button",function(t){e._onMousedown(t)}),this.document=this.element[0].ownerDocument,r(this.document.body).on("mouseup."+s,function(t){e._onMouseup(t)})},destroy:function(){this.element.off("."+s),r(this.document.body).off("."+s),i.prototype.destroy.call(this)},load:function(t,e){this.annotation=t,this.show(e)},show:function(t){null!=t&&this.element.css({top:t.top,left:t.left}),i.prototype.show.call(this)},_onMousedown:function(t){1<t.which||(t.preventDefault(),this.ignoreMouseup=!0)},_onMouseup:function(t){1<t.which||this.ignoreMouseup&&t.stopImmediatePropagation()},_onClick:function(t){1<t.which||(t.preventDefault(),this.hide(),this.ignoreMouseup=!1,null!==this.annotation&&"function"==typeof this.onCreate&&this.onCreate(this.annotation,t))}});l.template=['<div class="annotator-adder annotator-hide">','  <button type="button">'+a("Annotate")+"</button>","</div>"].join("\n"),l.options={onCreate:null},n.Adder=l},{"../util":39,"./widget":38}],30:[function(t,e,n){"use strict";function i(t){null!=t&&"function"==typeof t.preventDefault&&t.preventDefault()}var o,r=t("./widget").Widget,a=t("../util"),l=a.$,s=a.gettext,c=a.Promise,u="annotator-editor",d=(o=-1,function(){return o+=1}),h=n.dragTracker=function h(e,i){function n(t){if(!s&&null!==a){var e={y:t.pageY-a.top,x:t.pageX-a.left},n=!0;"function"==typeof i&&(n=i(e)),!1!==n&&(a={top:t.pageY,left:t.pageX}),s=!0,setTimeout(function(){s=!1},1e3/60)}}function o(){a=null,l(e.ownerDocument).off("mouseup",o).off("mousemove",n)}function t(t){t.target===e&&(a={top:t.pageY,left:t.pageX},l(e.ownerDocument).on("mouseup",o).on("mousemove",n),t.preventDefault())}function r(){l(e).off("mousedown",t)}var a=null,s=!1;return l(e).on("mousedown",t),{destroy:r}},f=n.resizer=function f(t,e,i){function o(t){var e=1,n=-1;return"function"==typeof i.invertedX&&i.invertedX()&&(e=-1),"function"==typeof i.invertedY&&i.invertedY()&&(n=1),{x:t.x*e,y:t.y*n}}function n(t){var e=r.height(),n=r.width(),i=o(t);return 0<Math.abs(i.x)&&r.width(n+i.x),0<Math.abs(i.y)&&r.height(e+i.y),r.height()!==e||r.width()!==n}var r=l(t);return null==i&&(i={}),h(e,n)},p=n.mover=function p(e,t){function n(t){l(e).css({top:parseInt(l(e).css("top"),10)+t.y,left:parseInt(l(e).css("left"),10)+t.x})}return h(t,n)},m=n.Editor=r.extend({constructor:function(t){r.call(this,t),this.fields=[],this.annotation={},this.options.defaultFields&&this.addField({type:"textarea",label:s("Comments")+"\u2026",load:function(t,e){l(t).find("textarea").val(e.text||"")},submit:function(t,e){e.text=l(t).find("textarea").val()}});var e=this;this.element.on("submit."+u,"form",function(t){e._onFormSubmit(t)}).on("click."+u,".annotator-save",function(t){e._onSaveClick(t)}).on("click."+u,".annotator-cancel",function(t){e._onCancelClick(t)}).on("mouseover."+u,".annotator-cancel",function(t){e._onCancelMouseover(t)}).on("keydown."+u,"textarea",function(t){e._onTextareaKeydown(t)})},destroy:function(){this.element.off("."+u),r.prototype.destroy.call(this)},show:function(t){null!=t&&this.element.css({top:t.top,left:t.left}),this.element.find(".annotator-save").addClass(this.classes.focus),r.prototype.show.call(this),this.element.find(":input:first").focus(),this._setupDraggables()},load:function(t,n){this.annotation=t;for(var e=0,i=this.fields.length;e<i;e++){var o=this.fields[e];o.load(o.element,this.annotation)}var r=this;return new c(function(t,e){r.dfd={resolve:t,reject:e},r.show(n)})},submit:function(){for(var t=0,e=this.fields.length;t<e;t++){var n=this.fields[t];n.submit(n.element,this.annotation)}"undefined"!=typeof this.dfd&&null!==this.dfd&&this.dfd.resolve(),this.hide()},cancel:function(){"undefined"!=typeof this.dfd&&null!==this.dfd&&this.dfd.reject("editing cancelled"),this.hide()},addField:function(t){var e=l.extend({id:"annotator-field-"+d(),type:"input",label:"",load:function(){},submit:function(){}},t),n=null,i=l('<li class="annotator-item" />');return e.element=i[0],"textarea"===e.type?n=l("<textarea />"):"checkbox"===e.type?n=l('<input type="checkbox" />'):"input"===e.type?n=l("<input />"):"select"===e.type&&(n=l("<select />")),i.append(n),n.attr({id:e.id,placeholder:e.label}),"checkbox"===e.type&&(i.addClass("annotator-checkbox"),i.append(l("<label />",{"for":e.id,html:e.label}))),this.element.find("ul:first").append(i),this.fields.push(e),e.element},checkOrientation:function(){r.prototype.checkOrientation.call(this);var t=this.element.find("ul").first(),e=this.element.find(".annotator-controls");return this.element.hasClass(this.classes.invert.y)?e.insertBefore(t):e.is(":first-child")&&e.insertAfter(t),this},_onFormSubmit:function(t){i(t),this.submit()},_onSaveClick:function(t){i(t),this.submit()},_onCancelClick:function(t){i(t),this.cancel()},_onCancelMouseover:function(){this.element.find("."+this.classes.focus).removeClass(this.classes.focus)},_onTextareaKeydown:function(t){27===t.which?this.cancel():13!==t.which||t.shiftKey||this.submit()},_setupDraggables:function(){var t;"undefined"!=typeof this._resizer&&null!==this._resizer&&this._resizer.destroy(),"undefined"!=typeof this._mover&&null!==this._mover&&this._mover.destroy(),this.element.find(".annotator-resize").remove(),(t=this.element.hasClass(this.classes.invert.y)?this.element.find(".annotator-item:last"):this.element.find(".annotator-item:first"))&&l('<span class="annotator-resize"></span>').appendTo(t);var e=this.element.find(".annotator-controls")[0],n=this.element.find("textarea:first")[0],i=this.element.find(".annotator-resize")[0],o=this;this._resizer=f(n,i,{invertedX:function(){return o.element.hasClass(o.classes.invert.x)},invertedY:function(){return o.element.hasClass(o.classes.invert.y)}}),this._mover=p(this.element[0],e)}});m.classes={hide:"annotator-hide",focus:"annotator-focus"},m.template=['<div class="annotator-outer annotator-editor annotator-hide">','  <form class="annotator-widget">','    <ul class="annotator-listing"></ul>','    <div class="annotator-controls">','     <a href="#cancel" class="annotator-cancel">'+s("Cancel")+"</a>",'      <a href="#save"','         class="annotator-save annotator-focus">'+s("Save")+"</a>","    </div>","  </form>","</div>"].join("\n"),m.options={defaultFields:!0},n.standalone=function g(t){var e=new n.Editor(t);return{destroy:function(){e.destroy()},beforeAnnotationCreated:function(t){return e.load(t)},beforeAnnotationUpdated:function(t){return e.load(t)}}}},{"../util":39,"./widget":38}],31:[function(t,e,n){"use strict";var i=t("../util"),s=i.$,a=i.gettext,l="annotator-filter",c=n.Filter=function c(t){this.options=s.extend(!0,{},c.options,t),this.classes=s.extend(!0,{},c.classes),this.element=s(c.html.element).appendTo(this.options.appendTo),this.filter=s(c.html.filter),this.filters=[];for(var e=this.current=0,n=this.options.filters.length;e<n;e++){var i=this.options.filters[e];this.addFilter(i)}this.updateHighlights();var o=".annotator-filter-property input",r=this;this.element.on("focus."+l,o,function(t){r._onFilterFocus(t)}).on("blur."+l,o,function(t){r._onFilterBlur(t)}).on("keyup."+l,o,function(t){r._onFilterKeyup(t)}).on("click."+l,".annotator-filter-previous",function(t){r._onPreviousClick(t)}).on("click."+l,".annotator-filter-next",function(t){r._onNextClick(t)}).on("click."+l,".annotator-filter-clear",function(t){r._onClearClick(t)}),this._insertSpacer(),this.options.addAnnotationFilter&&this.addFilter({label:a("Annotation"),property:"text"})};c.prototype.destroy=function(){var t=s("html"),e=parseInt(t.css("padding-top"),10)||0;t.css("padding-top",e-this.element.outerHeight()),this.element.off("."+l),this.element.remove()},c.prototype._insertSpacer=function(){var t=s("html"),e=parseInt(t.css("padding-top"),10)||0;return t.css("padding-top",e+this.element.outerHeight()),this},c.prototype.addFilter=function(t){for(var e=s.extend({label:"",property:"",isFiltered:this.options.isFiltered},t),n=!1,i=0,o=this.filters.length;i<o;i++){if(this.filters[i].property===e.property){n=!0;break}}return n||(e.id="annotator-filter-"+e.property,e.annotations=[],e.element=this.filter.clone().appendTo(this.element),e.element.find("label").html(e.label).attr("for",e.id),e.element.find("input").attr({id:e.id,placeholder:a("Filter by ")+e.label+"\u2026"}),e.element.find("button").hide(),e.element.data("filter",e),this.filters.push(e)),this},c.prototype.updateFilter=function(t){t.annotations=[],this.updateHighlights(),this.resetHighlights();var e=s.trim(t.element.find("input").val());if(e){for(var n=this.highlights.map(function(){return s(this).data("annotation")}),i=0,o=(n=s.makeArray(n)).length;i<o;i++){var r=n[i],a=r[t.property];t.isFiltered(e,a)&&t.annotations.push(r)}this.filterHighlights()}},c.prototype.updateHighlights=function(){this.highlights=s(this.options.filterElement).find(".annotator-hl:visible"),this.filtered=this.highlights.not(this.classes.hl.hide)},c.prototype.filterHighlights=function(){var t=s.grep(this.filters,function(t){return Boolean(t.annotations.length)}),e=[];if(0<t.length&&(e=t[0].annotations),1<t.length){var n=[];s.each(t,function(){s.merge(n,this.annotations)});var i=[];e=[],s.each(n,function(){-1===s.inArray(this,i)?i.push(this):e.push(this)})}for(var o=this.highlights,r=0,a=e.length;r<a;r++)o=o.not(e[r]._local.highlights);return o.addClass(this.classes.hl.hide),this.filtered=this.highlights.not(this.classes.hl.hide),this},c.prototype.resetHighlights=function(){return this.highlights.removeClass(this.classes.hl.hide),this.filtered=this.highlights,this},c.prototype._onFilterFocus=function(t){var e=s(t.target);e.parent().addClass(this.classes.active),e.next("button").show()},c.prototype._onFilterBlur=function(t){if(!t.target.value){var e=s(t.target);e.parent().removeClass(this.classes.active),e.next("button").hide()}},c.prototype._onFilterKeyup=function(t){var e=s(t.target).parent().data("filter");e&&this.updateFilter(e)},c.prototype._findNextHighlight=function(t){if(0===this.highlights.length)return this;var e=-1,n=0,i="gt";t&&(e=0,n=-1,i="lt");var o=this.highlights.not("."+this.classes.hl.hide),r=o.filter("."+this.classes.hl.active);0===r.length&&(r=o.eq(e));var a=r.data("annotation"),s=o.index(r[0]),l=o.filter(":"+i+"("+s+")").not(a._local.highlights).eq(n);0===l.length&&(l=o.eq(n)),this._scrollToHighlight(l.data("annotation")._local.highlights)},c.prototype._onNextClick=function(){this._findNextHighlight()},c.prototype._onPreviousClick=function(){this._findNextHighlight(!0)},c.prototype._scrollToHighlight=function(t){t=s(t),this.highlights.removeClass(this.classes.hl.active),t.addClass(this.classes.hl.active),s("html, body").animate({scrollTop:t.offset().top-(this.element.height()+20)},150)},c.prototype._onClearClick=function(t){s(t.target).prev("input").val("").keyup().blur()},c.classes={active:"annotator-filter-active",hl:{hide:"annotator-hl-filtered",
active:"annotator-hl-active"}},c.html={element:['<div class="annotator-filter">',"  <strong>"+a("Navigate:")+"</strong>",'  <span class="annotator-filter-navigation">','    <button type="button"','            class="annotator-filter-previous">'+a("Previous")+"</button>",'    <button type="button"','            class="annotator-filter-next">'+a("Next")+"</button>","  </span>","  <strong>"+a("Filter by:")+"</strong>","</div>"].join("\n"),filter:['<span class="annotator-filter-property">',"  <label></label>","  <input/>",'  <button type="button"','          class="annotator-filter-clear">'+a("Clear")+"</button>","</span>"].join("\n")},c.options={appendTo:"body",filterElement:"body",filters:[],addAnnotationFilter:!0,isFiltered:function(t,e){if(!t||!e)return!1;for(var n=t.split(/\s+/),i=0,o=n.length;i<o;i++)if(-1===e.indexOf(n[i]))return!1;return!0}},n.standalone=function(t){var e=new n.Filter(t);return{destroy:function(){e.destroy()},annotationsLoaded:function(){e.updateHighlights()},annotationCreated:function(){e.updateHighlights()},annotationUpdated:function(){e.updateHighlights()},annotationDeleted:function(){e.updateHighlights()}}}},{"../util":39}],32:[function(r,t,a){(function(c){"use strict";function l(t,e){null==e&&(e="annotator-hl");for(var n=/^\s*$/,i=t.textNodes(),o=[],r=0,a=i.length;r<a;r++){var s=i[r];if(!n.test(s.nodeValue)){var l=c.document.createElement("span");l.className=e,s.parentNode.replaceChild(l,s),l.appendChild(s),o.push(l)}}return o}function u(t,e){try{return n.sniff(t).normalize(e)}catch(dn){if(!(dn instanceof n.RangeError))throw dn}return null}var n=r("xpath-range").Range,t=r("../util"),d=t.$,e=t.Promise,i=a.Highlighter=function i(t,e){this.element=t,this.options=d.extend(!0,{},i.options,e)};i.prototype.destroy=function(){d(this.element).find("."+this.options.highlightClass).each(function(t,e){d(e).contents().insertBefore(e),d(e).remove()})},i.prototype.drawAll=function(t){var s=this;return new e(function(o){function r(t){null==t&&(t=[]);for(var e=t.splice(0,s.options.chunkSize),n=0,i=e.length;n<i;n++)a=a.concat(s.draw(e[n]));0<t.length?setTimeout(function(){r(t)},s.options.chunkDelay):o(a)}var a=[];r(t.slice())})},i.prototype.draw=function(t){for(var e=[],n=0,i=t.ranges.length;n<i;n++){var o=u(t.ranges[n],this.element);null!==o&&e.push(o)}"undefined"!=typeof t._local&&null!==t._local||(t._local={}),"undefined"!=typeof t._local.highlights&&null===t._local.highlights||(t._local.highlights=[]);for(var r=0,a=e.length;r<a;r++){var s=e[r];d.merge(t._local.highlights,l(s,this.options.highlightClass))}return d(t._local.highlights).data("annotation",t),"undefined"!=typeof t.id&&null!==t.id&&d(t._local.highlights).attr("data-annotation-id",t.id),t._local.highlights},i.prototype.undraw=function(t){if("undefined"!=typeof t._local&&null!==t._local&&"undefined"!=typeof t._local.highlights&&null!==t._local.highlights){for(var e=0,n=t._local.highlights.length;e<n;e++){var i=t._local.highlights[e];null!==i.parentNode&&d(i).replaceWith(i.childNodes)}delete t._local.highlights}},i.prototype.redraw=function(t){return this.undraw(t),this.draw(t)},i.options={highlightClass:"annotator-hl",chunkSize:10,chunkDelay:10},a.standalone=function o(t,e){var n=a.Highlighter(t,e);return{destroy:function(){n.destroy()},annotationsLoaded:function(t){n.drawAll(t)},annotationCreated:function(t){n.draw(t)},annotationDeleted:function(t){n.undraw(t)},annotationUpdated:function(t){n.redraw(t)}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":39,"xpath-range":18}],33:[function(e,t,g){(function(i){"use strict";function l(t){return"function"==typeof String.prototype.trim?String.prototype.trim.call(t):t.replace(/^[\s\xA0]+|[\s\xA0]+$/g,"")}function n(a,s){return function(t){for(var e=[],n=[],i=0,o=t.length;i<o;i++){var r=t[i];e.push(l(r.text())),n.push(r.serialize(a,s))}return{quote:e.join(" / "),ranges:n}}}function o(t){for(var e=-1,n=0,i=t.length;n<i;n++){var o=u.$(t[n]);if("static"!==o.css("position")){var r=parseFloat(o.css("z-index"));e<r&&(e=r)}}return e}function a(){u.$("#annotator-dynamic-style").remove();var t="*:not(annotator-adder):not(annotator-outer):not(annotator-notice):not(annotator-filter)",e=o(u.$(i.document.body).find(t).get()),n=[".annotator-adder, .annotator-outer, .annotator-notice {","  z-index: "+((e=Math.max(e,1e3))+20)+";","}",".annotator-filter {","  z-index: "+(e+10)+";","}"].join("\n");u.$("<style>"+n+"</style>").attr("id","annotator-dynamic-style").attr("type","text/css").appendTo("head")}function s(){u.$("#annotator-dynamic-style").remove()}function c(t,a,s){function e(o){return function r(t,e){t=u.$(t).show();var n=a.who(),i=t.find("input");null==n&&t.hide(),s.permits("admin",e,n)||t.hide(),s.permits(o,e,null)?i.attr("checked","checked"):i.removeAttr("checked")}}function n(i){return function o(t,e){var n=a.who();null!=n&&(e.permissions||(e.permissions={}),u.$(t).find("input").is(":checked")?delete e.permissions[i]:e.permissions[i]=[s.authorizedUserId(n)])}}t.addField({type:"checkbox",label:r("Allow anyone to <strong>view</strong> this annotation"),load:e("read"),submit:n("read")}),t.addField({type:"checkbox",label:r("Allow anyone to <strong>edit</strong> this annotation"),load:e("update"),submit:n("update")})}function t(t){function e(e){var n=e.registry.getUtility("identityPolicy"),i=e.registry.getUtility("authorizationPolicy");r.adder=new d.Adder({onCreate:function(t){e.annotations.create(t)}}),r.adder.attach(),r.editor=new h.Editor({extensions:t.editorExtensions}),r.editor.attach(),c(r.editor,n,i),r.highlighter=new f.Highlighter(t.element),r.textselector=new p.TextSelector(t.element,{onSelection:function(t,e){if(0<t.length){var n=o(t);r.interactionPoint=u.mousePosition(e),r.adder.load(n,r.interactionPoint)}else r.adder.hide()}}),r.viewer=new m.Viewer({onEdit:function(t){r.interactionPoint=u.$(r.viewer.element).css(["top","left"]),e.annotations.update(t)},onDelete:function(t){e.annotations["delete"](t)},permitEdit:function(t){return i.permits("update",t,n.who())},permitDelete:function(t){return i.permits("delete",t,n.who())},autoViewHighlights:t.element,extensions:t.viewerExtensions}),r.viewer.attach(),a()}null==t&&(t={}),t.element=t.element||i.document.body,t.editorExtensions=t.editorExtensions||[],t.viewerExtensions=t.viewerExtensions||[];var o=n(t.element,".annotator-hl"),r={interactionPoint:null};return{start:e,destroy:function(){r.adder.destroy(),r.editor.destroy(),r.highlighter.destroy(),r.textselector.destroy(),r.viewer.destroy(),s()},annotationsLoaded:function(t){r.highlighter.drawAll(t)},annotationCreated:function(t){r.highlighter.draw(t)},annotationDeleted:function(t){r.highlighter.undraw(t)},annotationUpdated:function(t){r.highlighter.redraw(t)},beforeAnnotationCreated:function(t){return r.editor.load(t,r.interactionPoint)},beforeAnnotationUpdated:function(t){return r.editor.load(t,r.interactionPoint)}}}var u=e("../util"),d=e("./adder"),h=e("./editor"),f=e("./highlighter"),p=e("./textselector"),m=e("./viewer"),r=u.gettext;g.main=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":39,"./adder":29,"./editor":30,"./highlighter":32,"./textselector":36,"./viewer":37}],34:[function(t,e,a){(function(n){"use strict";var i=t("../util"),o=i.gettext,r=a.render=function r(t){var e=i.escapeHtml;return n.showdown&&"function"==typeof n.showdown.Converter&&(e=(new n.showdown.Converter).makeHtml),t.text?e(t.text):"<i>"+o("No comment")+"</i>"};a.viewerExtension=function e(t){n.showdown&&"function"==typeof n.showdown.Converter||console.warn(o("To use the Markdown plugin, you must include Showdown into the page first.")),t.setRenderer(r)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":39}],35:[function(t,e,n){"use strict";function r(t){return t.join(" ")}function a(t){var e=[];return(t=s.trim(t))&&(e=t.split(/\s+/)),e}var i=t("../util"),s=i.$,l=i.gettext;n.viewerExtension=function o(t){function e(t,e){t=s(t),e.tags&&s.isArray(e.tags)&&e.tags.length?t.addClass("annotator-tags").html(function(){return s.map(e.tags,function(t){return'<span class="annotator-tag">'+i.escapeHtml(t)+"</span>"}).join(" ")}):t.remove()}t.addField({load:e})},n.editorExtension=function c(t){function e(t,e){var n="";e.tags&&(n=r(e.tags)),o.val(n)}function n(t,e){e.tags=a(o.val())}var i=null,o=null;i=t.addField({label:l("Add some tags here")+"\u2026",load:e,submit:n}),o=s(i).find(":input")}},{"../util":39}],36:[function(t,e,n){(function(c){"use strict";function s(t){return 0!==l(t).parents().addBack().filter("[class^=annotator-]").length}function i(t,e){if(this.element=t,this.options=l.extend(!0,{},i.options,e),this.onSelection=this.options.onSelection,"undefined"!=typeof this.element.ownerDocument&&null!==this.element.ownerDocument){var n=this;this.document=this.element.ownerDocument,l(this.document.body).on("mouseup."+o,function(t){n._checkForEndSelection(t)})}else console.warn("You created an instance of the TextSelector on an element that doesn't have an ownerDocument. This won't work! Please ensure the element is added to the DOM before the plugin is configured:",this.element)}var u=t("xpath-range").Range,l=t("../util").$,o="annotator-textselector";i.prototype.destroy=function(){this.document&&l(this.document.body).off("."+o)},i.prototype.captureDocumentSelection=function(){var t,e,n=[],i=[],o=c.getSelection();if(o.isCollapsed)return[];for(t=0;t<o.rangeCount;t++){var r=o.getRangeAt(t),a=new u.BrowserRange(r).normalize().limit(this.element);null===a?i.push(r):n.push(a)}for(o.removeAllRanges(),t=0,e=i.length;t<e;t++)o.addRange(i[t]);for(t=0,e=n.length;t<e;t++){var s=n[t],l=this.document.createRange();l.setStartBefore(s.start),l.setEndAfter(s.end),o.addRange(l)}return n},i.prototype._checkForEndSelection=function(t){var e=this,n=function(){"function"==typeof e.onSelection&&e.onSelection([],t)},i=this.captureDocumentSelection();if(0!==i.length){for(var o=0,r=i.length;o<r;o++){var a=i[o].commonAncestor;if(l(a).hasClass("annotator-hl")&&(a=l(a).parents("[class!=annotator-hl]")[0]),s(a))return void n()}"function"==typeof this.onSelection&&this.onSelection(i,t)}else n()},i.options={onSelection:null},n.TextSelector=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":39,"xpath-range":18}],37:[function(t,e,r){"use strict";function h(t,e,n){n=f.extend({},n,{rel:e});for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=!0;for(var l in n)if(n.hasOwnProperty(l)&&a[l]!==n[l]){s=!1;break}s&&i.push(a)}return i}var i=t("./widget").Widget,o=t("../util"),f=o.$,a=o.gettext,s="annotator-viewer",l=r.Viewer=i.extend({constructor:function(t){i.call(this,t),this.itemTemplate=l.itemTemplate,this.fields=[],this.annotations=[],this.hideTimer=null,this.hideTimerDfd=null,this.hideTimerActivity=null,this.mouseDown=!1,this.render=function(t){return t.text?o.escapeHtml(t.text):"<i>"+a("No comment")+"</i>"};var n=this;if(this.options.defaultFields&&this.addField({load:function(t,e){f(t).html(n.render(e))}}),"function"!=typeof this.options.onEdit)throw new TypeError("onEdit callback must be a function");if("function"!=typeof this.options.onDelete)throw new TypeError("onDelete callback must be a function");if("function"!=typeof this.options.permitEdit)throw new TypeError("permitEdit callback must be a function");if("function"!=typeof this.options.permitDelete)throw new TypeError("permitDelete callback must be a function");this.options.autoViewHighlights&&(this.document=this.options.autoViewHighlights.ownerDocument,f(this.options.autoViewHighlights).on("mouseover."+s,".annotator-hl",function(t){t.target===this&&n._onHighlightMouseover(t)}).on("mouseleave."+s,".annotator-hl",function(){n._startHideTimer()}),f(this.document.body).on("mousedown."+s,function(t){1===t.which&&(n.mouseDown=!0)}).on("mouseup."+s,function(t){1===t.which&&(n.mouseDown=!1)})),this.element.on("click."+s,".annotator-edit",function(t){n._onEditClick(t)}).on("click."+s,".annotator-delete",function(t){n._onDeleteClick(t)}).on("mouseenter."+s,function(){n._clearHideTimer()}).on("mouseleave."+s,function(){n._startHideTimer()})},destroy:function(){this.options.autoViewHighlights&&(f(this.options.autoViewHighlights).off("."+s),f(this.document.body).off("."+s)),this.element.off("."+s),i.prototype.destroy.call(this)},show:function(t){null!=t&&this.element.css({top:t.top,left:t.left});var e=this.element.find(".annotator-controls").addClass(this.classes.showControls),n=this;setTimeout(function(){e.removeClass(n.classes.showControls)},500),i.prototype.show.call(this)},load:function(t,e){this.annotations=t||[];for(var n=this.element.find("ul:first").empty(),i=0,o=this.annotations.length;i<o;i++){var r=this.annotations[i];this._annotationItem(r).appendTo(n).data("annotation",r)}this.show(e)},setRenderer:function(t){this.render=t},_annotationItem:function(t){var e=f(this.itemTemplate).clone(),n=e.find(".annotator-controls"),i=n.find(".annotator-link"),o=n.find(".annotator-edit"),r=n.find(".annotator-delete"),a=h(t.links||[],"alternate",{type:"text/html"});0<a.length&&"undefined"!=typeof a[0].href&&null!==a[0].href?i.attr("href",a[0].href):i.remove();var s={};this.options.permitEdit(t)?(s.showEdit=function(){o.removeAttr("disabled")},s.hideEdit=function(){o.attr("disabled","disabled")}):o.remove(),this.options.permitDelete(t)?(s.showDelete=function(){r.removeAttr("disabled")},s.hideDelete=function(){r.attr("disabled","disabled")}):r.remove();for(var l=0,c=this.fields.length;l<c;l++){var u=this.fields[l],d=f(u.element).clone().appendTo(e)[0];u.load(d,t,s)}return e},addField:function(t){var e=f.extend({load:function(){}},t);return e.element=f("<div />")[0],this.fields.push(e),this},_onEditClick:function(t){var e=f(t.target).parents(".annotator-annotation").data("annotation");this.hide(),this.options.onEdit(e)},_onDeleteClick:function(t){var e=f(t.target).parents(".annotator-annotation").data("annotation");this.hide(),this.options.onDelete(e)},_onHighlightMouseover:function(e){if(!this.mouseDown){var n=this;this._startHideTimer(!0).done(function(){var t=f(e.target).parents(".annotator-hl").addBack().map(function(t,e){return f(e).data("annotation")}).toArray();n.load(t,o.mousePosition(e))})}},_startHideTimer:function(t){if(null==t&&(t=!1),this.hideTimer){if(!1===t||this.hideTimerActivity===t)return this.hideTimerDfd;this._clearHideTimer()}var e;if(e=t?this.options.activityDelay:this.options.inactivityDelay,this.hideTimerDfd=f.Deferred(),this.isShown()){var n=this;this.hideTimer=setTimeout(function(){n.hide(),n.hideTimerDfd.resolve(),n.hideTimer=null},e),this.hideTimerActivity=Boolean(t)}else this.hideTimer=null,this.hideTimerDfd.resolve(),this.hideTimerActivity=null;return this.hideTimerDfd.promise()},_clearHideTimer:function(){clearTimeout(this.hideTimer),this.hideTimer=null,this.hideTimerDfd.reject(),this.hideTimerActivity=null}});l.classes={showControls:"annotator-visible"},l.template=['<div class="annotator-outer annotator-viewer annotator-hide">','  <ul class="annotator-widget annotator-listing"></ul>',"</div>"].join("\n"),l.itemTemplate=['<li class="annotator-annotation annotator-item">','  <span class="annotator-controls">','    <a href="#"','       title="'+a("View as webpage")+'"','       class="annotator-link">'+a("View as webpage")+"</a>",'    <button type="button"','            title="'+a("Edit")+'"','            class="annotator-edit">'+a("Edit")+"</button>",'    <button type="button"','            title="'+a("Delete")+'"','            class="annotator-delete">'+a("Delete")+"</button>","  </span>","</li>"].join("\n"),l.options={defaultFields:!0,inactivityDelay:500,activityDelay:100,permitEdit:function(){return!1},permitDelete:function(){return!1},autoViewHighlights:null,onEdit:function(){},onDelete:function(){}},r.standalone=function n(t){var o;return null==t&&(t={}),{start:function(e){var n=e.registry.getUtility("identityPolicy"),i=e.registry.getUtility("authorizationPolicy");"undefined"==typeof t.onEdit&&(t.onEdit=function(t){e.annotations.update(t)}),"undefined"==typeof t.onDelete&&(t.onDelete=function(t){e.annotations["delete"](t)}),"undefined"==typeof t.permitEdit&&(t.permitEdit=function(t){return i.permits("update",t,n.who())}),"undefined"==typeof t.permitDelete&&(t.permitDelete=function(t){return i.permits("delete",t,n.who())}),o=new r.Viewer(t)},destroy:function(){o.destroy()}}}},{"../util":39,"./widget":38}],38:[function(n,t,i){(function(r){"use strict";function e(t){this.element=a(this.constructor.template),this.classes=a.extend({},e.classes,this.constructor.classes),this.options=a.extend({},e.options,this.constructor.options,t),this.extensionsInstalled=!1}var t=n("backbone-extend-standalone"),a=n("../util").$;e.prototype.destroy=function(){this.element.remove()},e.prototype.installExtensions=function(){if(this.options.extensions)for(var t=0,e=this.options.extensions.length;t<e;t++){(0,this.options.extensions[t])(this)}},e.prototype._maybeInstallExtensions=function(){this.extensionsInstalled||(this.extensionsInstalled=!0,this.installExtensions())},e.prototype.attach=function(){this.element.appendTo(this.options.appendTo),this._maybeInstallExtensions()},e.prototype.show=function(){this.element.removeClass(this.classes.hide),this.checkOrientation()},e.prototype.hide=function(){a(this.element).addClass(this.classes.hide)},e.prototype.isShown=function(){return!a(this.element).hasClass(this.classes.hide)},e.prototype.checkOrientation=function(){this.resetOrientation();var t=a(r),e=this.element.children(":first"),n=e.offset(),i={top:t.scrollTop(),right:t.width()+t.scrollLeft()},o={top:n.top,right:n.left+e.width()};return o.top-i.top<0&&this.invertY(),0<o.right-i.right&&this.invertX(),this},e.prototype.resetOrientation=function(){return this.element.removeClass(this.classes.invert.x).removeClass(this.classes.invert.y),this},e.prototype.invertX=function(){return this.element.addClass(this.classes.invert.x),this},e.prototype.invertY=function(){return this.element.addClass(this.classes.invert.y),this},e.prototype.isInvertedY=function(){return this.element.hasClass(this.classes.invert.y)},e.prototype.isInvertedX=function(){return this.element.hasClass(this.classes.invert.x)},e.classes={hide:"annotator-hide",invert:{x:"annotator-invert-x",y:"annotator-invert-y"}},e.template="<div></div>",e.options={appendTo:"body"},e.extend=t,i.Widget=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":39,"backbone-extend-standalone":3}],39:[function(s,t,l){(function(i){"use strict";function t(t){return String(t).replace(/[&<>"'\/]/g,function(t){return r[t]})}function e(t){var e=i.document.body,n={top:0,left:0};return"static"!==o(e).css("position")&&(n=o(e).offset()),{top:t.pageY-n.top,left:t.pageX-n.left}}var o=s("jquery"),n=s("es6-promise").Promise,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"},a=function(){if("function"!=typeof i.Gettext)return function(t){return t};var e=new i.Gettext({domain:"annotator"});return function(t){return e.gettext(t)}}();l.$=o,l.Promise=n,l.gettext=a,l.escapeHtml=t,l.mousePosition=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"es6-promise":5,jquery:17}]},{},[1])(1)}),function(){"use strict";App.Tags={initialize:function(){var n;n=$("input.js-tag-list"),$("body").on("click",".js-add-tag-link",function(){var t,e;return e='"'+$(this).text()+'"',0<=(t=n.val().split(",").filter(Boolean)).indexOf(e)?t.splice(t.indexOf(e),1):t.push(e),n.val(t.join(",")),!1})}}}.call(this),function(){"use strict";App.Users={initialize:function(){$(".initialjs-avatar").initial(),new MutationObserver(function(t){$.each(t,function(t,e){$(e.addedNodes).find(".initialjs-avatar").initial()})}).observe(document.body,{childList:!0,subtree:!0})}}}.call(this),function(){"use strict";App.Votes={hoverize:function(t){$(document).on({"mouseenter focus":function(){$("div.participation-not-allowed",this).show(),$("div.participation-allowed",this).hide()},mouseleave:function(){$("div.participation-not-allowed",this).hide(),$("div.participation-allowed",this).show()}},t)},initialize:function(){App.Votes.hoverize("div.votes"),App.Votes.hoverize("div.supports"),App.Votes.hoverize("div.debate-questions"),App.Votes.hoverize("div.comment-footer")}}}.call(this),function(){"use strict";App.AllowParticipation={initialize:function(){$(document).on({"mouseenter focus":function(){$(this).find(".js-participation-not-allowed").show()},mouseleave:function(){$(this).find(".js-participation-not-allowed").hide()}},".js-participation")}}}.call(this),function(){"use strict";App.AdvancedSearch={advanced_search_terms:function(){return $("#js-advanced-search").data("advanced-search-terms")},toggle_form:function(t){t.preventDefault(),$("#js-advanced-search").slideToggle()},toggle_date_options:function(){"custom"===$("#js-advanced-search-date-min").val()?($("#js-custom-date").show(),$(".js-calendar").datepicker("option","disabled",!1)):($("#js-custom-date").hide(),$(".js-calendar").datepicker("option","disabled",!0))},initialize:function(){App.AdvancedSearch.advanced_search_terms()&&($("#js-advanced-search").show(),App.AdvancedSearch.toggle_date_options()),$("#js-advanced-search-title").on({click:function(t){App.AdvancedSearch.toggle_form(t)}}),$("#js-advanced-search-date-min").on({change:function(){App.AdvancedSearch.toggle_date_options()}})}}}.call(this),function(){"use strict";App.RegistrationForm={initialize:function(){var e,n,i,o;i=$('form#new_user[action="/users"] input#user_username'),e=function(){$("small").remove()},n=function(t){var e;e=t.available?"no-error":"error",i.after($('<small class="'+e+'" style="margin-top: -16px;">'+t.message+"</small>"))},o=function(t){$.get("/user/registrations/check_username?username="+t).done(function(t){n(t)})},i.on("focusout",function(){var t;e(),""!==(t=i.val())&&o(t)})}}}.call(this),function(){"use strict";App.Suggest={initialize:function(){$("[data-js-suggest-result]").each(function(){var n,t,e;n=$(this),t=function(){$.ajax({url:n.data("js-url"),data:{search:n.val()},type:"GET",dataType:"html",success:function(t){var e;(e=n.data("js-suggest")).startsWith(".")&&(e+="[data-locale="+n.closest(".translatable-fields").data("locale")+"]"),$(e).html(t)}})},e=null,n.on("keyup",function(){window.clearTimeout(e),e=window.setTimeout(t,1e3)}),n.on("change",t)})}}}.call(this),function(){"use strict";App.Forms={disableEnter:function(){$("form.js-enter-disabled").on("keyup keypress",function(t){13===t.which&&t.preventDefault()})},submitOnChange:function(){$("body").on("change",".js-submit-on-change",function(){return $(this).closest("form").submit(),!1})},toggleLink:function(){$("body").on("click",".js-toggle-link",function(){var t;return $($(this).data("toggle-selector")).toggle("down"),$(this).data("toggle-text")!==undefined&&(t=$(this).text(),$(this).text($(this).data("toggle-text")),$(this).data("toggle-text",t)),!1})},synchronizeInputs:function(){var t;(t=$("[name='progress_bar[percentage]']"+", "+"[name='legislation_process[background_color]'], [name='legislation_process[font_color]']"+", "+"[name='banner[background_color]'], [name='banner[font_color]']")).on({input:function(){$("[name='"+this.name+"']").val($(this).val())}}),t.trigger("input")},hideOrShowFieldsAfterSelection:function(){$("[name='progress_bar[kind]']").on({change:function(){var t,e;t=App.Globalize.selected_language(),e=$(".translatable-fields[data-locale="+t+"]"),"primary"===this.value?(e.hide(),$(".globalize-languages").hide()):(e.show(),$(".globalize-languages").show())}}),$("[name='progress_bar[kind]']").trigger("change")},initialize:function(){App.Forms.disableEnter(),App.Forms.submitOnChange(),App.Forms.toggleLink(),App.Forms.synchronizeInputs(),App.Forms.hideOrShowFieldsAfterSelection()}}}.call(this),function(){"use strict";App.ValuationBudgetInvestmentForm={showFeasibleFields:function(){$("#valuation_budget_investment_edit_form #unfeasible_fields").hide("down"),$("#valuation_budget_investment_edit_form #feasible_fields").show()},showNotFeasibleFields:function(){$("#valuation_budget_investment_edit_form #feasible_fields").hide("down"),$("#valuation_budget_investment_edit_form #unfeasible_fields").show()},showAllFields:function(){$("#valuation_budget_investment_edit_form #feasible_fields").show("down"),$("#valuation_budget_investment_edit_form #unfeasible_fields").show("down")},showFeasibilityFields:function(){var t;"feasible"===(t=$("#valuation_budget_investment_edit_form input[type=radio][name='budget_investment[feasibility]']:checked").val())?App.ValuationBudgetInvestmentForm.showFeasibleFields():"unfeasible"===t&&App.ValuationBudgetInvestmentForm.showNotFeasibleFields()},showFeasibilityFieldsOnChange:function(){$("#valuation_budget_investment_edit_form input[type=radio][name='budget_investment[feasibility]']").on("change",function(){App.ValuationBudgetInvestmentForm.showAllFields(),App.ValuationBudgetInvestmentForm.showFeasibilityFields()})},initialize:function(){App.ValuationBudgetInvestmentForm.showFeasibilityFields(),App.ValuationBudgetInvestmentForm.showFeasibilityFieldsOnChange()}}}.call(this),function(){"use strict";App.EmbedVideo={initialize:function(){$("#js-embedded-video").each(function(){var t;t=$(this).data("video-code"),$("#js-embedded-video").html(t)})}}}.call(this),function(){"use strict";App.FixedBar={initialize:function(){$("[data-fixed-bar]").each(function(){var t,e;t=$(this),e=t.offset().top,$(window).on("scroll",function(){$(window).scrollTop()>e?(t.addClass("is-fixed"),$("#check-ballot").css({display:"inline-block"})):(t.removeClass("is-fixed"),$("#check-ballot").hide())})})}}}.call(this),function(){"use strict";App.Banners={initialize:function(){$("[data-js-banner-title]").on({change:function(){$(".banner h2").text($(this).val())}}),$("[data-js-banner-description]").on({change:function(){$(".banner h3").text($(this).val())}}),$("[name='banner[background_color]']").on({change:function(){$(".banner").css("background-color",$(this).val())}}),$("[name='banner[font_color]']").on({change:function(){$(".banner h2").css("color",$(this).val()),$(".banner h3").css("color",$(this).val())}})}}}.call(this),function(){"use strict";App.SocialShare={initialize:function(){$(".social-share-button a").each(function(){$(this).append("<span class='show-for-sr'>"+$(this).data("site")+"</span>")})},destroy:function(){$(".social-share-button a .show-for-sr").remove()}}}.call(this),function(){"use strict";App.CheckboxToggle={initialize:function(){$("[data-checkbox-toggle]").on("change",function(){var t;t=$($(this).data("checkbox-toggle")),$(this).is(":checked")?t.show():t.hide()})}}}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownit=t()}}(function(){var F;return function(){function u(r,a,s){function l(e,t){if(!a[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[e]={exports:{}};r[e][0].call(o.exports,function(t){return l(r[e][1][t]||t)},o,o.exports,u,r,a,s)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}return u}()({1:[function(t,e){"use strict";e.exports=t("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(t,e){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(t,e){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*"+("(?:\\s+"+"[a-zA-Z_:][a-zA-Z0-9:._-]*"+"(?:\\s*=\\s*"+("(?:"+"[^\"'=<>`\\x00-\\x20]+"+"|"+"'[^']*'"+"|"+'"[^"]*"'+")")+")?)")+"*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+n+"|"+i+"|"+"<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->"+"|"+"<[?].*?[?]>"+"|"+"<![A-Z]+\\s+[^>]*>"+"|"+"<!\\[CDATA\\[[\\s\\S]*?\\]\\]>"+")"),r=new RegExp("^(?:"+n+"|"+i+")");e.exports.HTML_TAG_RE=o,e.exports.HTML_OPEN_CLOSE_TAG_RE=r},{}],4:[function(t,e,n){"use strict";function i(t){return Object.prototype.toString.call(t)}function o(t){return"[object String]"===i(t)}function r(t,e){return _.call(t,e)}function a(n){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach(function(t){n[t]=e[t]})}}),n}function s(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function l(t){return!(55296<=t&&t<=57343)&&(!(64976<=t&&t<=65007)&&(65535!=(65535&t)&&65534!=(65535&t)&&(!(0<=t&&t<=8)&&(11!==t&&(!(14<=t&&t<=31)&&(!(127<=t&&t<=159)&&!(1114111<t)))))))}function c(t){if(65535<t){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}function u(t,e){var n=0;return r(I,e)?I[e]:35===e.charCodeAt(0)&&O.test(e)&&l(n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?c(n):t}function d(t){return t.indexOf("\\")<0?t:t.replace(T,"$1")}function h(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(D,function(t,e,n){return e||u(t,n)})}function f(t){return R[t]}function p(t){return k.test(t)?t.replace(w,f):t}function m(t){return t.replace(x,"\\$&")}function g(t){switch(t){case 9:case 32:return!0}return!1}function v(t){if(8192<=t&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function y(t){return S.test(t)}function b(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function E(t){return t=t.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(t=t.replace(/\u1e9e/g,"\xdf")),t.toLowerCase().toUpperCase()}var _=Object.prototype.hasOwnProperty,T=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,C=/&([a-z#][a-z0-9]{1,31});/gi,D=new RegExp(T.source+"|"+C.source,"gi"),O=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,I=t("./entities"),k=/[&<>"]/,w=/[&<>"]/g,R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},x=/[.?*+^$[\]\\(){}|-]/g,S=t("uc.micro/categories/P/regex");n.lib={},n.lib.mdurl=t("mdurl"),n.lib.ucmicro=t("uc.micro"),n.assign=a,n.isString=o,n.has=r,n.unescapeMd=d,n.unescapeAll=h,n.isValidEntityCode=l,n.fromCodePoint=c,n.escapeHtml=p,n.arrayReplaceAt=s,n.isSpace=g,n.isWhiteSpace=v,n.isMdAsciiPunct=b,n.isPunctChar=y,n.escapeRE=m,n.normalizeReference=E},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(t,e,n){"use strict";n.parseLinkLabel=t("./parse_link_label"),n.parseLinkDestination=t("./parse_link_destination"),n.parseLinkTitle=t("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(t,e){"use strict";var l=t("../common/utils").unescapeAll;e.exports=function c(t,e,n){var i,o,r=0,a=e,s={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<n;){if(10===(i=t.charCodeAt(e)))return s;if(62===i)return s.pos=e+1,s.str=l(t.slice(a+1,e)),s.ok=!0,s;92===i&&e+1<n?e+=2:e++}return s}for(o=0;e<n&&32!==(i=t.charCodeAt(e))&&!(i<32||127===i);)if(92===i&&e+1<n)e+=2;else{if(40===i&&o++,41===i){if(0===o)break;o--}e++}return a===e||0!==o||(s.str=l(t.slice(a,e)),s.lines=r,s.pos=e,s.ok=!0),s}},{"../common/utils":4}],7:[function(t,e){"use strict";e.exports=function u(t,e,n){var i,o,r,a,s=-1,l=t.posMax,c=t.pos;for(t.pos=e+1,i=1;t.pos<l;){if(93===(r=t.src.charCodeAt(t.pos))&&0===--i){o=!0;break}if(a=t.pos,t.md.inline.skipToken(t),91===r)if(a===t.pos-1)i++;else if(n)return t.pos=c,-1}return o&&(s=t.pos),t.pos=c,s}},{}],8:[function(t,e){"use strict";var l=t("../common/utils").unescapeAll;e.exports=function c(t,e,n){var i,o,r=0,a=e,s={ok:!1,pos:0,lines:0,str:""};if(n<=e)return s;if(34!==(o=t.charCodeAt(e))&&39!==o&&40!==o)return s;for(e++,40===o&&(o=41);e<n;){if((i=t.charCodeAt(e))===o)return s.pos=e+1,s.lines=r,s.str=l(t.slice(
a+1,e)),s.ok=!0,s;10===i?r++:92===i&&e+1<n&&(e++,10===t.charCodeAt(e)&&r++),e++}return s}},{"../common/utils":4}],9:[function(t,e){"use strict";function n(t){var e=t.trim().toLowerCase();return!g.test(e)||!!v.test(e)}function i(t){var e=f.parse(t,!0);if(e.hostname&&(!e.protocol||0<=y.indexOf(e.protocol)))try{e.hostname=p.toASCII(e.hostname)}catch(n){}return f.encode(f.format(e))}function o(t){var e=f.parse(t,!0);if(e.hostname&&(!e.protocol||0<=y.indexOf(e.protocol)))try{e.hostname=p.toUnicode(e.hostname)}catch(n){}return f.decode(f.format(e))}function r(t,e){if(!(this instanceof r))return new r(t,e);e||a.isString(t)||(e=t||{},t="default"),this.inline=new d,this.block=new u,this.core=new c,this.renderer=new l,this.linkify=new h,this.validateLink=n,this.normalizeLink=i,this.normalizeLinkText=o,this.utils=a,this.helpers=a.assign({},s),this.options={},this.configure(t),e&&this.set(e)}var a=t("./common/utils"),s=t("./helpers"),l=t("./renderer"),c=t("./parser_core"),u=t("./parser_block"),d=t("./parser_inline"),h=t("linkify-it"),f=t("mdurl"),p=t("punycode"),m={"default":t("./presets/default"),zero:t("./presets/zero"),commonmark:t("./presets/commonmark")},g=/^(vbscript|javascript|file|data):/,v=/^data:image\/(gif|png|jpeg|webp);/,y=["http:","https:","mailto:"];r.prototype.set=function(t){return a.assign(this.options,t),this},r.prototype.configure=function(e){var t,n=this;if(a.isString(e)&&!(e=m[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)}),this},r.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var i=e.filter(function(t){return n.indexOf(t)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},r.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var i=e.filter(function(t){return n.indexOf(t)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},r.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},r.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},r.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},r.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},r.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},e.exports=r},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(t,e){"use strict";function n(){this.ruler=new i;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1],{alt:(o[t][2]||[]).slice()})}var i=t("./ruler"),o=[["table",t("./rules_block/table"),["paragraph","reference"]],["code",t("./rules_block/code")],["fence",t("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",t("./rules_block/blockquote"),["paragraph","reference","blockquote","list"]],["hr",t("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",t("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",t("./rules_block/reference")],["heading",t("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",t("./rules_block/lheading")],["html_block",t("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",t("./rules_block/paragraph")]];n.prototype.tokenize=function(t,e,n){for(var i,o=this.ruler.getRules(""),r=o.length,a=e,s=!1,l=t.md.options.maxNesting;a<n&&(t.line=a=t.skipEmptyLines(a),!(n<=a))&&!(t.sCount[a]<t.blkIndent);){if(t.level>=l){t.line=n;break}for(i=0;i<r&&!o[i](t,a,n,!1);i++);t.tight=!s,t.isEmpty(t.line-1)&&(s=!0),(a=t.line)<n&&t.isEmpty(a)&&(s=!0,a++,t.line=a)}},n.prototype.parse=function(t,e,n,i){var o;t&&(o=new this.State(t,e,n,i),this.tokenize(o,o.line,o.lineMax))},n.prototype.State=t("./rules_block/state_block"),e.exports=n},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(t,e){"use strict";function n(){this.ruler=new i;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1])}var i=t("./ruler"),o=[["normalize",t("./rules_core/normalize")],["block",t("./rules_core/block")],["inline",t("./rules_core/inline")],["linkify",t("./rules_core/linkify")],["replacements",t("./rules_core/replacements")],["smartquotes",t("./rules_core/smartquotes")]];n.prototype.process=function(t){var e,n,i;for(e=0,n=(i=this.ruler.getRules("")).length;e<n;e++)i[e](t)},n.prototype.State=t("./rules_core/state_core"),e.exports=n},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(t,e){"use strict";function n(){var t;for(this.ruler=new i,t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1]);for(this.ruler2=new i,t=0;t<r.length;t++)this.ruler2.push(r[t][0],r[t][1])}var i=t("./ruler"),o=[["text",t("./rules_inline/text")],["newline",t("./rules_inline/newline")],["escape",t("./rules_inline/escape")],["backticks",t("./rules_inline/backticks")],["strikethrough",t("./rules_inline/strikethrough").tokenize],["emphasis",t("./rules_inline/emphasis").tokenize],["link",t("./rules_inline/link")],["image",t("./rules_inline/image")],["autolink",t("./rules_inline/autolink")],["html_inline",t("./rules_inline/html_inline")],["entity",t("./rules_inline/entity")]],r=[["balance_pairs",t("./rules_inline/balance_pairs")],["strikethrough",t("./rules_inline/strikethrough").postProcess],["emphasis",t("./rules_inline/emphasis").postProcess],["text_collapse",t("./rules_inline/text_collapse")]];n.prototype.skipToken=function(t){var e,n,i=t.pos,o=this.ruler.getRules(""),r=o.length,a=t.md.options.maxNesting,s=t.cache;if("undefined"==typeof s[i]){if(t.level<a)for(n=0;n<r&&(t.level++,e=o[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,s[i]=t.pos}else t.pos=s[i]},n.prototype.tokenize=function(t){for(var e,n,i=this.ruler.getRules(""),o=i.length,r=t.posMax,a=t.md.options.maxNesting;t.pos<r;){if(t.level<a)for(n=0;n<o&&!(e=i[n](t,!1));n++);if(e){if(t.pos>=r)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},n.prototype.parse=function(t,e,n,i){var o,r,a,s=new this.State(t,e,n,i);for(this.tokenize(s),a=(r=this.ruler2.getRules("")).length,o=0;o<a;o++)r[o](s)},n.prototype.State=t("./rules_inline/state_inline"),e.exports=n},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(t,e){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(t,e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(t,e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(t,e){"use strict";function n(){this.rules=i({},o)}var i=t("./common/utils").assign,h=t("./common/utils").unescapeAll,f=t("./common/utils").escapeHtml,o={code_inline:function(t,e,n,i,o){var r=t[e];return"<code"+o.renderAttrs(r)+">"+f(t[e].content)+"</code>"},code_block:function(t,e,n,i,o){var r=t[e];return"<pre"+o.renderAttrs(r)+"><code>"+f(t[e].content)+"</code></pre>\n"},fence:function(t,e,n,i,o){var r,a,s,l,c=t[e],u=c.info?h(c.info).trim():"",d="";return u&&(d=u.split(/\s+/g)[0]),0===(r=n.highlight&&n.highlight(c.content,d)||f(c.content)).indexOf("<pre")?r+"\n":u?(a=c.attrIndex("class"),s=c.attrs?c.attrs.slice():[],a<0?s.push(["class",n.langPrefix+d]):s[a][1]+=" "+n.langPrefix+d,l={attrs:s},"<pre><code"+o.renderAttrs(l)+">"+r+"</code></pre>\n"):"<pre><code"+o.renderAttrs(c)+">"+r+"</code></pre>\n"},image:function(t,e,n,i,o){var r=t[e];return r.attrs[r.attrIndex("alt")][1]=o.renderInlineAsText(r.children,n,i),o.renderToken(t,e,n)},hardbreak:function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},softbreak:function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},text:function(t,e){return f(t[e].content)},html_block:function(t,e){return t[e].content},html_inline:function(t,e){return t[e].content}};n.prototype.renderAttrs=function r(t){var e,n,i;if(!t.attrs)return"";for(i="",e=0,n=t.attrs.length;e<n;e++)i+=" "+f(t.attrs[e][0])+'="'+f(t.attrs[e][1])+'"';return i},n.prototype.renderToken=function s(t,e,n){var i,o="",r=!1,a=t[e];return a.hidden?"":(a.block&&-1!==a.nesting&&e&&t[e-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(r=!0,1===a.nesting&&e+1<t.length&&("inline"===(i=t[e+1]).type||i.hidden?r=!1:-1===i.nesting&&i.tag===a.tag&&(r=!1))),o+=r?">\n":">")},n.prototype.renderInline=function(t,e,n){for(var i,o="",r=this.rules,a=0,s=t.length;a<s;a++)"undefined"!=typeof r[i=t[a].type]?o+=r[i](t,a,e,n,this):o+=this.renderToken(t,a,e);return o},n.prototype.renderInlineAsText=function(t,e,n){for(var i="",o=0,r=t.length;o<r;o++)"text"===t[o].type?i+=t[o].content:"image"===t[o].type&&(i+=this.renderInlineAsText(t[o].children,e,n));return i},n.prototype.render=function(t,e,n){var i,o,r,a="",s=this.rules;for(i=0,o=t.length;i<o;i++)"inline"===(r=t[i].type)?a+=this.renderInline(t[i].children,e,n):"undefined"!=typeof s[r]?a+=s[t[i].type](t,i,e,n,this):a+=this.renderToken(t,i,e,n);return a},e.exports=n},{"./common/utils":4}],17:[function(t,e){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},n.prototype.__compile__=function(){var n=this,e=[""];n.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),n.__cache__={},e.forEach(function(e){n.__cache__[e]=[],n.__rules__.forEach(function(t){t.enabled&&(e&&t.alt.indexOf(e)<0||n.__cache__[e].push(t.fn))})})},n.prototype.at=function(t,e,n){var i=this.__find__(t),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=o.alt||[],this.__cache__=null},n.prototype.before=function(t,e,n,i){var o=this.__find__(t),r=i||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null},n.prototype.after=function(t,e,n,i){var o=this.__find__(t),r=i||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null},n.prototype.push=function(t,e,n){var i=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null},n.prototype.enable=function(t,n){Array.isArray(t)||(t=[t]);var i=[];return t.forEach(function(t){var e=this.__find__(t);if(e<0){if(n)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[e].enabled=!0,i.push(t)},this),this.__cache__=null,i},n.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(t,e)},n.prototype.disable=function(t,n){Array.isArray(t)||(t=[t]);var i=[];return t.forEach(function(t){var e=this.__find__(t);if(e<0){if(n)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[e].enabled=!1,i.push(t)},this),this.__cache__=null,i},n.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},e.exports=n},{}],18:[function(t,e){"use strict";var k=t("../common/utils").isSpace;e.exports=function w(t,e,n,i){var o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,E,_,T,C,D=t.lineMax,O=t.bMarks[e]+t.tShift[e],I=t.eMarks[e];if(4<=t.sCount[e]-t.blkIndent)return!1;if(62!==t.src.charCodeAt(O++))return!1;if(i)return!0;for(s=h=t.sCount[e]+O-(t.bMarks[e]+t.tShift[e]),32===t.src.charCodeAt(O)?(O++,s++,h++,b=!(o=!1)):9===t.src.charCodeAt(O)?(b=!0,o=(t.bsCount[e]+h)%4!=3||(O++,s++,h++,!1)):b=!1,f=[t.bMarks[e]],t.bMarks[e]=O;O<I&&(r=t.src.charCodeAt(O),k(r));)9===r?h+=4-(h+t.bsCount[e]+(o?1:0))%4:h++,O++;for(p=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(b?1:0),c=I<=O,v=[t.sCount[e]],t.sCount[e]=h-s,y=[t.tShift[e]],t.tShift[e]=O-t.bMarks[e],_=t.md.block.ruler.getRules("blockquote"),g=t.parentType,C=!(t.parentType="blockquote"),d=e+1;d<n&&(t.sCount[d]<t.blkIndent&&(C=!0),O=t.bMarks[d]+t.tShift[d],!((I=t.eMarks[d])<=O));d++)if(62!==t.src.charCodeAt(O++)||C){if(c)break;for(E=!1,a=0,l=_.length;a<l;a++)if(_[a](t,d,n,!0)){E=!0;break}if(E){t.lineMax=d,0!==t.blkIndent&&(f.push(t.bMarks[d]),p.push(t.bsCount[d]),y.push(t.tShift[d]),v.push(t.sCount[d]),t.sCount[d]-=t.blkIndent);break}f.push(t.bMarks[d]),p.push(t.bsCount[d]),y.push(t.tShift[d]),v.push(t.sCount[d]),t.sCount[d]=-1}else{for(s=h=t.sCount[d]+O-(t.bMarks[d]+t.tShift[d]),32===t.src.charCodeAt(O)?(O++,s++,h++,b=!(o=!1)):9===t.src.charCodeAt(O)?(b=!0,o=(t.bsCount[d]+h)%4!=3||(O++,s++,h++,!1)):b=!1,f.push(t.bMarks[d]),t.bMarks[d]=O;O<I&&(r=t.src.charCodeAt(O),k(r));)9===r?h+=4-(h+t.bsCount[d]+(o?1:0))%4:h++,O++;c=I<=O,p.push(t.bsCount[d]),t.bsCount[d]=t.sCount[d]+1+(b?1:0),v.push(t.sCount[d]),t.sCount[d]=h-s,y.push(t.tShift[d]),t.tShift[d]=O-t.bMarks[d]}for(m=t.blkIndent,t.blkIndent=0,(T=t.push("blockquote_open","blockquote",1)).markup=">",T.map=u=[e,0],t.md.block.tokenize(t,e,d),(T=t.push("blockquote_close","blockquote",-1)).markup=">",t.lineMax=D,t.parentType=g,u[1]=t.line,a=0;a<y.length;a++)t.bMarks[a+e]=f[a],t.tShift[a+e]=y[a],t.sCount[a+e]=v[a],t.bsCount[a+e]=p[a];return t.blkIndent=m,!0}},{"../common/utils":4}],19:[function(t,e){"use strict";e.exports=function a(t,e,n){var i,o,r;if(t.sCount[e]-t.blkIndent<4)return!1;for(o=i=e+1;i<n;)if(t.isEmpty(i))i++;else{if(!(4<=t.sCount[i]-t.blkIndent))break;o=++i}return t.line=o,(r=t.push("code_block","code",0)).content=t.getLines(e,o,4+t.blkIndent,!0),r.map=[e,t.line],!0}},{}],20:[function(t,e){"use strict";e.exports=function p(t,e,n,i){var o,r,a,s,l,c,u,d=!1,h=t.bMarks[e]+t.tShift[e],f=t.eMarks[e];if(4<=t.sCount[e]-t.blkIndent)return!1;if(f<h+3)return!1;if(126!==(o=t.src.charCodeAt(h))&&96!==o)return!1;if(l=h,(r=(h=t.skipChars(h,o))-l)<3)return!1;if(u=t.src.slice(l,h),a=t.src.slice(h,f),96===o&&0<=a.indexOf(String.fromCharCode(o)))return!1;if(i)return!0;for(s=e;!(n<=++s)&&!((h=l=t.bMarks[s]+t.tShift[s])<(f=t.eMarks[s])&&t.sCount[s]<t.blkIndent);)if(t.src.charCodeAt(h)===o&&!(4<=t.sCount[s]-t.blkIndent||(h=t.skipChars(h,o))-l<r||(h=t.skipSpaces(h))<f)){d=!0;break}return r=t.sCount[e],t.line=s+(d?1:0),(c=t.push("fence","code",0)).info=a,c.content=t.getLines(e+1,s,r,!0),c.markup=u,c.map=[e,t.line],!0}},{}],21:[function(t,e){"use strict";var u=t("../common/utils").isSpace;e.exports=function d(t,e,n,i){var o,r,a,s,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(4<=t.sCount[e]-t.blkIndent)return!1;if(35!==(o=t.src.charCodeAt(l))||c<=l)return!1;for(r=1,o=t.src.charCodeAt(++l);35===o&&l<c&&r<=6;)r++,o=t.src.charCodeAt(++l);return!(6<r||l<c&&!u(o))&&(i||(c=t.skipSpacesBack(c,l),l<(a=t.skipCharsBack(c,35,l))&&u(t.src.charCodeAt(a-1))&&(c=a),t.line=e+1,(s=t.push("heading_open","h"+String(r),1)).markup="########".slice(0,r),s.map=[e,t.line],(s=t.push("inline","",0)).content=t.src.slice(l,c).trim(),s.map=[e,t.line],s.children=[],(s=t.push("heading_close","h"+String(r),-1)).markup="########".slice(0,r)),!0)}},{"../common/utils":4}],22:[function(t,e){"use strict";var u=t("../common/utils").isSpace;e.exports=function d(t,e,n,i){var o,r,a,s,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(4<=t.sCount[e]-t.blkIndent)return!1;if(42!==(o=t.src.charCodeAt(l++))&&45!==o&&95!==o)return!1;for(r=1;l<c;){if((a=t.src.charCodeAt(l++))!==o&&!u(a))return!1;a===o&&r++}return!(r<3)&&(i||(t.line=e+1,(s=t.push("hr","hr",0)).map=[e,t.line],s.markup=Array(r+1).join(String.fromCharCode(o))),!0)}},{"../common/utils":4}],23:[function(t,e){"use strict";var n=t("../common/html_blocks"),i=t("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,u=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];e.exports=function d(t,e,n,i){var o,r,a,s,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(4<=t.sCount[e]-t.blkIndent)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(l))return!1;for(s=t.src.slice(l,c),o=0;o<u.length&&!u[o][0].test(s);o++);if(o===u.length)return!1;if(i)return u[o][2];if(r=e+1,!u[o][1].test(s))for(;r<n&&!(t.sCount[r]<t.blkIndent);r++)if(l=t.bMarks[r]+t.tShift[r],c=t.eMarks[r],s=t.src.slice(l,c),u[o][1].test(s)){0!==s.length&&r++;break}return t.line=r,(a=t.push("html_block","",0)).map=[e,r],a.content=t.getLines(e,r,t.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(t,e){"use strict";e.exports=function m(t,e,n){var i,o,r,a,s,l,c,u,d,h,f=e+1,p=t.md.block.ruler.getRules("paragraph");if(4<=t.sCount[e]-t.blkIndent)return!1;for(h=t.parentType,t.parentType="paragraph";f<n&&!t.isEmpty(f);f++)if(!(3<t.sCount[f]-t.blkIndent)){if(t.sCount[f]>=t.blkIndent&&(l=t.bMarks[f]+t.tShift[f])<(c=t.eMarks[f])&&(45===(d=t.src.charCodeAt(l))||61===d)&&(l=t.skipChars(l,d),c<=(l=t.skipSpaces(l)))){u=61===d?1:2;break}if(!(t.sCount[f]<0)){for(o=!1,r=0,a=p.length;r<a;r++)if(p[r](t,f,n,!0)){o=!0;break}if(o)break}}return!!u&&(i=t.getLines(e,f,t.blkIndent,!1).trim(),t.line=f+1,(s=t.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(d),s.map=[e,t.line],(s=t.push("inline","",0)).content=i,s.map=[e,t.line-1],s.children=[],(s=t.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(d),t.parentType=h,!0)}},{}],25:[function(t,e){"use strict";function N(t,e){var n,i,o,r;return i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],42!==(n=t.src.charCodeAt(i++))&&45!==n&&43!==n?-1:i<o&&(r=t.src.charCodeAt(i),!a(r))?-1:i}function L(t,e){var n,i=t.bMarks[e]+t.tShift[e],o=i,r=t.eMarks[e];if(r<=o+1)return-1;if((n=t.src.charCodeAt(o++))<48||57<n)return-1;for(;;){if(r<=o)return-1;if(!(48<=(n=t.src.charCodeAt(o++))&&n<=57)){if(41===n||46===n)break;return-1}if(10<=o-i)return-1}return o<r&&(n=t.src.charCodeAt(o),!a(n))?-1:o}function P(t,e){var n,i,o=t.level+2;for(n=e+2,i=t.tokens.length-2;n<i;n++)t.tokens[n].level===o&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}var a=t("../common/utils").isSpace;e.exports=function F(t,e,n,i){var o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,E,_,T,C,D,O,I,k,w,R,x,S,K=!1,A=!0;if(4<=t.sCount[e]-t.blkIndent)return!1;if(0<=t.listIndent&&4<=t.sCount[e]-t.listIndent&&t.sCount[e]<t.blkIndent)return!1;if(i&&"paragraph"===t.parentType&&t.tShift[e]>=t.blkIndent&&(K=!0),0<=(I=L(t,e))){if(u=!0,w=t.bMarks[e]+t.tShift[e],g=Number(t.src.substr(w,I-w-1)),K&&1!==g)return!1}else{if(!(0<=(I=N(t,e))))return!1;u=!1}if(K&&t.skipSpaces(I)>=t.eMarks[e])return!1;if(m=t.src.charCodeAt(I-1),i)return!0;for(p=t.tokens.length,u?(S=t.push("ordered_list_open","ol",1),1!==g&&(S.attrs=[["start",g]])):S=t.push("bullet_list_open","ul",1),S.map=f=[e,0],S.markup=String.fromCharCode(m),y=e,k=!1,x=t.md.block.ruler.getRules("list"),_=t.parentType,t.parentType="list";y<n;){for(O=I,v=t.eMarks[y],c=b=t.sCount[y]+I-(t.bMarks[e]+t.tShift[e]);O<v;){if(9===(o=t.src.charCodeAt(O)))b+=4-(b+t.bsCount[y])%4;else{if(32!==o)break;b++}O++}if(4<(l=v<=(r=O)?1:b-c)&&(l=1),s=c+l,(S=t.push("list_item_open","li",1)).markup=String.fromCharCode(m),S.map=d=[e,0],D=t.tight,C=t.tShift[e],T=t.sCount[e],E=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=s,t.tight=!0,t.tShift[e]=r-t.bMarks[e],t.sCount[e]=b,v<=r&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,e,n,!0),t.tight&&!k||(A=!1),k=1<t.line-e&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=E,t.tShift[e]=C,t.sCount[e]=T,t.tight=D,(S=t.push("list_item_close","li",-1)).markup=String.fromCharCode(m),y=e=t.line,d[1]=y,r=t.bMarks[e],n<=y)break;if(t.sCount[y]<t.blkIndent)break;if(4<=t.sCount[e]-t.blkIndent)break;for(R=!1,a=0,h=x.length;a<h;a++)if(x[a](t,y,n,!0)){R=!0;break}if(R)break;if(u){if((I=L(t,y))<0)break}else if((I=N(t,y))<0)break;if(m!==t.src.charCodeAt(I-1))break}return(S=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(m),f[1]=y,t.line=y,t.parentType=_,A&&P(t,p),!0}},{"../common/utils":4}],26:[function(t,e){"use strict";e.exports=function d(t,e){var n,i,o,r,a,s,l=e+1,c=t.md.block.ruler.getRules("paragraph"),u=t.lineMax;for(s=t.parentType,t.parentType="paragraph";l<u&&!t.isEmpty(l);l++)if(!(3<t.sCount[l]-t.blkIndent||t.sCount[l]<0)){for(i=!1,o=0,r=c.length;o<r;o++)if(c[o](t,l,u,!0)){i=!0;break}if(i)break}return n=t.getLines(e,l,t.blkIndent,!1).trim(),t.line=l,(a=t.push("paragraph_open","p",1)).map=[e,t.line],(a=t.push("inline","",0)).content=n,a.map=[e,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=s,!0}},{}],27:[function(t,e){"use strict";var D=t("../common/utils").normalizeReference,O=t("../common/utils").isSpace;e.exports=function I(t,e,n,i){var o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,E=0,_=t.bMarks[e]+t.tShift[e],T=t.eMarks[e],C=e+1;if(4<=t.sCount[e]-t.blkIndent)return!1;if(91!==t.src.charCodeAt(_))return!1;for(;++_<T;)if(93===t.src.charCodeAt(_)&&92!==t.src.charCodeAt(_-1)){if(_+1===T)return!1;if(58!==t.src.charCodeAt(_+1))return!1;break}for(s=t.lineMax,y=t.md.block.ruler.getRules("reference"),f=t.parentType,t.parentType="reference";C<s&&!t.isEmpty(C);C++)if(!(3<t.sCount[C]-t.blkIndent||t.sCount[C]<0)){for(v=!1,c=0,u=y.length;c<u;c++)if(y[c](t,C,s,!0)){v=!0;break}if(v)break}for(T=(g=t.getLines(e,C,t.blkIndent,!1).trim()).length,_=1;_<T;_++){if(91===(o=g.charCodeAt(_)))return!1;if(93===o){h=_;break}10===o?E++:92===o&&++_<T&&10===g.charCodeAt(_)&&E++}if(h<0||58!==g.charCodeAt(h+1))return!1;for(_=h+2;_<T;_++)if(10===(o=g.charCodeAt(_)))E++;else if(!O(o))break;if(!(p=t.md.helpers.parseLinkDestination(g,_,T)).ok)return!1;if(l=t.md.normalizeLink(p.str),!t.md.validateLink(l))return!1;for(_=p.pos,a=E+=p.lines,m=r=_;_<T;_++)if(10===(o=g.charCodeAt(_)))E++;else if(!O(o))break;for(p=t.md.helpers.parseLinkTitle(g,_,T),_<T&&m!==_&&p.ok?(b=p.str,_=p.pos,E+=p.lines):(b="",_=r,E=a);_<T&&(o=g.charCodeAt(_),O(o));)_++;if(_<T&&10!==g.charCodeAt(_)&&b)for(b="",_=r,E=a;_<T&&(o=g.charCodeAt(_),O(o));)_++;return!(_<T&&10!==g.charCodeAt(_))&&(!!(d=D(g.slice(1,h)))&&(i||("undefined"==typeof t.env.references&&(t.env.references={}),"undefined"==typeof t.env.references[d]&&(t.env.references[d]={title:b,href:l}),t.parentType=f,t.line=e+E+1),!0))}},{"../common/utils":4}],28:[function(t,e){"use strict";function n(t,e,n,i){var o,r,a,s,l,c,u,d;for(this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",d=!1,a=s=c=u=0,l=(r=this.src).length;s<l;s++){if(o=r.charCodeAt(s),!d){if(h(o)){c++,9===o?u+=4-u%4:u++;continue}d=!0}10!==o&&s!==l-1||(10!==o&&s++,this.bMarks.push(a),this.eMarks.push(s),this.tShift.push(c),this.sCount.push(u),this.bsCount.push(0),d=!1,u=c=0,a=s+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}var o=t("../token"),h=t("../common/utils").isSpace;n.prototype.push=function(t,e,n){var i=new o(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,0<n&&this.level++,this.tokens.push(i),i},n.prototype.isEmpty=function i(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},n.prototype.skipEmptyLines=function r(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},n.prototype.skipSpaces=function a(t){for(var e,n=this.src.length;t<n&&(e=this.src.charCodeAt(t),h(e));t++);return t},n.prototype.skipSpacesBack=function s(t,e){if(t<=e)return t;for(;e<t;)if(!h(this.src.charCodeAt(--t)))return t+1;return t},n.prototype.skipChars=function l(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},n.prototype.skipCharsBack=function c(t,e,n){if(t<=n)return t;for(;n<t;)if(e!==this.src.charCodeAt(--t))return t+1;return t},n.prototype.getLines=function f(t,e,n,i){var o,r,a,s,l,c,u,d=t;if(e<=t)return"";for(c=new Array(e-t),o=0;d<e;d++,o++){for(r=0,u=s=this.bMarks[d],l=d+1<e||i?this.eMarks[d]+1:this.eMarks[d];s<l&&r<n;){if(a=this.src.charCodeAt(s),h(a))9===a?r+=4-(r+this.bsCount[d])%4:r++;else{if(!(s-u<this.tShift[d]))break;r++}s++}c[o]=n<r?new Array(r-n+1).join(" ")+this.src.slice(s,l):this.src.slice(s,l)}return c.join("")},n.prototype.Token=o,e.exports=n},{"../common/utils":4,"../token":51}],29:[function(t,e){"use strict";function g(t,e){var n=t.bMarks[e]+t.blkIndent,i=t.eMarks[e];return t.src.substr(n,i-n)}function v(t){var e,n=[],i=0,o=t.length,r=0,a=0,s=!1,l=0;for(e=t.charCodeAt(i);i<o;)96===e?s?(s=!1,l=i):r%2==0&&(s=!0,l=i):124!==e||r%2!=0||s||(n.push(t.substring(a,i)),a=i+1),92===e?r++:r=0,++i===o&&s&&(s=!1,i=l+1),e=t.charCodeAt(i);return n.push(t.substring(a)),n}var y=t("../common/utils").isSpace;e.exports=function b(t,e,n,i){var o,r,a,s,l,c,u,d,h,f,p,m;if(n<e+2)return!1;if(l=e+1,t.sCount[l]<t.blkIndent)return!1;if(4<=t.sCount[l]-t.blkIndent)return!1;if((a=t.bMarks[l]+t.tShift[l])>=t.eMarks[l])return!1;if(124!==(o=t.src.charCodeAt(a++))&&45!==o&&58!==o)return!1;for(;a<t.eMarks[l];){if(124!==(o=t.src.charCodeAt(a))&&45!==o&&58!==o&&!y(o))return!1;a++}for(c=(r=g(t,e+1)).split("|"),h=[],s=0;s<c.length;s++){if(!(f=c[s].trim())){if(0===s||s===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(f))return!1;58===f.charCodeAt(f.length-1)?h.push(58===f.charCodeAt(0)?"center":"right"):58===f.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(r=g(t,e).trim()).indexOf("|"))return!1;if(4<=t.sCount[e]-t.blkIndent)return!1;if((u=(c=v(r.replace(/^\||\|$/g,""))).length)>h.length)return!1;if(i)return!0;for((d=t.push("table_open","table",1)).map=p=[e,0],(d=t.push("thead_open","thead",1)).map=[e,e+1],(d=t.push("tr_open","tr",1)).map=[e,e+1],s=0;s<c.length;s++)(d=t.push("th_open","th",1)).map=[e,e+1],h[s]&&(d.attrs=[["style","text-align:"+h[s]]]),(d=t.push("inline","",0)).content=c[s].trim(),d.map=[e,e+1],d.children=[],d=t.push("th_close","th",-1);for(d=t.push("tr_close","tr",-1),d=t.push("thead_close","thead",-1),(d=t.push("tbody_open","tbody",1)).map=m=[e+2,0],l=e+2;l<n&&!(t.sCount[l]<t.blkIndent)&&-1!==(r=g(t,l).trim()).indexOf("|")&&!(4<=t.sCount[l]-t.blkIndent);l++){for(c=v(r.replace(/^\||\|$/g,"")),d=t.push("tr_open","tr",1),s=0;s<u;s++)d=t.push("td_open","td",1),h[s]&&(d.attrs=[["style","text-align:"+h[s]]]),(d=t.push("inline","",0)).content=c[s]?c[s].trim():"",d.children=[],d=t.push("td_close","td",-1);d=t.push("tr_close","tr",-1)}return d=t.push("tbody_close","tbody",-1),d=t.push("table_close","table",-1),p[1]=m[1]=l,t.line=l,!0}},{"../common/utils":4}],30:[function(t,e){"use strict";e.exports=function n(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},{}],31:[function(t,e){"use strict";e.exports=function r(t){var e,n,i,o=t.tokens;for(n=0,i=o.length;n<i;n++)"inline"===(e=o[n]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},{}],32:[function(t,e){"use strict";function b(t){return/^<a[>\s]/i.test(t)}function E(t){return/^<\/a\s*>/i.test(t)}var _=t("../common/utils").arrayReplaceAt;e.exports=function T(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y=t.tokens;if(t.md.options.linkify)for(n=0,i=y.length;n<i;n++)if("inline"===y[n].type&&t.md.linkify.pretest(y[n].content))for(f=0,e=(o=y[n].children).length-1;0<=e;e--)if("link_close"!==(a=o[e]).type){if("html_inline"===a.type&&(b(a.content)&&0<f&&f--,E(a.content)&&f++),!(0<f)&&"text"===a.type&&t.md.linkify.test(a.content)){for(c=a.content,v=t.md.linkify.match(c),s=[],h=a.level,l=d=0;l<v.length;l++)p=v[l].url,m=t.md.normalizeLink(p),t.md.validateLink(m)&&(g=v[l].text,g=v[l].schema?"mailto:"!==v[l].schema||/^mailto:/i.test(g)?t.md.normalizeLinkText(g):t.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),d<(u=v[l].index)&&((r=new t.Token("text","",0)).content=c.slice(d,u),r.level=h,s.push(r)),(r=new t.Token("link_open","a",1)).attrs=[["href",m]],r.level=h++,r.markup="linkify",r.info="auto",s.push(r),(r=new t.Token("text","",0)).content=g,r.level=h,s.push(r),(r=new t.Token("link_close","a",-1)).level=--h,r.markup="linkify",r.info="auto",s.push(r),d=v[l].lastIndex);d<c.length&&((r=new t.Token("text","",0)).content=c.slice(d),r.level=h,s.push(r)),y[n].children=o=_(o,e,s)}}else for(e--;o[e].level!==a.level&&"link_open"!==o[e].type;)e--}},{"../common/utils":4}],33:[function(t,e){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,i=/\u0000/g;e.exports=function o(t){var e;e=(e=t.src.replace(n,"\n")).replace(i,"\ufffd"),t.src=e}},{}],34:[function(t,e){"use strict";function o(t,e){return l[e.toLowerCase()]}function n(t){var e,n,i=0;for(e=t.length-1;0<=e;e--)"text"!==(n=t[e]).type||i||(n.content=n.content.replace(s,o)),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}function i(t){var e,n,i=0;for(e=t.length-1;0<=e;e--)"text"!==(n=t[e]).type||i||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,a=/\((c|tm|r|p)\)/i,s=/\((c|tm|r|p)\)/gi,l={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};e.exports=function c(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;0<=e;e--)"inline"===t.tokens[e].type&&(a.test(t.tokens[e].content)&&n(t.tokens[e].children),r.test(t.tokens[e].content)&&i(t.tokens[e].children))}},{}],35:[function(t,e){"use strict";function C(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}function n(t,e){var n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,E,_,T;for(E=[],n=0;n<t.length;n++){for(i=t[n],l=t[n].level,y=E.length-1;0<=y&&!(E[y].level<=l);y--);if(E.length=y+1,"text"===i.type){a=0,s=(o=i.content).length;t:for(;a<s&&(k.lastIndex=a,r=k.exec(o));){if(g=v=!0,a=r.index+1,b="'"===r[0],u=32,0<=r.index-1)u=o.charCodeAt(r.index-1);else for(y=n-1;0<=y&&("softbreak"!==t[y].type&&"hardbreak"!==t[y].type);y--)if("text"===t[y].type){u=t[y].content.charCodeAt(t[y].content.length-1);break}if(d=32,a<s)d=o.charCodeAt(a);else for(y=n+1;y<t.length&&("softbreak"!==t[y].type&&"hardbreak"!==t[y].type);y++)if("text"===t[y].type){
d=t[y].content.charCodeAt(0);break}if(h=I(u)||O(String.fromCharCode(u)),f=I(d)||O(String.fromCharCode(d)),p=D(u),(m=D(d))?g=!1:f&&(p||h||(g=!1)),p?v=!1:h&&(m||f||(v=!1)),34===d&&'"'===r[0]&&48<=u&&u<=57&&(v=g=!1),g&&v&&(g=!1,v=f),g||v){if(v)for(y=E.length-1;0<=y&&(c=E[y],!(E[y].level<l));y--)if(c.single===b&&E[y].level===l){c=E[y],T=b?(_=e.md.options.quotes[2],e.md.options.quotes[3]):(_=e.md.options.quotes[0],e.md.options.quotes[1]),i.content=C(i.content,r.index,T),t[c.token].content=C(t[c.token].content,c.pos,_),a+=T.length-1,c.token===n&&(a+=_.length-1),s=(o=i.content).length,E.length=y;continue t}g?E.push({token:n,pos:r.index,single:b,level:l}):v&&b&&(i.content=C(i.content,r.index,w))}else b&&(i.content=C(i.content,r.index,w))}}}}var D=t("../common/utils").isWhiteSpace,O=t("../common/utils").isPunctChar,I=t("../common/utils").isMdAsciiPunct,i=/['"]/,k=/['"]/g,w="\u2019";e.exports=function o(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;0<=e;e--)"inline"===t.tokens[e].type&&i.test(t.tokens[e].content)&&n(t.tokens[e].children,t)}},{"../common/utils":4}],36:[function(t,e){"use strict";function n(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}var i=t("../token");n.prototype.Token=i,e.exports=n},{"../token":51}],37:[function(t,e){"use strict";var c=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,u=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function d(t,e){var n,i,o,r,a,s,l=t.pos;return 60===t.src.charCodeAt(l)&&(!((n=t.src.slice(l)).indexOf(">")<0)&&(u.test(n)?(r=(i=n.match(u))[0].slice(1,-1),a=t.md.normalizeLink(r),!!t.md.validateLink(a)&&(e||((s=t.push("link_open","a",1)).attrs=[["href",a]],s.markup="autolink",s.info="auto",(s=t.push("text","",0)).content=t.md.normalizeLinkText(r),(s=t.push("link_close","a",-1)).markup="autolink",s.info="auto"),t.pos+=i[0].length,!0)):!!c.test(n)&&(r=(o=n.match(c))[0].slice(1,-1),a=t.md.normalizeLink("mailto:"+r),!!t.md.validateLink(a)&&(e||((s=t.push("link_open","a",1)).attrs=[["href",a]],s.markup="autolink",s.info="auto",(s=t.push("text","",0)).content=t.md.normalizeLinkText(r),(s=t.push("link_close","a",-1)).markup="autolink",s.info="auto"),t.pos+=o[0].length,!0))))}},{}],38:[function(t,e){"use strict";e.exports=function c(t,e){var n,i,o,r,a,s,l=t.pos;if(96!==t.src.charCodeAt(l))return!1;for(n=l,l++,i=t.posMax;l<i&&96===t.src.charCodeAt(l);)l++;for(o=t.src.slice(n,l),r=a=l;-1!==(r=t.src.indexOf("`",a));){for(a=r+1;a<i&&96===t.src.charCodeAt(a);)a++;if(a-r===o.length)return e||((s=t.push("code_inline","code",0)).markup=o,s.content=t.src.slice(l,r).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=a,!0}return e||(t.pending+=o),t.pos+=o.length,!0}},{}],39:[function(t,e){"use strict";e.exports=function l(t){var e,n,i,o,r=t.delimiters,a=t.delimiters.length;for(e=0;e<a;e++)if((i=r[e]).close)for(n=e-i.jump-1;0<=n;){if((o=r[n]).open&&o.marker===i.marker&&o.end<0&&o.level===i.level){var s=!1;if((o.close||i.open)&&"undefined"!=typeof o.length&&"undefined"!=typeof i.length&&(o.length+i.length)%3==0&&(o.length%3==0&&i.length%3==0||(s=!0)),!s){i.jump=e-n,i.open=!1,o.end=e,o.jump=0;break}}n-=o.jump+1}}},{}],40:[function(t,e){"use strict";e.exports.tokenize=function l(t,e){var n,i,o=t.pos,r=t.src.charCodeAt(o);if(e)return!1;if(95!==r&&42!==r)return!1;for(i=t.scanDelims(t.pos,42===r),n=0;n<i.length;n++)t.push("text","",0).content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,jump:n,token:t.tokens.length-1,level:t.level,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},e.exports.postProcess=function l(t){var e,n,i,o,r,a,s=t.delimiters;for(e=t.delimiters.length-1;0<=e;e--)95!==(n=s[e]).marker&&42!==n.marker||-1!==n.end&&(i=s[n.end],a=0<e&&s[e-1].end===n.end+1&&s[e-1].token===n.token-1&&s[n.end+1].token===i.token+1&&s[e-1].marker===n.marker,r=String.fromCharCode(n.marker),(o=t.tokens[n.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?r+r:r,o.content="",(o=t.tokens[i.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?r+r:r,o.content="",a&&(t.tokens[s[e-1].token].content="",t.tokens[s[n.end+1].token].content="",e--))}},{}],41:[function(t,e){"use strict";var a=t("../common/entities"),s=t("../common/utils").has,l=t("../common/utils").isValidEntityCode,c=t("../common/utils").fromCodePoint,u=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,d=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function h(t,e){var n,i,o=t.pos,r=t.posMax;if(38!==t.src.charCodeAt(o))return!1;if(o+1<r)if(35===t.src.charCodeAt(o+1)){if(i=t.src.slice(o).match(u))return e||(n="x"===i[1][0].toLowerCase()?parseInt(i[1].slice(1),16):parseInt(i[1],10),t.pending+=l(n)?c(n):c(65533)),t.pos+=i[0].length,!0}else if((i=t.src.slice(o).match(d))&&s(a,i[1]))return e||(t.pending+=a[i[1]]),t.pos+=i[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(t,e){"use strict";for(var r=t("../common/utils").isSpace,a=[],n=0;n<256;n++)a.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){a[t.charCodeAt(0)]=1}),e.exports=function s(t,e){var n,i=t.pos,o=t.posMax;if(92!==t.src.charCodeAt(i))return!1;if(++i<o){if((n=t.src.charCodeAt(i))<256&&0!==a[n])return e||(t.pending+=t.src[i]),t.pos+=2,!0;if(10===n){for(e||t.push("hardbreak","br",0),i++;i<o&&(n=t.src.charCodeAt(i),r(n));)i++;return t.pos=i,!0}}return e||(t.pending+="\\"),t.pos++,!0}},{"../common/utils":4}],43:[function(t,e){"use strict";function a(t){var e=32|t;return 97<=e&&e<=122}var s=t("../common/html_re").HTML_TAG_RE;e.exports=function l(t,e){var n,i,o,r=t.pos;return!!t.md.options.html&&(o=t.posMax,!(60!==t.src.charCodeAt(r)||o<=r+2)&&(!(33!==(n=t.src.charCodeAt(r+1))&&63!==n&&47!==n&&!a(n))&&(!!(i=t.src.slice(r).match(s))&&(e||(t.push("html_inline","",0).content=t.src.slice(r,r+i[0].length)),t.pos+=i[0].length,!0))))}},{"../common/html_re":3}],44:[function(t,e){"use strict";var y=t("../common/utils").normalizeReference,b=t("../common/utils").isSpace;e.exports=function E(t,e){var n,i,o,r,a,s,l,c,u,d,h,f,p,m="",g=t.pos,v=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(s=t.pos+2,(a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1))<0)return!1;if((l=a+1)<v&&40===t.src.charCodeAt(l)){for(l++;l<v&&(i=t.src.charCodeAt(l),b(i)||10===i);l++);if(v<=l)return!1;for(p=l,(u=t.md.helpers.parseLinkDestination(t.src,l,t.posMax)).ok&&(m=t.md.normalizeLink(u.str),t.md.validateLink(m)?l=u.pos:m=""),p=l;l<v&&(i=t.src.charCodeAt(l),b(i)||10===i);l++);if(u=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<v&&p!==l&&u.ok)for(d=u.str,l=u.pos;l<v&&(i=t.src.charCodeAt(l),b(i)||10===i);l++);else d="";if(v<=l||41!==t.src.charCodeAt(l))return t.pos=g,!1;l++}else{if("undefined"==typeof t.env.references)return!1;if(l<v&&91===t.src.charCodeAt(l)?(p=l+1,0<=(l=t.md.helpers.parseLinkLabel(t,l))?r=t.src.slice(p,l++):l=a+1):l=a+1,r||(r=t.src.slice(s,a)),!(c=t.env.references[y(r)]))return t.pos=g,!1;m=c.href,d=c.title}return e||(o=t.src.slice(s,a),t.md.inline.parse(o,t.md,t.env,f=[]),(h=t.push("image","img",0)).attrs=n=[["src",m],["alt",""]],h.children=f,h.content=o,d&&n.push(["title",d])),t.pos=l,t.posMax=v,!0}},{"../common/utils":4}],45:[function(t,e){"use strict";var g=t("../common/utils").normalizeReference,v=t("../common/utils").isSpace;e.exports=function y(t,e){var n,i,o,r,a,s,l,c,u,d="",h=t.pos,f=t.posMax,p=t.pos,m=!0;if(91!==t.src.charCodeAt(t.pos))return!1;if(a=t.pos+1,(r=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)return!1;if((s=r+1)<f&&40===t.src.charCodeAt(s)){for(m=!1,s++;s<f&&(i=t.src.charCodeAt(s),v(i)||10===i);s++);if(f<=s)return!1;for(p=s,(l=t.md.helpers.parseLinkDestination(t.src,s,t.posMax)).ok&&(d=t.md.normalizeLink(l.str),t.md.validateLink(d)?s=l.pos:d=""),p=s;s<f&&(i=t.src.charCodeAt(s),v(i)||10===i);s++);if(l=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<f&&p!==s&&l.ok)for(u=l.str,s=l.pos;s<f&&(i=t.src.charCodeAt(s),v(i)||10===i);s++);else u="";(f<=s||41!==t.src.charCodeAt(s))&&(m=!0),s++}if(m){if("undefined"==typeof t.env.references)return!1;if(s<f&&91===t.src.charCodeAt(s)?(p=s+1,0<=(s=t.md.helpers.parseLinkLabel(t,s))?o=t.src.slice(p,s++):s=r+1):s=r+1,o||(o=t.src.slice(a,r)),!(c=t.env.references[g(o)]))return t.pos=h,!1;d=c.href,u=c.title}return e||(t.pos=a,t.posMax=r,t.push("link_open","a",1).attrs=n=[["href",d]],u&&n.push(["title",u]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=s,t.posMax=f,!0}},{"../common/utils":4}],46:[function(t,e){"use strict";var r=t("../common/utils").isSpace;e.exports=function a(t,e){var n,i,o=t.pos;if(10!==t.src.charCodeAt(o))return!1;for(n=t.pending.length-1,i=t.posMax,e||(0<=n&&32===t.pending.charCodeAt(n)?1<=n&&32===t.pending.charCodeAt(n-1)?(t.pending=t.pending.replace(/ +$/,""),t.push("hardbreak","br",0)):(t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)):t.push("softbreak","br",0)),o++;o<i&&r(t.src.charCodeAt(o));)o++;return t.pos=o,!0}},{"../common/utils":4}],47:[function(t,e){"use strict";function n(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}var o=t("../token"),g=t("../common/utils").isWhiteSpace,v=t("../common/utils").isPunctChar,y=t("../common/utils").isMdAsciiPunct;n.prototype.pushPending=function(){var t=new o("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},n.prototype.push=function(t,e,n){this.pending&&this.pushPending();var i=new o(t,e,n);return n<0&&this.level--,i.level=this.level,0<n&&this.level++,this.pendingLevel=this.level,this.tokens.push(i),i},n.prototype.scanDelims=function(t,e){var n,i,o,r,a,s,l,c,u,d=t,h=!0,f=!0,p=this.posMax,m=this.src.charCodeAt(t);for(n=0<t?this.src.charCodeAt(t-1):32;d<p&&this.src.charCodeAt(d)===m;)d++;return o=d-t,i=d<p?this.src.charCodeAt(d):32,l=y(n)||v(String.fromCharCode(n)),u=y(i)||v(String.fromCharCode(i)),s=g(n),(c=g(i))?h=!1:u&&(s||l||(h=!1)),s?f=!1:l&&(c||u||(f=!1)),a=e?(r=h,f):(r=h&&(!f||l),f&&(!h||u)),{can_open:r,can_close:a,length:o}},n.prototype.Token=o,e.exports=n},{"../common/utils":4,"../token":51}],48:[function(t,e){"use strict";e.exports.tokenize=function c(t,e){var n,i,o,r,a=t.pos,s=t.src.charCodeAt(a);if(e)return!1;if(126!==s)return!1;if(o=(i=t.scanDelims(t.pos,!0)).length,r=String.fromCharCode(s),o<2)return!1;for(o%2&&(t.push("text","",0).content=r,o--),n=0;n<o;n+=2)t.push("text","",0).content=r+r,t.delimiters.push({marker:s,jump:n,token:t.tokens.length-1,level:t.level,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},e.exports.postProcess=function c(t){var e,n,i,o,r,a=[],s=t.delimiters,l=t.delimiters.length;for(e=0;e<l;e++)126===(i=s[e]).marker&&-1!==i.end&&(o=s[i.end],(r=t.tokens[i.token]).type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",(r=t.tokens[o.token]).type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="","text"===t.tokens[o.token-1].type&&"~"===t.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(n=(e=a.pop())+1;n<t.tokens.length&&"s_close"===t.tokens[n].type;)n++;e!==--n&&(r=t.tokens[n],t.tokens[n]=t.tokens[e],t.tokens[e]=r)}}},{}],49:[function(t,e){"use strict";function i(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function o(t,e){for(var n=t.pos;n<t.posMax&&!i(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},{}],50:[function(t,e){"use strict";e.exports=function a(t){var e,n,i=0,o=t.tokens,r=t.tokens.length;for(e=n=0;e<r;e++)o[e].nesting<0&&i--,o[e].level=i,0<o[e].nesting&&i++,"text"===o[e].type&&e+1<r&&"text"===o[e+1].type?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}},{}],51:[function(t,e){"use strict";function n(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function o(t){var e,n,i;if(!this.attrs)return-1;for(n=0,i=(e=this.attrs).length;n<i;n++)if(e[n][0]===t)return n;return-1},n.prototype.attrPush=function i(t){this.attrs?this.attrs.push(t):this.attrs=[t]},n.prototype.attrSet=function r(t,e){var n=this.attrIndex(t),i=[t,e];n<0?this.attrPush(i):this.attrs[n]=i},n.prototype.attrGet=function a(t){var e=this.attrIndex(t),n=null;return 0<=e&&(n=this.attrs[e][1]),n},n.prototype.attrJoin=function s(t,e){var n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},e.exports=n},{}],52:[function(t,e){e.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105","in":"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba","int":"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",
notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],53:[function(s,t){"use strict";function n(n){return Array.prototype.slice.call(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(t){n[t]=e[t]})}),n}function e(t){return Object.prototype.toString.call(t)}function l(t){return"[object String]"===e(t)}function c(t){return"[object Object]"===e(t)}function u(t){return"[object RegExp]"===e(t)}function d(t){return"[object Function]"===e(t)}function h(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(t){return Object.keys(t||{}).reduce(function(t,e){return t||v.hasOwnProperty(e)},!1)}function f(t){t.__index__=-1,t.__text_cache__=""}function p(i){return function(t,e){var n=t.slice(e);return i.test(n)?n.match(i)[0].length:0}}function m(){return function(t,e){e.normalize(t)}}function o(i){function t(t){return t.replace("%TLDS%",e.src_tlds)}function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}var e=i.re=s("./lib/re")(i.__opts__),n=i.__tlds__.slice();i.onCompile(),i.__tlds_replaced__||n.push(b),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(t(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(t(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(t(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(t(e.tpl_host_fuzzy_test),"i");var r=[];i.__compiled__={},Object.keys(i.__schemas__).forEach(function(t){var e=i.__schemas__[t];if(null!==e){var n={validate:null,link:null};if(i.__compiled__[t]=n,c(e))return u(e.validate)?n.validate=p(e.validate):d(e.validate)?n.validate=e.validate:o(t,e),void(d(e.normalize)?n.normalize=e.normalize:e.normalize?o(t,e):n.normalize=m());l(e)?r.push(t):o(t,e)}}),r.forEach(function(t){i.__compiled__[i.__schemas__[t]]&&(i.__compiled__[t].validate=i.__compiled__[i.__schemas__[t]].validate,i.__compiled__[t].normalize=i.__compiled__[i.__schemas__[t]].normalize)}),i.__compiled__[""]={validate:null,normalize:m()};var a=Object.keys(i.__compiled__).filter(function(t){return 0<t.length&&i.__compiled__[t]}).map(h).join("|");i.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+a+")","i"),i.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+a+")","ig"),i.re.pretest=RegExp("("+i.re.schema_test.source+")|("+i.re.host_fuzzy_test.source+")|@","i"),f(i)}function r(t,e){var n=t.__index__,i=t.__last_index__,o=t.__text_cache__.slice(n,i);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=o,this.text=o,this.url=o}function a(t,e){var n=new r(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function g(t,e){if(!(this instanceof g))return new g(t,e);e||i(t)&&(e=t,t={}),this.__opts__=n({},v,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},y,t),this.__compiled__={},this.__tlds__=E,this.__tlds_replaced__=!1,this.re={},o(this)}var v={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},y={"http:":{validate:function(t,e,n){var i=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var i=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?3<=e&&":"===t[e-3]?0:3<=e&&"/"===t[e-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var i=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},b="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",E="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");g.prototype.add=function _(t,e){return this.__schemas__[t]=e,o(this),this},g.prototype.set=function T(t){return this.__opts__=n(this.__opts__,t),this},g.prototype.test=function C(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,i,o,r,a,s,l;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(o=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(l=t.search(this.re.host_fuzzy_test))&&(this.__index__<0||l<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(r=n.index+n[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=t.indexOf("@")&&null!==(i=t.match(this.re.email_fuzzy))&&(r=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=a)),0<=this.__index__},g.prototype.pretest=function D(t){return this.re.pretest.test(t)},g.prototype.testSchemaAt=function O(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},g.prototype.match=function I(t){var e=0,n=[];0<=this.__index__&&this.__text_cache__===t&&(n.push(a(this,e)),e=this.__last_index__);for(var i=e?t.slice(e):t;this.test(i);)n.push(a(this,e)),i=i.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},g.prototype.tlds=function k(t,e){return t=Array.isArray(t)?t:[t],e?this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,n){return t!==n[e-1]}).reverse():(this.__tlds__=t.slice(),this.__tlds_replaced__=!0),o(this),this},g.prototype.normalize=function w(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},g.prototype.onCompile=function R(){},t.exports=g},{"./lib/re":54}],54:[function(i,t){"use strict";t.exports=function(t){var e={};e.src_Any=i("uc.micro/properties/Any/regex").source,e.src_Cc=i("uc.micro/categories/Cc/regex").source,e.src_Z=i("uc.micro/categories/Z/regex").source,e.src_P=i("uc.micro/categories/P/regex").source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var n="[><\uff5c]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(t,e){"use strict";function n(t){var e,n,i=o[t];if(i)return i;for(i=o[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),i.push(n);for(e=0;e<t.length;e++)i[n=t.charCodeAt(e)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}function i(t,e){var c;return"string"!=typeof e&&(e=i.defaultChars),c=n(e),t.replace(/(%[a-f0-9]{2})+/gi,function(t){var e,n,i,o,r,a,s,l="";for(e=0,n=t.length;e<n;e+=3)(i=parseInt(t.slice(e+1,e+3),16))<128?l+=c[i]:192==(224&i)&&e+3<n&&128==(192&(o=parseInt(t.slice(e+4,e+6),16)))?(l+=(s=i<<6&1984|63&o)<128?"\ufffd\ufffd":String.fromCharCode(s),e+=3):224==(240&i)&&e+6<n&&(o=parseInt(t.slice(e+4,e+6),16),r=parseInt(t.slice(e+7,e+9),16),128==(192&o)&&128==(192&r))?(l+=(s=i<<12&61440|o<<6&4032|63&r)<2048||55296<=s&&s<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(s),e+=6):240==(248&i)&&e+9<n&&(o=parseInt(t.slice(e+4,e+6),16),r=parseInt(t.slice(e+7,e+9),16),a=parseInt(t.slice(e+10,e+12),16),128==(192&o)&&128==(192&r)&&128==(192&a))?((s=i<<18&1835008|o<<12&258048|r<<6&4032|63&a)<65536||1114111<s?l+="\ufffd\ufffd\ufffd\ufffd":(s-=65536,l+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),e+=9):l+="\ufffd";return l})}var o={};i.defaultChars=";/?:@&=+$,#",i.componentChars="",e.exports=i},{}],56:[function(t,e){"use strict";function c(t){var e,n,i=o[t];if(i)return i;for(i=o[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)i[t.charCodeAt(e)]=t[e];return i}function u(t,e,n){var i,o,r,a,s,l="";for("string"!=typeof e&&(n=e,e=u.defaultChars),void 0===n&&(n=!0),s=c(e),i=0,o=t.length;i<o;i++)if(r=t.charCodeAt(i),n&&37===r&&i+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(i+1,i+3)))l+=t.slice(i,i+3),i+=2;else if(r<128)l+=s[r];else if(55296<=r&&r<=57343){if(55296<=r&&r<=56319&&i+1<o&&56320<=(a=t.charCodeAt(i+1))&&a<=57343){l+=encodeURIComponent(t[i]+t[i+1]),i++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(t[i]);return l}var o={};u.defaultChars=";/?:@&=+$,-_.!~*'()#",u.componentChars="-_.!~*'()",e.exports=u},{}],57:[function(t,e){"use strict";e.exports=function n(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||""}},{}],58:[function(t,e){"use strict";e.exports.encode=t("./encode"),e.exports.decode=t("./decode"),e.exports.format=t("./format"),e.exports.parse=t("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(t,e){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function n(t,e){if(t&&t instanceof i)return t;var n=new i;return n.parse(t,e),n}var O=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r","\n","\t"],a=["{","}","|","\\","^","`"].concat(r),s=["'"].concat(a),k=["%","/","?",";","#"].concat(s),w=["/","?","#"],R=255,x=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,K={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};i.prototype.parse=function(t,e){var n,i,o,r,a,s=t;if(s=s.trim(),!e&&1===t.split("#").length){var l=I.exec(s);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}var c=O.exec(s);if(c&&(o=(c=c[0]).toLowerCase(),this.protocol=c,s=s.substr(c.length)),(e||c||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===s.substr(0,2))||c&&K[c]||(s=s.substr(2),this.slashes=!0)),!K[c]&&(a||c&&!A[c])){var u,d,h=-1;for(n=0;n<w.length;n++)-1!==(r=s.indexOf(w[n]))&&(-1===h||r<h)&&(h=r);for(-1!==(d=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(u=s.slice(0,d),s=s.slice(d+1),this.auth=u),h=-1,n=0;n<k.length;n++)-1!==(r=s.indexOf(k[n]))&&(-1===h||r<h)&&(h=r);-1===h&&(h=s.length),":"===s[h-1]&&h--;var f=s.slice(0,h);s=s.slice(h),this.parseHost(f),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p){var m=this.hostname.split(/\./);for(n=0,i=m.length;n<i;n++){var g=m[n];if(g&&!g.match(x)){for(var v="",y=0,b=g.length;y<b;y++)127<g.charCodeAt(y)?v+="x":v+=g[y];if(!v.match(x)){var E=m.slice(0,n),_=m.slice(n+1),T=g.match(S);T&&(E.push(T[1]),_.unshift(T[2])),_.length&&(s=_.join(".")+s),this.hostname=E.join(".");break}}}}this.hostname.length>R&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var D=s.indexOf("?");return-1!==D&&(this.search=s.substr(D),s=s.slice(0,D)),s&&(this.pathname=s),A[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},i.prototype.parseHost=function(t){var e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.exports=n},{}],60:[function(t,L,P){(function(N){!function(t){function v(t){throw new RangeError(x[t])}function o(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function e(t,e){var n=t.split("@"),i="";return 1<n.length&&(i=n[0]+"@",t=n[1]),i+o((t=t.replace(R,".")).split("."),e).join(".")}function y(t){for(var e,n,i=[],o=0,r=t.length;o<r;)55296<=(e=t.charCodeAt(o++))&&e<=56319&&o<r?56320==(64512&(n=t.charCodeAt(o++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--):i.push(e);return i}function g(t){return o(t,function(t){var e="";return 65535<t&&(e+=A((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=A(t)}).join("")}function b(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:C}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,n){var i=0;for(t=n?K(t/f):t>>1,t+=K(t/e);S*O>>1<t;i+=C)t=K(t/S);return K(i+(S+1)*t/(t+h))}function n(t){var e,n,i,o,r,a,s,l,c,u,d=[],h=t.length,f=0,p=k,m=I;for((n=t.lastIndexOf(w))<0&&(n=0),i=0;i<n;++i)128<=t.charCodeAt(i)&&v("not-basic"),d.push(t.charCodeAt(i));for(o=0<n?n+1:0;o<h;){for(r=f,a=1,s=C;h<=o&&v("invalid-input"),l=b(t.charCodeAt(o++)),(C<=l||l>K((T-f)/a))&&v("overflow"),f+=l*a,!(l<(c=s<=m?D:m+O<=s?O:s-m));s+=C)a>K(T/(u=C-c))&&v("overflow"),a*=u;m=_(f-r,e=d.length+1,0==r),K(f/e)>T-p&&v("overflow"),p+=K(f/e),f%=e,d.splice(f++,0,p)}return g(d)}function i(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g=[];for(h=(t=y(t)).length,e=k,r=I,a=n=0;a<h;++a)(d=t[a])<128&&g.push(A(d));for(i=o=g.length,o&&g.push(w);i<h;){for(s=T,a=0;a<h;++a)e<=(d=t[a])&&d<s&&(s=d);for(s-e>K((T-n)/(f=i+1))&&v("overflow"),n+=(s-e)*f,e=s,a=0;a<h;++a)if((d=t[a])<e&&++n>T&&v("overflow"),d==e){for(l=n,c=C;!(l<(u=c<=r?D:r+O<=c?O:c-r));c+=C)m=l-u,p=C-u,g.push(A(E(u+m%p,0))),l=K(m/p);g.push(A(E(l,0))),r=_(n,f,i==o),n=0,++i}++n,++e}return g.join("")}function r(t){return e(t,function(t){return p.test(t)?n(t.slice(4).toLowerCase()):t})}function a(t){return e(t,function(t){return m.test(t)?"xn--"+i(t):t})}var s="object"==typeof P&&P&&!P.nodeType&&P,l="object"==typeof L&&L&&!L.nodeType&&L,c="object"==typeof N&&N;c.global!==c&&c.window!==c&&c.self!==c||(t=c);var u,d,T=2147483647,C=36,D=1,O=26,h=38,f=700,I=72,k=128,w="-",p=/^xn--/,m=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=C-D,K=Math.floor,A=String.fromCharCode;if(u={version:"1.4.1",ucs2:{decode:y,encode:g},decode:n,encode:i,toASCII:a,toUnicode:r},"function"==typeof F&&"object"==typeof F.amd&&F.amd)F("punycode",function(){return u});else if(s&&l)if(L.exports==s)l.exports=u;else for(d in u
)u.hasOwnProperty(d)&&(s[d]=u[d]);else t.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(t,e){e.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(t,e){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(t,e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(t,e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},{}],65:[function(t,e,n){"use strict";n.Any=t("./properties/Any/regex"),n.Cc=t("./categories/Cc/regex"),n.Cf=t("./categories/Cf/regex"),n.P=t("./categories/P/regex"),n.Z=t("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(t,e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(t,e){"use strict";e.exports=t("./lib/")},{"./lib/":9}]},{},[67])(67)}),function(){"use strict";App.MarkdownEditor={refresh_preview:function(t,e){var n,i;i=App.MarkdownEditor.find_textarea(t).val(),n=e.render(i),t.find(".markdown-preview").html(n)},find_textarea:function(t){return t.find("textarea")},initialize:function(){$(".markdown-editor").each(function(){var n,i;i=window.markdownit({html:!0,breaks:!0,typographer:!0}),(n=$(this)).on("input",function(){var t,e;t=n.find("textarea")[0],e=$(this).closest(".translatable-fields").find(".warning"),App.MarkdownEditor.refresh_preview($(this),i),t.value===t.defaultValue?e.hide():e.show()}),n.find("textarea").on("scroll",function(){n.find(".markdown-preview").scrollTop($(this).scrollTop())}),n.find(".fullscreen-toggle").on("click",function(t){var e;t.preventDefault(),t.stopPropagation(),n.toggleClass("fullscreen"),$(".fullscreen-container").toggleClass("medium-8","medium-12"),(e=$(this).find("span")).text()===e.data("open-text")?e.text(e.data("closed-text")):e.text(e.data("open-text")),n.hasClass("fullscreen")?(App.MarkdownEditor.find_textarea(n).height($(window).height()-100),App.MarkdownEditor.refresh_preview(n,i)):App.MarkdownEditor.find_textarea(n).height("10em")})})}}}.call(this),function(){"use strict";App.HTMLEditor={initialize:function(){$("textarea.html-area").each(function(){$(this).hasClass("admin")?CKEDITOR.replace(this.name,{language:$("html").attr("lang"),toolbar:"admin",height:500}):CKEDITOR.replace(this.name,{language:$("html").attr("lang")})})},destroy:function(){for(var t in CKEDITOR.instances)CKEDITOR.instances[t].destroy()}}}.call(this),function(g){var t=0,v=function(){return(new Date).getTime()+t++},y=function(t){return"["+t+"]$1"},b=function(t){return"_"+t+"_$1"},E=function(t,e,n){return t?"function"==typeof t?(e&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),t(n)):"string"==typeof t?e?n[e](t):"this"==t?n:g(t):void 0:n.parent()};g(document).on("click",".add_fields",function(t){t.preventDefault();var e=g(this),n=e.data("association"),i=e.data("associations"),o=e.data("association-insertion-template"),r=e.data("association-insertion-method")||e.data("association-insertion-position")||"before",a=e.data("association-insertion-node"),s=e.data("association-insertion-traversal"),l=parseInt(e.data("count"),10),c=new RegExp("\\[new_"+n+"\\](.*?\\s)","g"),u=new RegExp("_new_"+n+"_(\\w*)","g"),d=v(),h=o.replace(c,y(d)),f=[],p=t;for(h==o&&(c=new RegExp("\\[new_"+i+"\\](.*?\\s)","g"),u=new RegExp("_new_"+i+"_(\\w*)","g"),h=o.replace(c,y(d))),f=[h=h.replace(u,b(d))],l=isNaN(l)?1:Math.max(l,1),l-=1;l;)d=v(),h=(h=o.replace(c,y(d))).replace(u,b(d)),f.push(h),l-=1;var m=E(a,s,e);m&&0!=m.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),g.each(f,function(t,e){var n=g(e),i=jQuery.Event("cocoon:before-insert");if(m.trigger(i,[n,p]),!i.isDefaultPrevented()){m[r](n);m.trigger("cocoon:after-insert",[n,p])}})}),g(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var e=g(this),n=e.data("wrapper-class")||"nested-fields",i=e.closest("."+n),o=i.parent(),r=t;t.preventDefault(),t.stopPropagation();var a=jQuery.Event("cocoon:before-remove");if(o.trigger(a,[i,r]),!a.isDefaultPrevented()){var s=o.data("remove-timeout")||0;setTimeout(function(){e.hasClass("dynamic")?i.detach():(e.prev("input[type=hidden]").val("1"),i.hide()),o.trigger("cocoon:after-remove",[i,r])},s)}}),g(document).on("ready page:load turbolinks:load",function(){g(".remove_fields.existing.destroyed").each(function(){var t=g(this),e=t.data("wrapper-class")||"nested-fields";t.closest("."+e).hide()})})}(jQuery),function(){"use strict";App.Answers={initializeAnswers:function(i){$(i).on("cocoon:after-insert",function(t,e){var n;n=App.Answers.maxGivenOrder(i)+1,$(e).find("[name$='[given_order]']").val(n)})},maxGivenOrder:function(t){var i;return i=0,$(t).find("[name$='[given_order]']").each(function(t,e){var n;n=parseFloat($(e).val()),i=i<n?n:i}),i},nestedAnswers:function(){$(".js-answers").each(function(t,e){App.Answers.initializeAnswers(e)})},initialize:function(){App.Answers.nestedAnswers()}}}.call(this),function(){"use strict";App.Questions={nestedQuestions:function(){$(".js-questions").on("cocoon:after-insert",function(t,e){App.Answers.initializeAnswers($(e).find(".js-answers"))})},initialize:function(){App.Questions.nestedQuestions()}}}.call(this),function(){"use strict";App.LegislationAdmin={initialize:function(){$(".legislation-process-form").find("[name$='enabled]'],[name$='[published]']").on({change:function(){var t;(t=$(this)).closest("fieldset").find("input[type='date']").each(function(){$(this).prop("disabled",!t.is(":checked"))})}}).trigger("change"),$("#nested_question_options").on("cocoon:after-insert",function(){App.Globalize.refresh_visible_translations()})}}}.call(this),function(){"use strict";App.Legislation={initialize:function(){$("form#new_legislation_answer input.button").hide(),$("form#new_legislation_answer input[type=radio]").on({click:function(){$("form#new_legislation_answer").submit()}}),$("form#draft_version_go_to_version input.button").hide(),$("form#draft_version_go_to_version select").on({change:function(){$("form#draft_version_go_to_version").submit()}})}}}.call(this),function(){"use strict";App.LegislationAllegations={show_comments:function(){App.LegislationAnnotatable.isMobile()||(document.querySelector(".draft-allegation details.calc-comments").open=!0)}}}.call(this),function(){"use strict";App.LegislationAnnotatable={makeEditableAndHighlight:function(t){var e,n;(n=window.getSelection()).rangeCount&&n.getRangeAt&&(e=n.getRangeAt(0)),document.designMode="on",e&&(n.removeAllRanges(),n.addRange(e)),document.execCommand("HiliteColor",!1,t)||document.execCommand("BackColor",!1,t),document.designMode="off"},highlight:function(t){try{document.execCommand("BackColor",!1,t)||App.LegislationAnnotatable.makeEditableAndHighlight(t)}catch(e){App.LegislationAnnotatable.makeEditableAndHighlight(t)}},remove_highlight:function(){$("[data-legislation-draft-version-id] span[style]").replaceWith(function(){return $(this).contents()})},loadAnnotationComments:function(t,e){$.ajax({method:"GET",url:t+"/annotations/"+e+"/comments",dataType:"script"})},renderAnnotationComments:function(t){if(t.offset){var e=$(".calc-comments").offset().top+$(".calc-comments .draft-panel").outerHeight();$("#comments-box").css({top:t.offset-e})}App.LegislationAnnotatable.isMobile()||App.LegislationAnnotatable.loadAnnotationComments(t.annotation_url,t.annotation_id)},onClick:function(t){var e,n,i,o;if(t.preventDefault(),t.stopPropagation(),App.LegislationAnnotatable.isMobile())return n=$(t.target).closest(".legislation-annotatable").data("legislation-annotatable-base-url"),void(window.location.href=n+"/annotations/"+$(this).data("annotation-id"));$("[data-annotation-id]").removeClass("current-annotation"),i=(o=$(this)).parents(".annotator-hl").map(function(t,e){return $(e).data("annotation-id")}),e=o.data("annotation-id"),$("[data-annotation-id='"+e+"']").addClass("current-annotation"),$("#comments-box").html(""),App.LegislationAllegations.show_comments(),$("#comments-box").show(),$("body").trigger({type:"renderLegislationAnnotation",annotation_id:o.data("annotation-id"),annotation_url:o.closest(".legislation-annotatable").data("legislation-annotatable-base-url"),offset:o.offset().top}),i.each(function(t,e){$("body").trigger({type:"renderLegislationAnnotation",annotation_id:e,annotation_url:o.closest(".legislation-annotatable").data("legislation-annotatable-base-url")})})},isMobile:function(){return window.innerWidth<=652},viewerExtension:function(t){return t._onHighlightMouseover=function(){}},customShow:function(t){var n;$(this.element).html(""),$("#comments-box").html(""),App.LegislationAllegations.show_comments(),$("#comments-box").show(),n=$("[data-legislation-annotatable-base-url]").data("legislation-annotatable-base-url"),$.ajax({method:"GET",url:n+"/annotations/new",dataType:"script"}).done(function(){$("#new_legislation_annotation #legislation_annotation_quote").val(this.annotation.quote),$("#new_legislation_annotation #legislation_annotation_ranges").val(JSON.stringify(this.annotation.ranges)),$("#comments-box").css({top:t.top-$(".calc-comments").offset().top}),!1!==$("[data-legislation-open-phase]").data("legislation-open-phase")&&(App.LegislationAnnotatable.highlight("#7fff9a"),$("#comments-box textarea").trigger("focus"),$("#new_legislation_annotation").on("ajax:complete",function(t,e){200===e.status?(App.LegislationAnnotatable.remove_highlight(),App.LegislationAnnotatable.app.annotations.runHook("annotationCreated",[e.responseJSON]),$("#comments-box").html("").hide(),App.LegislationAnnotatable.loadAnnotationComments(n,e.responseJSON.id)):($(t.target).find("label").addClass("error"),$("<small class='error'>"+e.responseJSON[0]+"</small>").insertAfter($(t.target).find("textarea")))}))}.bind(this))},editorExtension:function(t){return t.show=App.LegislationAnnotatable.customShow},scrollToAnchor:function(){return{annotationsLoaded:function(){var t,e,n;if((t=$(location).attr("hash"))&&t.startsWith("#annotation"))return e=t.split("-").slice(-1),n=setInterval(function(){var t;$("span[data-annotation-id='"+e+"']").length&&((t=$("span[data-annotation-id='"+e+"']")).addClass("current-annotation"),$("#comments-box").html(""),App.LegislationAllegations.show_comments(),$("html,body").animate({scrollTop:t.offset().top}),$("body").trigger({type:"renderLegislationAnnotation",annotation_id:e,annotation_url:t.closest(".legislation-annotatable").data("legislation-annotatable-base-url"),offset:t.offset().top}),clearInterval(n))},100)}}},propotionalWeight:function(t,e){return Math.floor(5*t/(e+1))+1},addWeightClasses:function(){return{annotationsLoaded:function(t){var e,n,i,o;if(0!==t.length)return o=t.map(function(t){return t.weight}),i=Math.max.apply(null,o),n=t[t.length-1],e=setInterval(function(){$("span[data-annotation-id='"+n.id+"']").length&&(t.forEach(function(t){var e;e=App.LegislationAnnotatable.propotionalWeight(t.weight,i),$("span[data-annotation-id='"+t.id+"']").addClass("weight-"+e)}),clearInterval(e))},100)}}},initCommentFormToggler:function(){$("body").on("click",".comment-box a.publish-comment",function(t){t.preventDefault();var e=$(this).closest(".comment-box").data("id");$("a.publish-comment").hide(),$("#js-comment-form-annotation-"+e).toggle(),$("#js-comment-form-annotation-"+e+" textarea").trigger("focus")})},initialize:function(){var n;$("body").on("renderLegislationAnnotation",App.LegislationAnnotatable.renderAnnotationComments),$("body").on("click","[data-annotation-id]",App.LegislationAnnotatable.onClick),$("body").on("click","[data-cancel-annotation]",function(t){t.preventDefault(),$("#comments-box").html(""),$("#comments-box").hide(),App.LegislationAnnotatable.remove_highlight()}),n=$("html").data("current-user-id"),$(".legislation-annotatable").each(function(){var e,t;e=$(this).data("legislation-draft-version-id"),t=$(this).data("legislation-annotatable-base-url"),App.LegislationAnnotatable.app=(new annotator.App).include(function(){return{beforeAnnotationCreated:function(t){t.legislation_draft_version_id=e,t.permissions=t.permissions||{},t.permissions.admin=[]}}}).include(annotator.ui.main,{element:this,viewerExtensions:[App.LegislationAnnotatable.viewerExtension],editorExtensions:[App.LegislationAnnotatable.editorExtension]}).include(App.LegislationAnnotatable.scrollToAnchor).include(App.LegislationAnnotatable.addWeightClasses).include(annotator.storage.http,{prefix:t,urls:{search:"/annotations/search"}}),App.LegislationAnnotatable.app.start().then(function(){App.LegislationAnnotatable.app.ident.identity=n,App.LegislationAnnotatable.app.annotations.load({legislation_draft_version_id:e})})}),App.LegislationAnnotatable.initCommentFormToggler()},destroy:function(){0<$(".legislation-annotatable").length&&App.LegislationAnnotatable.app.destroy()}}}.call(this),function(){"use strict";App.LegislationDraftVersions={msg:function(){return $("[data-markdown-changes-message]").data("markdown-changes-message")},hasChanged:function(){return $(".markdown-editor textarea").is(function(){return this.value!==this.defaultValue})},checkChanges:function(){return!App.LegislationDraftVersions.hasChanged()||confirm(App.LegislationDraftVersions.msg())}},$(document).on("turbolinks:before-visit",App.LegislationDraftVersions.checkChanges)}.call(this),function(){"use strict";App.Followable={update:function(t,e,n){$("#"+t+" .js-follow").html(e),0<$("[data-alert]").length?$("[data-alert]").replaceWith(n):$("body").append(n)}}}.call(this),function(){"use strict";App.Flaggable={update:function(t,e){$("#"+t+" .js-flag-actions").first().html(e).foundation()}}}.call(this),function(){"use strict";App.Documentable={initialize:function(){$(".js-document-attachment").each(function(){App.Documentable.initializeDirectUploadInput(this)}),$("#nested-documents").on("cocoon:after-remove",function(){App.Documentable.unlockUploads()}),$("#nested-documents").on("cocoon:after-insert",function(t,e){var n;(n=$(e).find(".js-document-attachment")).lockUpload=$(e).closest("#nested-documents").find(".document:visible").length>=$("#nested-documents").data("max-documents-allowed"),App.Documentable.initializeDirectUploadInput(n),n.lockUpload&&App.Documentable.lockUploads()})},initializeDirectUploadInput:function(i){var n;n=this.buildData([],i),this.initializeRemoveCachedDocumentLink(i,n),$(i).fileupload({paramName:"attachment",formData:null,add:function(t,e){var n;n=App.Documentable.buildData(e,t.target),App.Documentable.clearProgressBar(n),App.Documentable.setProgressBar(n,"uploading"),n.submit()},change:function(t,e){e.files.forEach(function(t){App.Documentable.setFilename(n,t.name)})},fail:function(t,e){$(e.cachedAttachmentField).val(""),App.Documentable.clearFilename(e),App.Documentable.setProgressBar(e,"errors"),App.Documentable.clearInputErrors(e),App.Documentable.setInputErrors(e),$(e.destroyAttachmentLinkContainer).find("a.delete:not(.remove-nested)").remove(),$(e.addAttachmentLabel).addClass("error"),$(e.addAttachmentLabel).show()},done:function(t,e){var n;$(e.cachedAttachmentField).val(e.result.cached_attachment),App.Documentable.setTitleFromFile(e,e.result.filename),App.Documentable.setProgressBar(e,"complete"),App.Documentable.setFilename(e,e.result.filename),App.Documentable.clearInputErrors(e),$(e.addAttachmentLabel).hide(),$(e.wrapper).find(".attachment-actions").removeClass("small-12").addClass("small-6 float-right"),$(e.wrapper).find(".attachment-actions .action-remove").removeClass("small-3").addClass("small-12"),n=$(e.result.destroy_link),$(e.destroyAttachmentLinkContainer).html(n),$(n).on("click",function(t){t.preventDefault(),t.stopPropagation(),App.Documentable.doDeleteCachedAttachmentRequest(this.href,e)}),i.lockUpload&&App.Documentable.showNotice()},progress:function(t,e){var n;n=parseInt(e.loaded/e.total*100,10),$(e.progressBar).find(".loading-bar").css("width",n+"%")}})},buildData:function(t,e){var n;return n=$(e).closest(".direct-upload"),t.input=e,t.wrapper=n,t.progressBar=$(n).find(".progress-bar-placeholder"),t.errorContainer=$(n).find(".attachment-errors"),t.fileNameContainer=$(n).find("p.file-name"),t.destroyAttachmentLinkContainer=$(n).find(".action-remove"),t.addAttachmentLabel=$(n).find(".action-add label"),t.cachedAttachmentField=$(n).find("input[name$='[cached_attachment]']"),t.titleField=$(n).find("input[name$='[title]']"),$(n).find(".progress-bar-placeholder").css("display","block"),t},clearFilename:function(t){$(t.fileNameContainer).text(""),$(t.fileNameContainer).hide()},clearInputErrors:function(t){$(t.errorContainer).find("small.error").remove()},clearProgressBar:function(t){$(t.progressBar).find(".loading-bar").removeClass("complete errors uploading").css("width","0px")},setFilename:function(t,e){$(t.fileNameContainer).text(e),$(t.fileNameContainer).show()},setProgressBar:function(t,e){$(t.progressBar).find(".loading-bar").addClass(e)},setTitleFromFile:function(t,e){""===$(t.titleField).val()&&$(t.titleField).val(e)},setInputErrors:function(t){var e;e="<small class='error'>"+t.jqXHR.responseJSON.errors+"</small>",$(t.errorContainer).append(e)},lockUploads:function(){$("#new_document_link").addClass("hide")},unlockUploads:function(){$("#max-documents-notice").addClass("hide"),$("#new_document_link").removeClass("hide")},showNotice:function(){$("#max-documents-notice").removeClass("hide")},doDeleteCachedAttachmentRequest:function(t,e){$.ajax({type:"POST",url:t,dataType:"json",data:{_method:"delete"},complete:function(){$(e.cachedAttachmentField).val(""),$(e.addAttachmentLabel).show(),App.Documentable.clearFilename(e),App.Documentable.clearInputErrors(e),App.Documentable.clearProgressBar(e),App.Documentable.unlockUploads(),$(e.wrapper).find(".attachment-actions").addClass("small-12").removeClass("small-6 float-right"),$(e.wrapper).find(".attachment-actions .action-remove").addClass("small-3").removeClass("small-12"),!0===$(e.input).data("nested-document")?$(e.wrapper).remove():$(e.wrapper).find("a.remove-cached-attachment").remove()}})},initializeRemoveCachedDocumentLink:function(t,e){var n,i;i=$(t).closest(".direct-upload"),n=$(i).find("a.remove-cached-attachment"),$(n).on("click",function(t){t.preventDefault(),t.stopPropagation(),App.Documentable.doDeleteCachedAttachmentRequest(this.href,e)})},removeDocument:function(t){$("#"+t).remove()}}}.call(this),function(){"use strict";App.Imageable={initialize:function(){$(".js-image-attachment").each(function(){App.Imageable.initializeDirectUploadInput(this)}),$("#nested-image").on("cocoon:after-remove",function(){$("#new_image_link").removeClass("hide")}),$("#nested-image").on("cocoon:before-insert",function(){$(".js-image-attachment").closest(".image").remove()}),$("#nested-image").on("cocoon:after-insert",function(t,e){var n;$("#new_image_link").addClass("hide"),n=$(e).find(".js-image-attachment"),App.Imageable.initializeDirectUploadInput(n)})},initializeDirectUploadInput:function(t){var n;n=this.buildData([],t),this.initializeRemoveCachedImageLink(t,n),$(t).fileupload({paramName:"attachment",formData:null,add:function(t,e){var n;n=App.Imageable.buildData(e,t.target),App.Imageable.clearProgressBar(n),App.Imageable.setProgressBar(n,"uploading"),n.submit()},change:function(t,e){e.files.forEach(function(t){App.Imageable.setFilename(n,t.name)})},fail:function(t,e){$(e.cachedAttachmentField).val(""),App.Imageable.clearFilename(e),App.Imageable.setProgressBar(e,"errors"),App.Imageable.clearInputErrors(e),App.Imageable.setInputErrors(e),App.Imageable.clearPreview(e),$(e.destroyAttachmentLinkContainer).find("a.delete:not(.remove-nested)").remove(),$(e.addAttachmentLabel).addClass("error"),$(e.addAttachmentLabel).show()},done:function(t,e){var n;$(e.cachedAttachmentField).val(e.result.cached_attachment),App.Imageable.setTitleFromFile(e,e.result.filename),App.Imageable.setProgressBar(e,"complete"),App.Imageable.setFilename(e,e.result.filename),App.Imageable.clearInputErrors(e),$(e.addAttachmentLabel).hide(),$(e.wrapper).find(".attachment-actions").removeClass("small-12").addClass("small-6 float-right"),$(e.wrapper).find(".attachment-actions .action-remove").removeClass("small-3").addClass("small-12"),App.Imageable.setPreview(e),n=$(e.result.destroy_link),$(e.destroyAttachmentLinkContainer).html(n),$(n).on("click",function(t){t.preventDefault(),t.stopPropagation(),App.Imageable.doDeleteCachedAttachmentRequest(this.href,e)})},progress:function(t,e){var n;n=parseInt(e.loaded/e.total*100,10),$(e.progressBar).find(".loading-bar").css("width",n+"%")}})},buildData:function(t,e){var n;return n=$(e).closest(".direct-upload"),t.input=e,t.wrapper=n,t.progressBar=$(n).find(".progress-bar-placeholder"),t.preview=$(n).find(".image-preview"),t.errorContainer=$(n).find(".attachment-errors"),t.fileNameContainer=$(n).find("p.file-name"),t.destroyAttachmentLinkContainer=$(n).find(".action-remove"),t.addAttachmentLabel=$(n).find(".action-add label"),t.cachedAttachmentField=$(n).find("input[name$='[cached_attachment]']"),t.titleField=$(n).find("input[name$='[title]']"),$(n).find(".progress-bar-placeholder").css("display","block"),t},clearFilename:function(t){$(t.fileNameContainer).text(""),$(t.fileNameContainer).hide()},clearInputErrors:function(t){$(t.errorContainer).find("small.error").remove()},clearProgressBar:function(t){$(t.progressBar).find(".loading-bar").removeClass("complete errors uploading").css("width","0px")},clearPreview:function(t){$(t.wrapper).find(".image-preview").remove()},setFilename:function(t,e){$(t.fileNameContainer).text(e),$(t.fileNameContainer).show()},setProgressBar:function(t,e){$(t.progressBar).find(".loading-bar").addClass(e)},setTitleFromFile:function(t,e){""===$(t.titleField).val()&&$(t.titleField).val(e)},setInputErrors:function(t){var e;e="<small class='error'>"+t.jqXHR.responseJSON.errors+"</small>",$(t.errorContainer).append(e)},setPreview:function(t){var e;e="<div class='small-12 column text-center image-preview'><figure><img src='"+t.result.attachment_url+"' class='cached-image'></figure></div>",0<$(t.preview).length?$(t.preview).replaceWith(e):($(e).insertBefore($(t.wrapper).find(".attachment-actions")),t.preview=$(t.wrapper).find(".image-preview"))},doDeleteCachedAttachmentRequest:function(t,e){$.ajax({type:"POST",url:t,dataType:"json",data:{_method:"delete"},complete:function(){$(e.cachedAttachmentField).val(""),$(e.addAttachmentLabel).show(),App.Imageable.clearFilename(e),App.Imageable.clearInputErrors(e),App.Imageable.clearProgressBar(e),App.Imageable.clearPreview(e),$("#new_image_link").removeClass("hide"),$(e.wrapper).find(".attachment-actions").addClass("small-12").removeClass("small-6 float-right"),$(e.wrapper).find(".attachment-actions .action-remove").addClass("small-3").removeClass("small-12"),!0===$(e.input).data("nested-image")?$(e.wrapper).remove():$(e.wrapper).find("a.remove-cached-attachment").remove()}})},initializeRemoveCachedImageLink:function(t,e){var n,i;i=$(t).closest(".direct-upload"),n=$(i).find("a.remove-cached-attachment"),$(n).on("click",function(t){t.preventDefault(),t.stopPropagation(),App.Imageable.doDeleteCachedAttachmentRequest(this.href,e)})},removeImage:function(t){$("#"+t).remove(),$("#new_image_link").removeClass("hide")}}}.call(this),function(){"use strict";App.TreeNavigator={setNodes:function(t){t.children("ul").each(function(){var t;t=$(this).prev("a"),$('<span class="open"></span>').insertBefore(t),App.TreeNavigator.setNodes($(this).children())})},initialize:function(){var t,e,n;0!==(e=$("[data-tree-navigator]")).length&&((n=e.find("ul:eq(0)")).length&&n.children().length&&App.TreeNavigator.setNodes(n.children()),$("[data-tree-navigator] span").on({click:function(){$(this).hasClass("open")?($(this).removeClass("open").addClass("closed"),$(this).siblings("ul").hide()):$(this).hasClass("closed")&&($(this).removeClass("closed").addClass("open"),$(this).siblings("ul").show())}}),(t=$(location).attr("hash"))&&e.find("a[href='"+t+"']").parents("ul").each(function(){$(this).show(),$(this).siblings("span").removeClass("closed").addClass("open")}))}}}.call(this),function(){"use strict";App.TagAutocomplete={split:function(t){return t.split(/,\s*/)},extractLast:function(t){return App.TagAutocomplete.split(t).pop()},init_autocomplete:function(){$(".tag-autocomplete").autocomplete({source:function(t,e){$.ajax({url:$(".tag-autocomplete").data("js-url"),data:{search:App.TagAutocomplete.extractLast(t.term)},type:"GET",dataType:"json",success:function(t){return e(t)}})},minLength:0,search:function(){return App.TagAutocomplete.extractLast(this.value)},focus:function(){return!1},select:function(t,e){var n;return(n=App.TagAutocomplete.split(this.value)).pop(),n.push(e.item.value),n.push(""),this.value=n.join(", "),!1}})},initialize:function(){App.TagAutocomplete.init_autocomplete()}}}.call(this),function(){"use strict";App.PollsAdmin={initialize:function(){$("select[class='js-poll-shifts']").on({change:function(){switch($(this).val()){case"vote_collection":$("select[class='js-shift-vote-collection-dates']").show(),$("select[class='js-shift-recount-scrutiny-dates']").hide();break;case"recount_scrutiny":$("select[class='js-shift-recount-scrutiny-dates']").show(),$("select[class='js-shift-vote-collection-dates']").hide()}}})}}}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";function l(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}function e(){}function p(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function c(t){return t._leaflet_id=t._leaflet_id||++Vt,t._leaflet_id}function n(t,e,n){var i,o,r,a;return a=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function i(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function s(){return!1}function o(t,e){return e=void 0===e?6:e,+(Math.round(t+"e+"+e)+"e-"+e)}function r(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function u(t){return r(t).split(/\s+/)}function a(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?Wt(t.options):{}),e)t.options[n]=e[n];return t.options}function d(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function h(t,i){return t.replace(Zt,function(t,e){var n=i[e];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(i)),n})}function f(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function m(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function g(t){var e=+new Date,n=Math.max(0,16-(e-Xt));return Xt=e+n,window.setTimeout(t,n)}function E(t,e,n){if(!n||Qt!==g)return Qt.call(window,p(t,e));t.call(e)}function v(t){t&&Jt.call(window,t)}function y(){}function b(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function _(t,e,n){return t instanceof b?t:Gt(t)?new b(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new b(t.x,t.y):new b(t,e,n)}function T(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function C(t,e){return!t||t instanceof T?t:new T(t,e)}function D(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function O(t,e){return t instanceof D?t:new D(t,e)}function I(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function k(t,e,n){return t instanceof I?t:Gt(t)&&"object"!=typeof t[0]?3===t.length?new I(t[0],t[1],t[2]):2===t.length?new I(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new I(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new I(t,e,n)}function w(t,e,n,i){if(Gt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function R(t,e,n,i){return new w(t,e,n,i)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t,e){var n,i,o,r,a,s,l="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(a=t[n]).length;i<r;i++)l+=(i?"L":"M")+(s=a[i]).x+" "+s.y;l+=e?Ve?"z":"x":""}return l||"M0 0"}function K(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}function A(t,e,n,i){return"touchstart"===e?(u=t,d=n,h=i,f=p(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(tn.indexOf(t.target.tagName)<0))return;vt(t)}M(t,d)}),u["_leaflet_touchstart"+h]=f,u.addEventListener(Ye,f,!1),nn||(document.documentElement.addEventListener(Ye,N,!0),document.documentElement.addEventListener(Xe,P,!0),document.documentElement.addEventListener(Qe,F,!0),document.documentElement.addEventListener(Je,F,!0),nn=!0)):"touchmove"===e?(l=n,c=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&M(t,l)},(s=t)["_leaflet_touchmove"+i]=c,s.addEventListener(Xe,c,!1)):"touchend"===e&&(r=n,a=function(t){M(t,r)},(o=t)["_leaflet_touchend"+i]=a,o.addEventListener(Qe,a,!1),o.addEventListener(Je,a,!1)),this;var o,r,a,s,l,c,u,d,h,f}function N(t){en[t.pointerId]=t,on++}function P(t){en[t.pointerId]&&(en[t.pointerId]=t)}function F(t){delete en[t.pointerId],on--}function M(t,e){for(var n in t.touches=[],en)t.touches.push(en[n]);t.changedTouches=[t],e(t)}function $(t,o,e){function n(t){var e;if(je){if(!Ee||"mouse"===t.pointerType)return;e=on}else e=t.touches.length;if(!(1<e)){var n=Date.now(),i=n-(r||n);a=t.touches?t.touches[0]:t,s=0<i&&i<=250,r=n}}function i(t){if(s&&!a.cancelBubble){if(je){if(!Ee||"mouse"===t.pointerType)return;var e,n,i={};for(n in a)e=a[n],i[n]=e&&e.bind?e.bind(a):e;a=i}a.type="dblclick",a.button=0,o(a),r=null}}var r,a,s=!1;return t[sn+rn+e]=n,t[sn+an+e]=i,t[sn+"dblclick"+e]=o,t.addEventListener(rn,n,!1),t.addEventListener(an,i,!1),t.addEventListener("dblclick",o,!1),this}function B(t,e){var n=t[sn+rn+e],i=t[sn+an+e],o=t[sn+"dblclick"+e];return t.removeEventListener(rn,n,!1),t.removeEventListener(an,i,!1),Ee||t.removeEventListener("dblclick",o,!1),this}function j(t){return"string"==typeof t?document.getElementById(t):t}function z(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function q(t,e,n
){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function H(t){var e=t.parentNode;e&&e.removeChild(t)}function U(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function W(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function V(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Z(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Q(t);return 0<n.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function G(t,e){if(void 0!==t.classList)for(var n=u(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!Z(t,e)){var r=Q(t);X(t,(r?r+" ":"")+e)}}function Y(t,e){void 0!==t.classList?t.classList.remove(e):X(t,r((" "+Q(t)+" ").replace(" "+e+" "," ")))}function X(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Q(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function J(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function tt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function et(t,e,n){var i=e||new b(0,0);t.style[ln]=(Ae?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function nt(t,e){t._leaflet_pos=e,Pe?et(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function it(t){return t._leaflet_pos||new b(0,0)}function ot(){ut(window,"dragstart",vt)}function rt(){dt(window,"dragstart",vt)}function at(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(st(),pe=(fe=t).style.outline,t.style.outline="none",ut(window,"keydown",st))}function st(){fe&&(fe.style.outline=pe,pe=fe=void 0,dt(window,"keydown",st))}function lt(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function ct(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function ut(t,e,n,i){if("object"==typeof e)for(var o in e)ht(t,o,e[o],n);else for(var r=0,a=(e=u(e)).length;r<a;r++)ht(t,e[r],n,i);return this}function dt(t,e,n,i){if("object"==typeof e)for(var o in e)ft(t,o,e[o],n);else if(e)for(var r=0,a=(e=u(e)).length;r<a;r++)ft(t,e[r],n,i);else{for(var s in t[pn])ft(t,s,t[pn][s]);delete t[pn]}return this}function ht(e,t,n,i){var o=t+c(n)+(i?"_"+c(i):"");if(e[pn]&&e[pn][o])return this;var r=function(t){return n.call(i||e,t||window.event)},a=r;je&&0===t.indexOf("touch")?A(e,t,r,o):!ze||"dblclick"!==t||je&&ke?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",r,!1):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||window.event,Ct(e,t)&&a(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",r,!1)):("click"===t&&Te&&(r=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=hn&&n-hn;if(i&&100<i&&i<500||t.target._simulatedClick&&!t._simulated)return yt(t);hn=n,e(t)}(t,a)}),e.addEventListener(t,r,!1)):"attachEvent"in e&&e.attachEvent("on"+t,r):$(e,r,o),e[pn]=e[pn]||{},e[pn][o]=r}function ft(t,e,n,i){var o,r,a,s=e+c(n)+(i?"_"+c(i):""),l=t[pn]&&t[pn][s];if(!l)return this;je&&0===e.indexOf("touch")?(a=(o=t)["_leaflet_"+(r=e)+s],"touchstart"===r?o.removeEventListener(Ye,a,!1):"touchmove"===r?o.removeEventListener(Xe,a,!1):"touchend"===r&&(o.removeEventListener(Qe,a,!1),o.removeEventListener(Je,a,!1))):!ze||"dblclick"!==e||je&&ke?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",l,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,l,!1):"detachEvent"in t&&t.detachEvent("on"+e,l):B(t,s),t[pn][s]=null}function pt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Tt(t),this}function mt(t){return ht(t,"mousewheel",pt),this}function gt(t){return ut(t,"mousedown touchstart dblclick",pt),ht(t,"click",_t),this}function vt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function yt(t){return vt(t),pt(t),this}function bt(t,e){if(!e)return new b(t.clientX,t.clientY);var n=ct(e),i=n.boundingClientRect;return new b((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}function Et(t){return Ee?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/mn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function _t(t){gn[t.type]=!0}function Tt(t){var e=gn[t.type];return gn[t.type]=!1,e}function Ct(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function Dt(t){return new En(t)}function Ot(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(c,t){var e=c.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(e);n[0]=n[e-1]=1,function c(t,e,n,i,o){var r,a,s,l=0;for(a=i+1;a<=o-1;a++)l<(s=xt(t[a],t[i],t[o],!0))&&(r=a,l=s);n<l&&(e[r]=1,c(t,e,n,i,r),c(t,e,n,r,o))}(c,n,t,0,e-1);var i,o=[];for(i=0;i<e;i++)n[i]&&o.push(c[i]);return o}(t=function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)a=t[i],e<(l=(s=t[o]).x-a.x)*l+(c=s.y-a.y)*c&&(n.push(t[i]),o=i);var a,s,l,c;return o<r-1&&n.push(t[r-1]),n}(t,n),n)}function It(t,e,n){return Math.sqrt(xt(t,e,n,!0))}function kt(t,e,n,i,o){var r,a,s,l=i?In:Rt(t,n),c=Rt(e,n);for(In=c;;){if(!(l|c))return[t,e];if(l&c)return!1;s=Rt(a=wt(t,e,r=l||c,n,o),n),r===l?(t=a,l=s):(e=a,c=s)}}function wt(t,e,n,i,o){var r,a,s=e.x-t.x,l=e.y-t.y,c=i.min,u=i.max;return 8&n?(r=t.x+s*(u.y-t.y)/l,a=u.y):4&n?(r=t.x+s*(c.y-t.y)/l,a=c.y):2&n?(r=u.x,a=t.y+l*(u.x-t.x)/s):1&n&&(r=c.x,a=t.y+l*(c.x-t.x)/s),new b(r,a,o)}function Rt(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function xt(t,e,n,i){var o,r=e.x,a=e.y,s=n.x-r,l=n.y-a,c=s*s+l*l;return 0<c&&(1<(o=((t.x-r)*s+(t.y-a)*l)/c)?(r=n.x,a=n.y):0<o&&(r+=s*o,a+=l*o)),s=t.x-r,l=t.y-a,i?s*s+l*l:new b(r,a)}function St(t){return!Gt(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Kt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),St(t)}function At(t,e,n){var i,o,r,a,s,l,c,u,d,h=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=Rt(t[o],e);for(a=0;a<4;a++){for(u=h[a],i=[],o=0,r=(c=t.length)-1;o<c;r=o++)s=t[o],l=t[r],s._code&u?l._code&u||((d=wt(l,s,u,e,n))._code=Rt(d,e),i.push(d)):(l._code&u&&((d=wt(l,s,u,e,n))._code=Rt(d,e),i.push(d)),i.push(s));t=i}return t}function Nt(t,e){var n,i,o,r,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Lt;if(!s&&!a)return null;switch(a.type){case"Point":return n=u(s),c?c(t,n):new Vn(n);case"MultiPoint":for(o=0,r=s.length;o<r;o++)n=u(s[o]),l.push(c?c(t,n):new Vn(n));return new qn(l);case"LineString":case"MultiLineString":return i=Pt(s,"LineString"===a.type?0:1,u),new Xn(i,e);case"Polygon":case"MultiPolygon":return i=Pt(s,"Polygon"===a.type?1:2,u),new Qn(i,e);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var d=Nt({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);d&&l.push(d)}return new qn(l);default:throw new Error("Invalid GeoJSON object.")}}function Lt(t){return new I(t[1],t[0],t[2])}function Pt(t,e,n){for(var i,o=[],r=0,a=t.length;r<a;r++)i=e?Pt(t[r],e-1,n):(n||Lt)(t[r]),o.push(i);return o}function Ft(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[o(t.lng,e),o(t.lat,e),o(t.alt,e)]:[o(t.lng,e),o(t.lat,e)]}function Mt(t,e,n,i){for(var o=[],r=0,a=t.length;r<a;r++)o.push(e?Mt(t[r],e-1,n,i):Ft(t[r],i));return!e&&n&&o.push(o[0]),o}function $t(t,e){return t.feature?l({},t.feature,{geometry:e}):Bt(e)}function Bt(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function jt(t,e){return new Jn(t,e)}function zt(t,e){return new ui(t,e)}function qt(t){return We?new fi(t):null}function Ht(t){return Ve||Ze?new vi(t):null}var Ut=Object.freeze;Object.freeze=function(t){return t};var Wt=Object.create||function(t){return e.prototype=t,new e},Vt=0,Zt=/\{ *([\w_-]+) *\}/g,Gt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Yt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Xt=0,Qt=window.requestAnimationFrame||m("RequestAnimationFrame")||g,Jt=window.cancelAnimationFrame||m("CancelAnimationFrame")||m("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},te=(Object.freeze||Object)({freeze:Ut,extend:l,create:Wt,bind:p,lastId:Vt,stamp:c,throttle:n,wrapNum:i,falseFn:s,formatNum:o,trim:r,splitWords:u,setOptions:a,getParamString:d,template:h,isArray:Gt,indexOf:f,emptyImageUrl:Yt,requestFn:Qt,cancelFn:Jt,requestAnimFrame:E,cancelAnimFrame:v});y.extend=function(t){function e(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var n=e.__super__=this.prototype,i=Wt(n);for(var o in(i.constructor=e).prototype=i,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(e[o]=this[o]);return t.statics&&(l(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=Gt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),l.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=l(Wt(i.options),t.options)),l(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},y.include=function(t){return l(this.prototype,t),this},y.mergeOptions=function(t){return l(this.prototype.options,t),this},y.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var ee={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=u(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=u(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,a=0,s=r.length;a<s;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var a=i[o];if(a.ctx===n&&a.fn===e)return a.fn=s,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=s;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=l({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var r=0,a=o.length;r<a;r++){var s=o[r];s.fn.call(s.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=p(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[c(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[c(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var ne=y.extend(ee),ie=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(t){return this.clone()._add(_(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(_(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new b(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new b(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(t){var e=(t=_(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=_(t)).x===this.x&&t.y===this.y},contains:function(t){return t=_(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o(this.x)+", "+o(this.y)+")"}},T.prototype={extend:function(t){return t=_(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof b?_(t):C(t))instanceof T?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=C(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return r&&a},overlaps:function(t){t=C(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,a=o.y>e.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof I)n=e=t;else{if(!(t instanceof D))return t?this.extend(k(t)||O(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new I(e.lat,e.lng),this._northEast=new I(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new D(new I(e.lat-i,e.lng-o),new I(n.lat+i,n.lng+o))},getCenter:function(){return new I((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new I(this.getNorth(),this.getWest())},getSouthEast:function(){return new I(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof I||"lat"in t?k(t):O(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof D?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=O(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return r&&a},overlaps:function(t){t=O(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,a=o.lng>e.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=O(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var oe,re={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new T(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:(I.prototype={equals:function(t,e){return!!t&&(t=k(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+o(this.lat,t)+", "+o(this.lng,t)+")"},distanceTo:function(t){return ae.distance(this,k(t))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return O([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new I(this.lat,this.lng,this.alt)}},!1),wrapLatLng:function(t){var e=this.wrapLng?i(t.lng,this.wrapLng,!0):t.lng;return new I(this.wrapLat?i(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0==i&&0==o)return t;var r=t.getSouthWest(),a=t.getNorthEast();return new D(new I(r.lat-i,r.lng-o),new I(a.lat-i,a.lng-o))}},ae=l({},re,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=r*r+Math.cos(i)*Math.cos(o)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),se=6378137,le={R:se,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new b(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new I((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(oe=se*Math.PI,new T([-oe,-oe],[oe,oe]))};w.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new b((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var ce,ue,de,he,fe,pe,me=l({},ae,{code:"EPSG:3857",projection:le,transformation:(ce=.5/(Math.PI*le.R),R(ce,.5,-ce,.5))}),ge=l({},me,{code:"EPSG:900913"}),ve=document.documentElement.style,ye="ActiveXObject"in window,be=ye&&!document.addEventListener,Ee="msLaunchUri"in navigator&&!("documentMode"in document),_e=K("webkit"),Te=K("android"),Ce=K("android 2")||K("android 3"),De=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oe=Te&&K("Google")&&De<537&&!("AudioNode"in window),Ie=!!window.opera,ke=K("chrome"),we=K("gecko")&&!_e&&!Ie&&!ye,Re=!ke&&K("safari"),xe=K("phantom"),Se="OTransition"in ve,Ke=0===navigator.platform.indexOf("Win"),Ae=ye&&"transition"in ve,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,Le="MozPerspective"in ve,Pe=!window.L_DISABLE_3D&&(Ae||Ne||Le)&&!Se&&!xe,Fe="undefined"!=typeof orientation||K("mobile"),Me=Fe&&_e,$e=Fe&&Ne,Be=!window.PointerEvent&&window.MSPointerEvent,je=!(!window.PointerEvent&&!Be),ze=!window.L_NO_TOUCH&&(je||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),qe=Fe&&Ie,He=Fe&&we,Ue=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),We=!!document.createElement("canvas").getContext,Ve=!(!document.createElementNS||!x("svg").createSVGRect),Ze=!Ve&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Ge=(Object.freeze||Object)({ie:ye,ielt9:be,edge:Ee,webkit:_e,android:Te,android23:Ce,androidStock:Oe,opera:Ie,chrome:ke,gecko:we,safari:Re,phantom:xe,opera12:Se,win:Ke,ie3d:Ae,webkit3d:Ne,gecko3d:Le,any3d:Pe,mobile:Fe,mobileWebkit:Me,mobileWebkit3d:$e,msPointer:Be,pointer:je,touch:ze,mobileOpera:qe,mobileGecko:He,retina:Ue,canvas:We,svg:Ve,vml:Ze}),Ye=Be?"MSPointerDown":"pointerdown",Xe=Be?"MSPointerMove":"pointermove",Qe=Be?"MSPointerUp":"pointerup",Je=Be?"MSPointerCancel":"pointercancel",tn=["INPUT","SELECT","OPTION"],en={},nn=!1,on=0,rn=Be?"MSPointerDown":je?"pointerdown":"touchstart",an=Be?"MSPointerUp":je?"pointerup":"touchend",sn="_leaflet_",ln=tt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cn=tt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),un="webkitTransition"===cn||"OTransition"===cn?cn+"End":"transitionend";if("onselectstart"in document)ue=function(){ut(window,"selectstart",vt)},de=function(){dt(window,"selectstart",vt)};else{var dn=tt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ue=function(){if(dn){var t=document.documentElement.style;he=t[dn],t[dn]="none"}},de=function(){dn&&(document.documentElement.style[dn]=he,he=void 0)}}var hn,fn=(Object.freeze||Object)({TRANSFORM:ln,TRANSITION:cn,TRANSITION_END:un,get:j,getStyle:z,create:q,remove:H,empty:U,toFront:W,toBack:V,hasClass:Z,addClass:G,removeClass:Y,setClass:X,getClass:Q,setOpacity:J,testProp:tt,setTransform:et,setPosition:nt,getPosition:it,disableTextSelection:ue,enableTextSelection:de,disableImageDrag:ot,enableImageDrag:rt,preventOutline:at,restoreOutline:st,getSizedParentNode:lt,getScale:ct}),pn="_leaflet_events",mn=Ke&&ke?2*window.devicePixelRatio:we?window.devicePixelRatio:1,gn={},vn=(Object.freeze||Object)({on:ut,off:dt,stopPropagation:pt,disableScrollPropagation:mt,disableClickPropagation:gt,preventDefault:vt,stop:yt,getMousePosition:bt,getWheelDelta:Et,fakeStop:_t,skipped:Tt,isExternalTarget:Ct,addListener:ut,removeListener:dt}),yn=ne.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=it(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),nt(this._el,n),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),bn=ne.extend({options:{crs:me,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=a(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(k(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cn&&Pe&&!qe&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ut(this._proxy,un,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(k(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=l({animate:n.animate},n.zoom),n.pan=l({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?clearTimeout(this._sizeTimer):this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Pe?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Pe?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof b?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),a=this.containerPointToLatLng(o.add(r));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():O(t);var n=_(e.paddingTopLeft||e.padding||[0,0]),i=_(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=O(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=_(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){G(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(o,r,a){function t(t){var e=(i*i-h*h+(t?-1:1)*m*m*f*f)/(2*(t?i:h)*m*f),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function n(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return h*(s(g)*(n(e=g+p*t)/s(e))-n(g))/m;var e}if(!1===(a=a||{}).animate||!Pe)return this.setView(o,r,a);this._stop();var c=this.project(this.getCenter()),u=this.project(o),e=this.getSize(),d=this._zoom;o=k(o),r=void 0===r?d:r;var h=Math.max(e.x,e.y),i=h*this.getZoomScale(d,r),f=u.distanceTo(c)||1,p=1.42,m=p*p,g=t(0),v=Date.now(),y=(t(1)-g)/p,b=a.duration?1e3*a.duration:1e3*y*.8;return this._moveStart(!0,a.noMoveStart),function a(){var t,e,n=(Date.now()-v)/b,i=(t=n,(1-Math.pow(1-t,1.5))*y);n<=1?(this._flyToFrame=E(a,this),this._move(this.unproject(c.add(u.subtract(c).multiplyBy(l(i)/f)),d),this.getScaleZoom(h/(e=i,h*(s(g)/s(g+p*e))),d),{flyTo:!0})):this._move(o,r)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=O(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,O(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=_((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=_(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),a=this.project(t),s=this.getPixelBounds(),l=s.getSize().divideBy(2),c=C([s.min.add(n),s.max.subtract(i)]);if(!c.contains(a)){this._enforcingBounds=!0;var u=r.subtract(a),d=_(a.x+u.x,a.y+u.y);(a.x<c.min.x||a.x>c.max.x)&&(d.x=r.x-u.x,0<u.x?d.x+=l.x-n.x:d.x-=l.x-i.x),(a.y<c.min.y||a.y>c.max.y)&&(d.y=r.y-u.y,0<u.y?d.y+=l.y-n.y:d.y-=l.y-i.y),this.panTo(this.unproject(d),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),r=i.subtract(o);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=p(this._handleGeolocationResponse,this),n=p(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new I(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(r[a]=t.coords[a]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),H(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(v(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)H(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=q("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){
var t=this.getPixelBounds();return new D(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=O(t),n=_(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),c=C(this.project(s,i),this.project(a,i)).getSize(),u=Pe?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,f=e?Math.max(d,h):Math.min(d,h);return i=this.getScaleZoom(f,i),u&&(i=Math.round(i/(u/100))*(u/100),i=e?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new T(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(k(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(_(t),e)},layerPointToLatLng:function(t){var e=_(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(k(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(k(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(O(t))},distance:function(t,e){return this.options.crs.distance(k(t),k(e))},containerPointToLayerPoint:function(t){return _(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return _(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(_(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(t)))},mouseEventToContainerPoint:function(t){return bt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=j(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");ut(e,"scroll",this._onScroll,this),this._containerId=c(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe,G(t,"leaflet-container"+(ze?" leaflet-touch":"")+(Ue?" leaflet-retina":"")+(be?" leaflet-oldie":"")+(Re?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=z(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nt(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(G(t.markerPane,"leaflet-zoom-hide"),G(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){nt(this._mapPane,new b(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){nt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?dt:ut;e((this._targets[c(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Pe&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[c(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!Ct(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!Ct(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Tt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||at(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=l({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var o=n[0];"contextmenu"===e&&o.listens(e,!0)&&vt(t);var r={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);r.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?o.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var s=0;s<n.length;s++)if(n[s].fire(e,r,!0),r.originalEvent._stopped||!1===n[s].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return it(this._mapPane)||new b(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return C([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new T(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new T(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=C(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new b(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Pe?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Y(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=q("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=ln,n=this._proxy.style[e];et(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();et(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){H(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(E(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Y(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),E(function(){this._moveEnd(!0)},this))}}),En=y.extend({options:{position:"topright"},initialize:function(t){a(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return G(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(H(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}});bn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,e){var n=o+t+" "+o+e;i[t+e]=q("div",n,r)}var i=this._controlCorners={},o="leaflet-",r=this._controlContainer=q("div",o+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)H(this._controlCorners[t]);H(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _n=En.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in a(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return En.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(c(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Y(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Y(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=q("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),gt(e),mt(e);var i=this._section=q("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Te||ut(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=q("a",t+"-toggle",e);o.href="#",o.title="Layers",ze?(ut(o,"click",yt),ut(o,"click",this.expand,this)):ut(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=q("div",t+"-base",i),this._separator=q("div",t+"-separator",i),this._overlaysList=q("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&c(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(p(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;U(this._baseLayersList),U(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<o,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(c(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+c(this),i),this._layerControlInputs.push(e),e.layerId=c(t.layer),ut(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;0<=r;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;0<=o;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Tn=En.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=q("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=q("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),gt(r),ut(r,"click",yt),ut(r,"click",o,this),ut(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Y(this._zoomInButton,e),Y(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMinZoom()||G(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMaxZoom()||G(this._zoomInButton,e)}});bn.mergeOptions({zoomControl:!0}),bn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Tn,this.addControl(this.zoomControl))});var Cn=En.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=q("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=q("div",e,n)),t.imperial&&(this._iScale=q("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;5280<o?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),Dn=En.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){a(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=q("div","leaflet-control-attribution"),gt(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});bn.mergeOptions({attributionControl:!0}),bn.addInitHook(function(){this.options.attributionControl&&(new Dn).addTo(this)}),En.Layers=_n,En.Zoom=Tn,En.Scale=Cn,En.Attribution=Dn,Dt.layers=function(t,e,n){return new _n(t,e,n)},Dt.zoom=function(t){return new Tn(t)},Dt.scale=function(t){return new Cn(t)},Dt.attribution=function(t){return new Dn(t)};var On=y.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});On.addTo=function(t,e){return t.addHandler(e,this),this};var In,kn,wn={Events:ee},Rn=ze?"touchstart mousedown":"mousedown",xn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Sn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Kn=ne.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){a(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(ut(this._dragStartTarget,Rn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kn._dragging===this&&this.finishDrag(),dt(this._dragStartTarget,Rn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!Z(this._element,"leaflet-zoom-anim")&&!(Kn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Kn._dragging=this)._preventOutline&&at(this._element),ot(),ue(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=lt(this._element);this._startPoint=new b(e.clientX,e.clientY),this._parentScale=ct(n),ut(document,Sn[t.type],this._onMove,this),ut(document,xn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&1<t.touches.length)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new b(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,vt(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=it(this._element).subtract(n),G(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,v(this._animRequest),this._lastEvent=t,this._animRequest=E(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),nt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in Y(document.body,"leaflet-dragging"),this._lastTarget&&(Y(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Sn)dt(document,Sn[t],this._onMove,this),dt(document,xn[t],this._onUp,this);rt(),de(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Kn._dragging=!1}}),An=(Object.freeze||Object)({simplify:Ot,pointToSegmentDistance:It,closestPointOnSegment:function(t,e,n){return xt(t,e,n)},clipSegment:kt,_getEdgeIntersection:wt,_getBitCode:Rt,_sqClosestPointOnSegment:xt,isFlat:St,_flat:Kt}),Nn=(Object.freeze||Object)({clipPolygon:At}),Ln={project:function(t){return new b(t.lng,t.lat)},unproject:function(t){return new I(t.y,t.x)},bounds:new T([-180,-90],[180,90])},Pn={R:6378137,R_MINOR:6356752.314245179,bounds:new T([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new b(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&1e-7<Math.abs(c);l++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),s+=c=Math.PI/2-2*Math.atan(a*e)-s;return new I(s*n,t.x*n/i)}},Fn=(Object.freeze||Object)({LonLat:Ln,Mercator:Pn,SphericalMercator:le}),Mn=l({},ae,{code:"EPSG:3395",projection:Pn,transformation:(kn=.5/(Math.PI*Pn.R),R(kn,.5,-kn,.5))}),$n=l({},ae,{code:"EPSG:4326",projection:Ln,transformation:R(1/180,1,-1/180,.5)}),Bn=l({},re,{projection:Ln,transformation:R(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});re.Earth=ae,re.EPSG3395=Mn,re.EPSG3857=me,re.EPSG900913=ge,re.EPSG4326=$n,re.Simple=Bn;var jn=ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[c(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[c(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});bn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=c(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=c(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&c(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?Gt(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[c(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=c(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zn=jn.extend({initialize:function(t,e){var n,i;if(a(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return c(t)}}),qn=zn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),zn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),zn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Hn=y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){a(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=_(i),r=_("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ue&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Un=Hn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Un.imagePath||(Un.imagePath=this._detectIconPath()),(this.options.imagePath||Un.imagePath)+Hn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=q("div","leaflet-default-icon-path",document.body),e=z(t,"background-image")||z(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Wn=On.extend({
initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Kn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),G(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Y(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=it(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=C(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));if(!l.contains(r)){var c=_((Math.max(l.max.x,r.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),nt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=E(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(v(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=it(e._icon),o=e._map.layerPointToLatLng(i);n&&nt(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){v(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Vn=jn.extend({options:{icon:new Un,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){a(this,e),this._latlng=k(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=k(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),G(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(G(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),H(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&H(this._shadow),this._shadow=null},_setPos:function(t){nt(this._icon,t),this._shadow&&nt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&J(this._icon,t),this._shadow&&J(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Zn=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return a(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Gn=Zn.extend({options:{fill:!0,radius:10},initialize:function(t,e){a(this,e),this._latlng=k(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=k(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Zn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new T(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Yn=Gn.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=l({},n,{radius:e})),a(this,e),this._latlng=k(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Zn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===ae.distance){var o=Math.PI/180,r=this._mRadius/ae.R/o,a=n.project([e+r,t]),s=n.project([e-r,t]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;!isNaN(u)&&0!==u||(u=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-a.y}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}}),Xn=Zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){a(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=xt,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var d=r(t,e=l[c-1],n=l[c],!0);d<i&&(i=d,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s=this._rings[0],l=s.length;if(!l)return null;for(e=t=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(i=t=0;t<l-1;t++)if(o=s[t],r=s[t+1],e<(i+=n=o.distanceTo(r)))return a=(i-e)/n,this._map.layerPointToLatLng([r.x-a*(r.x-o.x),r.y-a*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=k(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return St(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=St(t),i=0,o=t.length;i<o;i++)n?(e[i]=k(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new T;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new b(t,t);this._pxBounds=new T([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof I,a=t.length;if(r){for(o=[],i=0;i<a;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,a,s,l=this._parts;for(i=e=0,o=this._rings.length;e<o;e++)for(n=0,r=(s=this._rings[e]).length;n<r-1;n++)(a=kt(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==r-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Ot(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(a=(s=this._parts[n]).length)-1;i<a;o=i++)if((e||0!==i)&&It(t,s[o],s[i])<=l)return!0;return!1}});Xn._flat=Kt;var Qn=Xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s,l,c=this._rings[0],u=c.length;if(!u)return null;for(r=a=s=0,t=0,e=u-1;t<u;e=t++)n=c[t],i=c[e],o=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*o,s+=(n.y+i.y)*o,r+=3*o;return l=0===r?c[0]:[a/r,s/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Xn.prototype._convertLatLngs.call(this,t),n=e.length;return 2<=n&&e[0]instanceof I&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Xn.prototype._setLatLngs.call(this,t),St(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return St(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new b(e,e);if(t=new T(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=At(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(r=0,a=(l=(e=this._parts[o]).length)-1;r<l;a=r++)n=e[r],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Xn.prototype._containsPoint.call(this,t,!0)}}),Jn=qn.extend({initialize:function(t,e){a(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=Gt(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=Nt(t,r);return a?(a.feature=Bt(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}}),ti={toGeoJSON:function(t){return $t(this,{type:"Point",coordinates:Ft(this.getLatLng(),t)})}};Vn.include(ti),Yn.include(ti),Gn.include(ti),Xn.include({toGeoJSON:function(t){var e=!St(this._latlngs);return $t(this,{type:(e?"Multi":"")+"LineString",coordinates:Mt(this._latlngs,e?1:0,!1,t)})}}),Qn.include({toGeoJSON:function(t){var e=!St(this._latlngs),n=e&&!St(this._latlngs[0]),i=Mt(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),$t(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),zn.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(t){n.push(t.toGeoJSON(e).geometry.coordinates)}),$t(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(i){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(i);var o="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var e=t.toGeoJSON(i);if(o)r.push(e.geometry);else{var n=Bt(e);"FeatureCollection"===n.type?r.push.apply(r,n.features):r.push(n)}}}),o?$t(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var ei=jt,ni=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=O(e),a(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(G(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){H(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&W(this._image),this},bringToBack:function(){return this._map&&V(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=O(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:q("img");G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),this.options.className&&G(e,this.options.className),e.onselectstart=s,e.onmousemove=s,e.onload=p(this.fire,this,"load"),e.onerror=p(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;et(this._image,n,e)},_reset:function(){var t=this._image,e=new T(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();nt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){J(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),ii=ni.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:q("video");if(G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),e.onselectstart=s,e.onmousemove=s,e.onloadeddata=p(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=0<n.length?i:[e.src]}else{Gt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var r=0;r<this._url.length;r++){var a=q("source");a.src=this._url[r],e.appendChild(a)}}}}),oi=ni.extend({_initImage:function(){var t=this._image=this._url;G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),t.onselectstart=s,t.onmousemove=s}}),ri=jn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){a(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&J(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&J(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(J(this._container,0),this._removeTimeout=setTimeout(p(H,void 0,this._container),200)):H(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=k(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&W(this._container),this},bringToBack:function(){return this._map&&V(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof jn||(n=e,e=t),e instanceof qn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=_(this.options.offset),n=this._getAnchor();this._zoomAnimated?nt(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),ai=ri.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){ri.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zn||this._source.on("preclick",pt))},onRemove:function(t){ri.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zn||this._source.off("preclick",pt))},getEvents:function(){var t=ri.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=q("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=q("div",t+"-content-wrapper",e);if(this._contentNode=q("div",t+"-content",n),gt(n),mt(this._contentNode),ut(n,"contextmenu",pt),this._tipContainer=q("div",t+"-tip-container",e),this._tip=q("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=q("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",ut(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&o<i?(e.height=o+"px",G(t,r)):Y(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();nt(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(z(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new b(this._containerLeft,-n-this._containerBottom);o._add(it(this._container));var r=t.layerPointToContainerPoint(o),a=_(this.options.autoPanPadding),s=_(this.options.autoPanPaddingTopLeft||a),l=_(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),u=0,d=0;r.x+i+l.x>c.x&&(u=r.x+i-c.x+l.x),r.x-u-s.x<0&&(u=r.x-s.x),r.y+n+l.y>c.y&&(d=r.y+n-c.y+l.y),r.y-d-s.y<0&&(d=r.y-s.y),(u||d)&&t.fire("autopanstart").panBy([u,d])}},_onCloseButtonClick:function(t){this._close(),yt(t)},_getAnchor:function(){return _(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});bn.mergeOptions({closePopupOnClick:!0}),bn.include({openPopup:function(t,e,n){return t instanceof ai||(t=new ai(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),jn.include({bindPopup:function(t,e){return t instanceof ai?(a(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new ai(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(yt(t),e instanceof Zn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var si=ri.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){ri.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){ri.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=ri.prototype.getEvents.call(this);return ze&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=q("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=_(this.options.offset),c=this._getAnchor();t="top"===r?t.add(_(-a/2+l.x,-s+l.y+c.y,!0)):"bottom"===r?t.subtract(_(a/2-l.x,-l.y,!0)):"center"===r?t.subtract(_(a/2+l.x,s/2-c.y+l.y,!0)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t.add(_(l.x+c.x,c.y-s/2+l.y,!0))):(r="left",t.subtract(_(a+c.x-l.x,s/2-c.y-l.y,!0))),Y(n,"leaflet-tooltip-right"),Y(n,"leaflet-tooltip-left"),Y(n,"leaflet-tooltip-top"),Y(n,"leaflet-tooltip-bottom"),G(n,"leaflet-tooltip-"+r),nt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&J(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return _(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});bn.include({openTooltip:function(t,e,n){return t instanceof si||(t=new si(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),jn.include({bindTooltip:function(t,e){return t instanceof si?(a(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new si(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),ze&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(G(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Y(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var li=Hn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(U(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=_(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Hn.Default=Un;var ci=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){a(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),H(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(W(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(V(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=n(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof b?t:new b(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!be){J(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);J(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(v(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=q("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},
_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(H(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=q("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)H(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),a=n-1,s=new b(+o,+r);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),i<a&&this._retainParent(o,r,a,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new b(o,r);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Pe?et(t.el,o,i):nt(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new T(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),a=[],s=this.options.keepBuffer,l=new T(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new b(u.x,u.y))||(this._tiles[c].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(t,n);else{for(var d=o.min.y;d<=o.max.y;d++)for(var h=o.min.x;h<=o.max.x;h++){var f=new b(h,d);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:a.push(f)}}if(a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return O(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new D(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new b(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(H(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){G(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s,t.onmousemove=s,be&&this.options.opacity<1&&J(t,this.options.opacity),Te&&!Ce&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&E(p(this._tileReady,this,t,null,o)),nt(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(J(n.el,0),v(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(G(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),be||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new b(this._wrapX?i(t.x,this._wrapX):t.x,this._wrapY?i(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new T(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ui=ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=a(this,e)).detectRetina&&Ue&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),Te||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return ut(n,"load",p(this._tileOnLoad,this,e,n)),ut(n,"error",p(this._tileOnError,this,e,n)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ue?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return h(this._url,l(e,this.options))},_tileOnLoad:function(t,e){be?setTimeout(p(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=s,e.onerror=s,e.complete||(e.src=Yt,H(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return Oe||e.el.setAttribute("src",Yt),ci.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==Yt))return ci.prototype._tileReady.call(this,t,e,n)}}),di=ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=l({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);var o=(e=a(this,e)).detectRetina&&Ue?2:1,r=this.getTileSize();n.width=r.x*o,n.height=r.y*o,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,ui.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=C(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,a=(1.3<=this._wmsVersion&&this._crs===$n?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),s=ui.prototype.getTileUrl.call(this,t);return s+d(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return l(this.wmsParams,t),e||this.redraw(),this}});ui.WMS=di,zt.wms=function(t,e){return new di(t,e)};var hi=jn.extend({options:{padding:.1,tolerance:0},initialize:function(t){a(this,t),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&G(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=it(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e).subtract(r),s=o.multiplyBy(-n).add(i).add(o).subtract(a);Pe?et(this._container,s,n):nt(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new T(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fi=hi.extend({getEvents:function(){var t=hi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){hi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ut(t,"mousemove",n(this._onMouseMove,32,this),this),ut(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ut(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){v(this._redrawRequest),delete this._ctx,H(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){hi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Ue?2:1;nt(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Ue&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){hi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[c(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[c(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new T,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(i=0,o=a[n].length;i<o;i++)r=a[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!=o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!=o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(_t(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Y(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(G(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&((n.prev=i)?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,(this._drawLast.next=e).next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&((i.next=n)?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}}),pi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),mi={_initContainer:function(){this._container=q("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(hi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=pi("shape");G(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=pi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[c(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;H(e),t.removeInteractiveTarget(e),delete this._layers[c(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=pi("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=Gt(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=pi("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){W(t._container)},_bringToBack:function(t){V(t._container)}},gi=Ze?pi:x,vi=hi.extend({getEvents:function(){var t=hi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=gi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){H(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){hi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),nt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=gi("path");t.options.className&&G(e,t.options.className),t.options.interactive&&G(e,"leaflet-interactive"),this._updateStyle(t),this._layers[c(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){H(t._path),t.removeInteractiveTarget(t._path),delete this._layers[c(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,S(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){W(t._path)},_bringToBack:function(t){V(t._path)}});Ze&&vi.include(mi),bn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&qt(t)||Ht(t)}});var yi=Qn.extend({initialize:function(t,e){Qn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=O(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});vi.create=gi,vi.pointsToPath=S,Jn.geometryToLayer=Nt,Jn.coordsToLatLng=Lt,Jn.coordsToLatLngs=Pt,Jn.latLngToCoords=Ft,Jn.latLngsToCoords=Mt,Jn.getFeature=$t,Jn.asFeature=Bt,bn.mergeOptions({boxZoom:!0});var bi=On.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){H(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ue(),ot(),this._startPoint=this._map.mouseEventToContainerPoint(t),ut(document,{contextmenu:yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=q("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new T(this._point,this._startPoint),n=e.getSize();nt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(H(this._box),Y(this._container,"leaflet-crosshair")),de(),rt(),dt(document,{contextmenu:yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});bn.addInitHook("addHandler","boxZoom",bi),bn.mergeOptions({doubleClickZoom:!0});var Ei=On.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});bn.addInitHook("addHandler","doubleClickZoom",Ei),bn.mergeOptions({dragging:!0,inertia:!Ce,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _i=On.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Kn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Y(this._map._container,"leaflet-grab"),Y(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=O(this._map.options.maxBounds);this._offsetLimit=C(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/r),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),d=c/(n.inertiaDeceleration*a),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),E(function(){e.panBy(h,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});bn.addInitHook("addHandler","dragging",_i),bn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ti=On.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ut(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=_(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}yt(t)}}});bn.addInitHook("addHandler","keyboard",Ti),bn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ci=On.extend({addHooks:function(){ut(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Et(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),i),yt(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,a=t._limitZoom(e+(0<this._delta?r:-r))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});bn.addInitHook("addHandler","scrollWheelZoom",Ci),bn.mergeOptions({tap:!0,tapTolerance:15});var Di=On.extend({addHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(vt(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new b(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&G(n,"leaflet-active"),this._holdTimeout=setTimeout(p(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent(
"mousedown",e),ut(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),dt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&Y(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new b(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});ze&&!je&&bn.addInitHook("addHandler","tap",Di),bn.mergeOptions({touchZoom:ze&&!Ce,bounceAtZoomLimits:!0});var Oi=On.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend",this._onTouchEnd,this),vt(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==o)return}else{var r=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1==o&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),v(this._animRequest);var a=p(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=E(a,this,!0),vt(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,v(this._animRequest),dt(document,"touchmove",this._onTouchMove),dt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});bn.addInitHook("addHandler","touchZoom",Oi),bn.BoxZoom=bi,bn.DoubleClickZoom=Ei,bn.Drag=_i,bn.Keyboard=Ti,bn.ScrollWheelZoom=Ci,bn.Tap=Di,bn.TouchZoom=Oi,Object.freeze=Ut,t.version="1.5.1",t.Control=En,t.control=Dt,t.Browser=Ge,t.Evented=ne,t.Mixin=wn,t.Util=te,t.Class=y,t.Handler=On,t.extend=l,t.bind=p,t.stamp=c,t.setOptions=a,t.DomEvent=vn,t.DomUtil=fn,t.PosAnimation=yn,t.Draggable=Kn,t.LineUtil=An,t.PolyUtil=Nn,t.Point=b,t.point=_,t.Bounds=T,t.bounds=C,t.Transformation=w,t.transformation=R,t.Projection=Fn,t.LatLng=I,t.latLng=k,t.LatLngBounds=D,t.latLngBounds=O,t.CRS=re,t.GeoJSON=Jn,t.geoJSON=jt,t.geoJson=ei,t.Layer=jn,t.LayerGroup=zn,t.layerGroup=function(t,e){return new zn(t,e)},t.FeatureGroup=qn,t.featureGroup=function(t){return new qn(t)},t.ImageOverlay=ni,t.imageOverlay=function(t,e,n){return new ni(t,e,n)},t.VideoOverlay=ii,t.videoOverlay=function(t,e,n){return new ii(t,e,n)},t.SVGOverlay=oi,t.svgOverlay=function(t,e,n){return new oi(t,e,n)},t.DivOverlay=ri,t.Popup=ai,t.popup=function(t,e){return new ai(t,e)},t.Tooltip=si,t.tooltip=function(t,e){return new si(t,e)},t.Icon=Hn,t.icon=function(t){return new Hn(t)},t.DivIcon=li,t.divIcon=function(t){return new li(t)},t.Marker=Vn,t.marker=function(t,e){return new Vn(t,e)},t.TileLayer=ui,t.tileLayer=zt,t.GridLayer=ci,t.gridLayer=function(t){return new ci(t)},t.SVG=vi,t.svg=Ht,t.Renderer=hi,t.Canvas=fi,t.canvas=qt,t.Path=Zn,t.CircleMarker=Gn,t.circleMarker=function(t,e){return new Gn(t,e)},t.Circle=Yn,t.circle=function(t,e,n){return new Yn(t,e,n)},t.Polyline=Xn,t.polyline=function(t,e){return new Xn(t,e)},t.Polygon=Qn,t.polygon=function(t,e){return new Qn(t,e)},t.Rectangle=yi,t.rectangle=function(t,e){return new yi(t,e)},t.Map=bn,t.map=function(t,e){return new bn(t,e)};var Ii=window.L;t.noConflict=function(){return window.L=Ii,this},window.L=t}),function(){"use strict";App.Map={maps:[],initialize:function(){$("*[data-map]:visible").each(function(){App.Map.initializeMap(this)}),$(".js-toggle-map").on({click:function(){App.Map.toggleMap()}})},destroy:function(){App.Map.maps.forEach(function(t){t.off(),t.remove()}),App.Map.maps=[]},initializeMap:function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,E,_,T,C,D,O,I;App.Map.cleanInvestmentCoordinates(t),m=$(t).data("map-tiles-provider"),d=$(t).data("map-tiles-provider-attribution"),l=$(t).data("latitude-input-selector"),c=$(t).data("longitude-input-selector"),I=$(t).data("zoom-input-selector"),a={lat:$(l).val(),"long":$(c).val(),zoom:$(I).val()},o={lat:$(t).data("marker-latitude"),"long":$(t).data("marker-longitude")},p=App.Map.validCoordinates(a)?(y=a.lat,b=a["long"],f=a.lat,a["long"]):App.Map.validCoordinates(o)?(y=o.lat,b=o["long"],f=o.lat,o["long"]):(f=$(t).data("map-center-latitude"),$(t).data("map-center-longitude")),O=App.Map.validZoom(a.zoom)?a.zoom:$(t).data("map-zoom"),C=$(t).data("marker-remove-selector"),e=$(t).data("marker-investments-coordinates"),r=$(t).data("marker-editable"),g=null,v=L.divIcon({className:"map-marker",iconSize:[30,30],iconAnchor:[15,40],html:'<div class="map-icon"></div>'}),i=function(t,e){var n;return n=new L.LatLng(t,e),g=L.marker(n,{icon:v,draggable:r}),r&&g.on("dragend",D),g.addTo(u),g},T=function(t){t.preventDefault(),g&&(u.removeLayer(g),g=null),n()},E=function(t){g?g.setLatLng(t.latlng):g=i(t.latlng.lat,t.latlng.lng),D()},D=function(){$(l).val(g.getLatLng().lat),$(c).val(g.getLatLng().lng),$(I).val(u.getZoom())},n=function(){$(l).val(""),$(c).val(""),$(I).val("")},_=function(e){g=e.target,$.ajax("/investments/"+g.options.id+"/json_data",{type:"GET",dataType:"json",success:function(t){e.target.bindPopup(s(t)).openPopup()}})},s=function(t){return"<a href='/budgets/"+t.budget_id+"/investments/"+t.investment_id+"'>"+t.investment_title+"</a>"},h=new L.LatLng(f,p),u=L.map(t.id).setView(h,O),App.Map.maps.push(u),L.tileLayer(m,{attribution:d}).addTo(u),y&&b&&!e&&(g=i(y,b)),r&&($(C).on("click",T),u.on("zoomend",function(){g&&D()}),u.on("click",E)),e&&e.forEach(function(t){App.Map.validCoordinates(t)&&((g=i(t.lat,t["long"])).options.id=t.investment_id,g.on("click",_))})},toggleMap:function(){$(".map").toggle(),$(".js-location-map-remove-marker").toggle()},cleanInvestmentCoordinates:function(t){var e,n;null!=(n=$(t).attr("data-marker-investments-coordinates"))&&(e=n.replace(/-?(\*+)/g,null),$(t).attr("data-marker-investments-coordinates",e))},validZoom:function(t){return App.Map.isNumeric(t)},validCoordinates:function(t){return App.Map.isNumeric(t.lat)&&App.Map.isNumeric(t["long"])},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}}}.call(this),function(){"use strict";App.Polls={generateToken:function(){return Array.apply(null,{length:6}).map(function(){return Math.random().toString(36).substr(2)}).join("").substring(0,64)},replaceToken:function(t){$(".js-question-answer").each(function(){"token="===this.search.slice(-6)&&(this.href=this.href+t)})},initialize:function(){var t;t=App.Polls.generateToken(),App.Polls.replaceToken(t),$(".zoom-link").on("click",function(t){var e;e=$(t.target).closest("div.answer"),$(e).hasClass("medium-6")?($(e).removeClass("medium-6"),$(e).addClass("answer-divider"),$(e).hasClass("first")||$(e).insertBefore($(e).prev("div.answer"))):($(e).addClass("medium-6"),$(e).removeClass("answer-divider"),$(e).hasClass("first")||$(e).insertAfter($(e).next("div.answer")))})}}}.call(this),function(){"use strict";App.Sortable={initialize:function(){$(".sortable").sortable({update:function(){var t;t=$(this).sortable("toArray",{attribute:"data-answer-id"}),$.ajax({url:$(".sortable").data("js-url"),data:{ordered_list:t},type:"POST"})}})}}}.call(this),function(){"use strict";App.TableSortable={getCellValue:function(t,e){return $(t).children("td").eq(e).text()},comparer:function(o){return function(t,e){var n,i;return n=App.TableSortable.getCellValue(t,o),i=App.TableSortable.getCellValue(e,o),$.isNumeric(n)&&$.isNumeric(i)?n-i:n.localeCompare(i)}},initialize:function(){$(".table-sortable th").on("click",function(){var t,e;t=(e=$(this).parents("table").eq(0)).find("tbody tr").toArray().sort(App.TableSortable.comparer($(this).index())),this.asc=!this.asc,this.asc?e.append(t):e.append(t.reverse())})}}}.call(this),function(){"use strict";App.InvestmentReportAlert={initialize:function(){$("#js-investment-report-alert").on("click",function(){return this.checked&&$("#budget_investment_feasibility_unfeasible").is(":checked")?confirm(this.dataset.alert+"\n"+this.dataset.notFeasibleAlert):this.checked?confirm(this.dataset.alert):void 0})}}}.call(this),function(){"use strict";App.SendNewsletterAlert={initialize:function(){$("#js-send-newsletter-alert").on("click",function(){return confirm(this.dataset.alert)})}}}.call(this),function(){"use strict";App.Managers={generatePassword:function(){var e;return e="aAbcdeEfghiJkmnpqrstuUvwxyz23456789",Array.apply(null,{length:12}).map(function(){var t;return t=Math.floor(Math.random()*e.length),e.charAt(t)}).join("")},togglePassword:function(t){$("#user_password").prop("type",t)},initialize:function(){$(".generate-random-value").on("click",function(t){t.preventDefault(),t.stopPropagation(),$("#user_password").val(App.Managers.generatePassword())}),$(".show-password").on("click",function(t){t.preventDefault(),t.stopPropagation(),$("#user_password").is("input[type='password']")?App.Managers.togglePassword("text"):App.Managers.togglePassword("password")})}}}.call(this),function(){"use strict";App.I18n={set_pluralize:function(t,e){t.text(this.pluralize(t.data("texts"),e))},pluralize:function(t,e){return this.raw_text(t,e).replace("%{count}",e)},raw_text:function(t,e){switch(e){case 0:return t.zero;case 1:return t.one;default:return t.other}}}}.call(this),function(){"use strict";App.Globalize={selected_language:function(){return $("#select_language").val()},display_locale:function(t){App.Globalize.enable_locale(t),App.Globalize.add_language(t),$(".js-add-language option:selected").prop("selected",!1)},display_translations:function(t){$(".js-select-language option[value="+t+"]").prop("selected",!0),$(".js-globalize-attribute").each(function(){$(this).data("locale")===t?$(this).show():$(this).hide(),$(".js-delete-language").hide(),$(".js-delete-"+t).show()})},add_language:function(t){var e,n;e=$(".js-add-language [value="+t+"]"),0===$(".js-select-language option[value="+t+"]").length&&(n=new Option(e.text(),e.val()),$(".js-select-language").append(n)),$(".js-select-language option[value="+t+"]").prop("selected",!0)},remove_language:function(t){var e;$(".js-globalize-attribute[data-locale="+t+"]").each(function(){$(this).val("").hide(),App.Globalize.resetEditor(this)}),$(".js-select-language option[value="+t+"]").remove(),e=$(".js-select-language option:not([value=''])").first(),App.Globalize.display_translations(e.val()),App.Globalize.disable_locale(t),App.Globalize.update_description(),1===$(".js-select-language option").length&&$(".js-select-language option").prop("selected",!0)},resetEditor:function(t){CKEDITOR.instances[$(t).attr("id")]&&CKEDITOR.instances[$(t).attr("id")].setData("")},enable_locale:function(t){App.Globalize.destroy_locale_field(t).val(!1),App.Globalize.site_customization_enable_locale_field(t).val(1)},disable_locale:function(t){App.Globalize.destroy_locale_field(t).val(!0),App.Globalize.site_customization_enable_locale_field(t).val(0)},enabled_locales:function(){return $.map($(".js-select-language:first option:not([value=''])"),function(t){return $(t).val()})},destroy_locale_field:function(t){return $("input[id$=_destroy][data-locale="+t+"]")},site_customization_enable_locale_field:function(t){return $("#enabled_translations_"+t)},refresh_visible_translations:function(){var t;t=$(".js-select-language").val(),App.Globalize.display_translations(t)},update_description:function(){var t;t=App.Globalize.enabled_locales().length,App.I18n.set_pluralize($(".js-languages-description"),t)},initialize:function(){$(".js-add-language").on("change",function(){var t;t=$(this).val(),App.Globalize.display_translations(t),App.Globalize.display_locale(t),App.Globalize.update_description()}),$(".js-select-language").on("change",function(){App.Globalize.display_translations($(this).val())}),$(".js-delete-language").on("click",function(t){t.preventDefault(),App.Globalize.remove_language($(this).data("locale")),$(this).hide()}),$(".js-add-fields-container").on("cocoon:after-insert",function(){App.Globalize.enabled_locales().forEach(function(t){App.Globalize.enable_locale(t)})})}}}.call(this),function(){"use strict";App.SendAdminNotificationAlert={initialize:function(){$("#js-send-admin_notification-alert").on("click",function(){return confirm(this.dataset.alert)})}}}.call(this),function(){"use strict";App.Settings={initialize:function(){$("#settings-tabs").on("change.zf.tabs",function(){$("#tab-map-configuration:visible").length&&(App.Map.destroy(),App.Map.initialize())})}}}.call(this),function(){"use strict";App.Cookies={saveCookie:function(t,e,n){var i,o;o=n?((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),"; expires="+i.toGMTString()):"",document.cookie=t+"="+e+o+"; path=/"},getCookie:function(t){var e,n;return 0<document.cookie.length&&-1!==(n=document.cookie.indexOf(t+"="))?(n=n+t.length+1,-1===(e=document.cookie.indexOf(";",n))&&(e=document.cookie.length),unescape(document.cookie.substring(n,e))):""}}}.call(this),function(){"use strict";App.ColumnsSelector={initColumns:function(){var t;App.ColumnsSelector.hideAll(),0===(t=App.ColumnsSelector.currentValue()).length&&(t=$("#js-columns-selector").data("default"),App.Cookies.saveCookie($("#js-columns-selector").data("cookie"),t,30)),t.split(",").forEach(function(t){$("[data-field="+t+"]").removeClass("hidden"),$("#column_selector_"+t).prop("checked",!0)})},initChecks:function(){$(".column-selectable th[data-field]").each(function(){var t,e,n,i,o;t=$(this).data("field"),o=$(this).text().trim(),(n=$("#column_selector_item_template").clone()).prop("id","column_selector_item_"+t),(e=n.find("input")).prop("name","column-selector["+t+"]"),e.prop("id","column_selector_"+t),e.data("column",t),(i=n.find("label")).prop("for","column_selector_"+t),i.text(o),n.removeClass("hidden"),$("#js-columns-selector-wrapper").append(n)})},toggleOptions:function(t){t.preventDefault(),$("#js-columns-selector").toggleClass("hollow"),$("#js-columns-selector-wrapper").toggleClass("hidden")},hideAll:function(){$("[data-field]").addClass("hidden"),$(".column-selector-item input").prop("checked",!1)},toggleColumn:function(t){App.ColumnsSelector.displayColumn($(t.target).data("column"))},displayColumn:function(t){var e;$("#column_selector_"+t).prop("checked")?$("[data-field="+t+"]").removeClass("hidden"):$("[data-field="+t+"]").addClass("hidden"),e=App.ColumnsSelector.updateItem(t),App.Cookies.saveCookie($("#js-columns-selector").data("cookie"),e,30)},updateItem:function(t){var e,n;return 0<=(e=(n=App.ColumnsSelector.currentValue().split(",")).indexOf(t))?n.splice(e,1):n.push(t),n.join(",")},currentValue:function(){return App.Cookies.getCookie($("#js-columns-selector").data("cookie"))},initialize:function(){App.ColumnsSelector.initChecks(),App.ColumnsSelector.initColumns(),$("#js-columns-selector").on({click:function(t){App.ColumnsSelector.toggleOptions(t)}}),$(".column-selector-item input").on({click:function(t){App.ColumnsSelector.toggleColumn(t)}}),$(".column-selectable").on("inserted",function(){App.ColumnsSelector.initColumns()})},destroy:function(){$("#js-columns-selector-wrapper").children(":not(#column_selector_item_template)").remove()}}}.call(this),function(){"use strict";App.BudgetEditAssociations={initialize:function(){$(".js-budget-users-list [type='checkbox']").on({change:function(){var t,e;t=$("#administrators_list :checked").length,e=$("#valuators_list :checked").length,App.I18n.set_pluralize($(".js-budget-show-administrators-list"),t),App.I18n.set_pluralize($(".js-budget-show-valuators-list"),e)}}),$(".js-budget-show-users-list").on({click:function(t){var e;t.preventDefault(),e=$(this).data().toggle,$(".js-budget-users-list").each(function(){this.id===e||$(this).hasClass("is-hidden")||$(this).addClass("is-hidden")})}})}}}.call(this),function(){"use strict";App.Datepicker={initialize:function(){var t;t=$("#js-locale").data("current-locale"),$(".js-calendar").datepicker({maxDate:"+0d"}),$(".js-calendar-full").datepicker(),App.Datepicker.browser_supports_date_field()||$("input[type='date']").datepicker(),$.datepicker.setDefaults($.datepicker.regional[t]),$.datepicker.setDefaults({dateFormat:"dd/mm/yy"})},destroy:function(){$.datepicker.dpDiv.remove(),document.querySelectorAll("input.hasDatepicker").forEach(function(t){$(t).datepicker("hide"),$(t).datepicker("destroy")})},browser_supports_date_field:function(){var t;return(t=document.createElement("input")).setAttribute("type","date"),"date"===t.type}},document.addEventListener("turbolinks:before-render",function(t){$.datepicker.dpDiv.appendTo(t.data.newBody)})}.call(this);var initialize_modules=function(){"use strict";App.Answers.initialize(),App.Questions.initialize(),App.Comments.initialize(),App.Users.initialize(),App.Votes.initialize(),App.AllowParticipation.initialize(),App.Tags.initialize(),App.FoundationExtras.initialize(),App.LocationChanger.initialize(),App.CheckAllNone.initialize(),App.IeAlert.initialize(),App.AdvancedSearch.initialize(),App.RegistrationForm.initialize(),App.Suggest.initialize(),App.Forms.initialize(),App.ValuationBudgetInvestmentForm.initialize(),App.EmbedVideo.initialize(),App.FixedBar.initialize(),App.Banners.initialize(),App.SocialShare.initialize(),App.CheckboxToggle.initialize(),App.MarkdownEditor.initialize(),App.HTMLEditor.initialize(),App.LegislationAdmin.initialize(),App.Legislation.initialize(),$(".legislation-annotatable").length&&App.LegislationAnnotatable.initialize(),App.TreeNavigator.initialize(),App.Documentable.initialize(),App.Imageable.initialize(),App.TagAutocomplete.initialize(),App.PollsAdmin.initialize(),App.Map.initialize(),App.Polls.initialize(),App.Sortable.initialize(),App.TableSortable.initialize(),App.InvestmentReportAlert.initialize(),App.SendNewsletterAlert.initialize(),App.Managers.initialize(),App.Globalize.initialize(),App.SendAdminNotificationAlert.initialize(),App.Settings.initialize(),$("#js-columns-selector").length&&App.ColumnsSelector.initialize(),App.BudgetEditAssociations.initialize(),App.Datepicker.initialize()},destroy_non_idempotent_modules=function(){"use strict";App.ColumnsSelector.destroy(),App.Datepicker.destroy(),App.HTMLEditor.destroy(),App.LegislationAnnotatable.destroy(),App.Map.destroy(),App.SocialShare.destroy()};$(document).on("turbolinks:load",initialize_modules),$(document).on("turbolinks:before-cache",destroy_non_idempotent_modules);